!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).igv_webapp={})}(this,(function(e){"use strict";var t={Huffman:{},Util:{},CRC32:{},CompressionMethod:{DEFLATE:8,RESERVED:15},Zip:function(e){e=e||{},this.files=[],this.comment=e.comment,this.password}};t.Zip.CompressionMethod={STORE:0,DEFLATE:8},t.Zip.OperatingSystem={MSDOS:0,UNIX:3,MACINTOSH:7},t.Zip.Flags={ENCRYPT:1,DESCRIPTOR:8,UTF8:2048},t.Zip.FileHeaderSignature=[80,75,1,2],t.Zip.LocalFileHeaderSignature=[80,75,3,4],t.Zip.CentralDirectorySignature=[80,75,5,6],t.Zip.prototype.addFile=function(e,i){var n;(i=i||{}).filename;var r=e.length,a=0;if(e instanceof Array&&(e=new Uint8Array(e)),"number"!=typeof i.compressionMethod&&(i.compressionMethod=t.Zip.CompressionMethod.DEFLATE),i.compress)switch(i.compressionMethod){case t.Zip.CompressionMethod.STORE:break;case t.Zip.CompressionMethod.DEFLATE:a=t.CRC32.calc(e),e=this.deflateWithOption(e,i),n=!0;break;default:throw new Error("unknown compression method:"+i.compressionMethod)}this.files.push({buffer:e,option:i,compressed:n,encrypted:!1,size:r,crc32:a})},t.Zip.prototype.setPassword=function(e){this.password=e},t.Zip.prototype.compress=function(){var e,i,n,r,a,s,o,l,h,f,c,u,p,d,g,w,m,y,b,v,k,R,S,T,D,C,E=this.files,B=0,x=0;for(S=0,T=E.length;S<T;++S){if(d=(e=E[S]).option.filename?e.option.filename.length:0,g=e.option.extraField?e.option.extraField.length:0,w=e.option.comment?e.option.comment.length:0,!e.compressed)switch(e.crc32=t.CRC32.calc(e.buffer),e.option.compressionMethod){case t.Zip.CompressionMethod.STORE:break;case t.Zip.CompressionMethod.DEFLATE:e.buffer=this.deflateWithOption(e.buffer,e.option),e.compressed=!0;break;default:throw new Error("unknown compression method:"+e.option.compressionMethod)}if(void 0!==e.option.password||void 0!==this.password){for(R=this.createEncryptionKey(e.option.password||this.password),v=e.buffer,(k=new Uint8Array(v.length+12)).set(v,12),v=k,D=0;D<12;++D)v[D]=this.encode(R,11===S?255&e.crc32:256*Math.random()|0);for(C=v.length;D<C;++D)v[D]=this.encode(R,v[D]);e.buffer=v}B+=30+d+e.buffer.length,x+=46+d+w}for(s=22+(this.comment?this.comment.length:0),i=new Uint8Array(B+x+s),n=0,a=(r=B)+x,S=0,T=E.length;S<T;++S)d=(e=E[S]).option.filename?e.option.filename.length:0,g=0,w=e.option.comment?e.option.comment.length:0,o=n,i[n++]=t.Zip.LocalFileHeaderSignature[0],i[n++]=t.Zip.LocalFileHeaderSignature[1],i[n++]=t.Zip.LocalFileHeaderSignature[2],i[n++]=t.Zip.LocalFileHeaderSignature[3],i[r++]=t.Zip.FileHeaderSignature[0],i[r++]=t.Zip.FileHeaderSignature[1],i[r++]=t.Zip.FileHeaderSignature[2],i[r++]=t.Zip.FileHeaderSignature[3],20,i[r++]=20,i[r++]=e.option.os||t.Zip.OperatingSystem.MSDOS,i[n++]=i[r++]=20,i[n++]=i[r++]=0,l=0,(e.option.password||this.password)&&(l|=t.Zip.Flags.ENCRYPT),i[n++]=i[r++]=255&l,i[n++]=i[r++]=l>>8&255,h=e.option.compressionMethod,i[n++]=i[r++]=255&h,i[n++]=i[r++]=h>>8&255,f=e.option.date||new Date,i[n++]=i[r++]=(7&f.getMinutes())<<5|f.getSeconds()/2|0,i[n++]=i[r++]=f.getHours()<<3|f.getMinutes()>>3,i[n++]=i[r++]=(f.getMonth()+1&7)<<5|f.getDate(),i[n++]=i[r++]=(f.getFullYear()-1980&127)<<1|f.getMonth()+1>>3,c=e.crc32,i[n++]=i[r++]=255&c,i[n++]=i[r++]=c>>8&255,i[n++]=i[r++]=c>>16&255,i[n++]=i[r++]=c>>24&255,u=e.buffer.length,i[n++]=i[r++]=255&u,i[n++]=i[r++]=u>>8&255,i[n++]=i[r++]=u>>16&255,i[n++]=i[r++]=u>>24&255,p=e.size,i[n++]=i[r++]=255&p,i[n++]=i[r++]=p>>8&255,i[n++]=i[r++]=p>>16&255,i[n++]=i[r++]=p>>24&255,i[n++]=i[r++]=255&d,i[n++]=i[r++]=d>>8&255,i[n++]=i[r++]=255&g,i[n++]=i[r++]=g>>8&255,i[r++]=255&w,i[r++]=w>>8&255,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=255&o,i[r++]=o>>8&255,i[r++]=o>>16&255,i[r++]=o>>24&255,(m=e.option.filename)&&(i.set(m,n),i.set(m,r),n+=d,r+=d),(y=e.option.extraField)&&(i.set(y,n),i.set(y,r),n+=g,r+=g),(b=e.option.comment)&&(i.set(b,r),r+=w),i.set(e.buffer,n),n+=e.buffer.length;return i[a++]=t.Zip.CentralDirectorySignature[0],i[a++]=t.Zip.CentralDirectorySignature[1],i[a++]=t.Zip.CentralDirectorySignature[2],i[a++]=t.Zip.CentralDirectorySignature[3],i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=255&T,i[a++]=T>>8&255,i[a++]=255&T,i[a++]=T>>8&255,i[a++]=255&x,i[a++]=x>>8&255,i[a++]=x>>16&255,i[a++]=x>>24&255,i[a++]=255&B,i[a++]=B>>8&255,i[a++]=B>>16&255,i[a++]=B>>24&255,w=this.comment?this.comment.length:0,i[a++]=255&w,i[a++]=w>>8&255,this.comment&&(i.set(this.comment,a),a+=w),i},t.Zip.prototype.deflateWithOption=function(e,i){return new t.RawDeflate(e,i.deflateOption).compress()},t.Zip.prototype.getByte=function(e){var t=65535&e[2]|2;return t*(1^t)>>8&255},t.Zip.prototype.encode=function(e,t){var i=this.getByte(e);return this.updateKeys(e,t),i^t},t.Zip.prototype.updateKeys=function(e,i){e[0]=t.CRC32.single(e[0],i),e[1]=1+(6681*(20173*(e[1]+(255&e[0]))>>>0)>>>0)>>>0,e[2]=t.CRC32.single(e[2],e[1]>>>24)},t.Zip.prototype.createEncryptionKey=function(e){var t,i,n=[305419896,591751049,878082192];for(n=new Uint32Array(n),t=0,i=e.length;t<i;++t)this.updateKeys(n,255&e[t]);return n},t.Huffman.buildHuffmanTable=function(e){var t,i,n,r,a,s,o,l,h,f,c,u=e.length,p=0,d=Number.POSITIVE_INFINITY;for(l=0,h=u;l<h;++l)e[l]>p&&(p=e[l]),e[l]<d&&(d=e[l]);for(t=1<<p,i=new Uint32Array(t),n=1,r=0,a=2;n<=p;){for(l=0;l<u;++l)if(e[l]===n){for(s=0,o=r,f=0;f<n;++f)s=s<<1|1&o,o>>=1;for(c=n<<16|l,f=s;f<t;f+=a)i[f]=c;++r}++n,r<<=1,a<<=1}return[i,p,d]};var i=t.Huffman.buildHuffmanTable;t.RawInflate=function(e,i){switch(this.buffer,this.blocks=[],this.bufferSize=32768,this.totalpos=0,this.ip=0,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.output,this.op,this.bfinal=!1,this.bufferType=t.RawInflate.BufferType.ADAPTIVE,this.resize=!1,!i&&(i={})||(i.index&&(this.ip=i.index),i.bufferSize&&(this.bufferSize=i.bufferSize),i.bufferType&&(this.bufferType=i.bufferType),i.resize&&(this.resize=i.resize)),this.bufferType){case t.RawInflate.BufferType.BLOCK:this.op=t.RawInflate.MaxBackwardLength,this.output=new Uint8Array(t.RawInflate.MaxBackwardLength+this.bufferSize+t.RawInflate.MaxCopyLength);break;case t.RawInflate.BufferType.ADAPTIVE:this.op=0,this.output=new Uint8Array(this.bufferSize);break;default:throw new Error("invalid inflate mode")}},t.RawInflate.BufferType={BLOCK:0,ADAPTIVE:1},t.RawInflate.prototype.decompress=function(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case t.RawInflate.BufferType.BLOCK:return this.concatBufferBlock();case t.RawInflate.BufferType.ADAPTIVE:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}},t.RawInflate.MaxBackwardLength=32768,t.RawInflate.MaxCopyLength=258,t.RawInflate.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t.RawInflate.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),t.RawInflate.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),t.RawInflate.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),t.RawInflate.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),t.RawInflate.FixedLiteralLengthTable=function(){var e,t,n=new Uint8Array(288);for(e=0,t=n.length;e<t;++e)n[e]=e<=143?8:e<=255?9:e<=279?7:8;return i(n)}(),t.RawInflate.FixedDistanceTable=function(){var e,t,n=new Uint8Array(30);for(e=0,t=n.length;e<t;++e)n[e]=5;return i(n)}(),t.RawInflate.prototype.parseBlock=function(){var e=this.readBits(3);switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+e)}},t.RawInflate.prototype.readBits=function(e){var t,i=this.bitsbuf,n=this.bitsbuflen,r=this.input,a=this.ip;if(a+(e-n+7>>3)>=r.length)throw new Error("input buffer is broken");for(;n<e;)i|=r[a++]<<n,n+=8;return t=i&(1<<e)-1,i>>>=e,n-=e,this.bitsbuf=i,this.bitsbuflen=n,this.ip=a,t},t.RawInflate.prototype.readCodeByTable=function(e){for(var t,i,n=this.bitsbuf,r=this.bitsbuflen,a=this.input,s=this.ip,o=a.length,l=e[0],h=e[1];r<h&&!(s>=o);)n|=a[s++]<<r,r+=8;if((i=(t=l[n&(1<<h)-1])>>>16)>r)throw new Error("invalid code length: "+i);return this.bitsbuf=n>>i,this.bitsbuflen=r-i,this.ip=s,65535&t},t.RawInflate.prototype.parseUncompressedBlock=function(){var e,i,n=this.input,r=this.ip,a=this.output,s=this.op,o=n.length,l=a.length;if(this.bitsbuf=0,this.bitsbuflen=0,r+1>=o)throw new Error("invalid uncompressed block header: LEN");if(e=n[r++]|n[r++]<<8,r+1>=o)throw new Error("invalid uncompressed block header: NLEN");if(e===~(n[r++]|n[r++]<<8))throw new Error("invalid uncompressed block header: length verify");if(r+e>n.length)throw new Error("input buffer is broken");switch(this.bufferType){case t.RawInflate.BufferType.BLOCK:for(;s+e>a.length;)e-=i=l-s,a.set(n.subarray(r,r+i),s),s+=i,r+=i,this.op=s,a=this.expandBufferBlock(),s=this.op;break;case t.RawInflate.BufferType.ADAPTIVE:for(;s+e>a.length;)a=this.expandBufferAdaptive({fixRatio:2});break;default:throw new Error("invalid inflate mode")}a.set(n.subarray(r,r+e),s),s+=e,r+=e,this.ip=r,this.op=s,this.output=a},t.RawInflate.prototype.parseFixedHuffmanBlock=function(){switch(this.bufferType){case t.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(t.RawInflate.FixedLiteralLengthTable,t.RawInflate.FixedDistanceTable);break;case t.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(t.RawInflate.FixedLiteralLengthTable,t.RawInflate.FixedDistanceTable);break;default:throw new Error("invalid inflate mode")}},t.RawInflate.prototype.parseDynamicHuffmanBlock=function(){var e,n,r,a,s,o,l,h,f,c=this.readBits(5)+257,u=this.readBits(5)+1,p=this.readBits(4)+4,d=new Uint8Array(t.RawInflate.Order.length);for(h=0;h<p;++h)d[t.RawInflate.Order[h]]=this.readBits(3);for(e=i(d),a=new Uint8Array(c+u),h=0,f=c+u;h<f;)switch(s=this.readCodeByTable(e)){case 16:for(l=3+this.readBits(2);l--;)a[h++]=o;break;case 17:for(l=3+this.readBits(3);l--;)a[h++]=0;o=0;break;case 18:for(l=11+this.readBits(7);l--;)a[h++]=0;o=0;break;default:a[h++]=s,o=s}switch(n=i(a.subarray(0,c)),r=i(a.subarray(c)),this.bufferType){case t.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(n,r);break;case t.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(n,r);break;default:throw new Error("invalid inflate mode")}},t.RawInflate.prototype.decodeHuffmanBlock=function(e,i){var n=this.output,r=this.op;this.currentLitlenTable=e;for(var a,s,o,l,h=n.length-t.RawInflate.MaxCopyLength,f=t.RawInflate.LengthCodeTable,c=t.RawInflate.LengthExtraTable,u=t.RawInflate.DistCodeTable,p=t.RawInflate.DistExtraTable;256!==(a=this.readCodeByTable(e));)if(a<256)r>=h&&(this.op=r,n=this.expandBufferBlock(),r=this.op),n[r++]=a;else for(l=f[s=a-257],c[s]>0&&(l+=this.readBits(c[s])),o=u[a=this.readCodeByTable(i)],p[a]>0&&(o+=this.readBits(p[a])),r>=h&&(this.op=r,n=this.expandBufferBlock(),r=this.op);l--;)n[r]=n[r++-o];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=r},t.RawInflate.prototype.decodeHuffmanAdaptive=function(e,i){var n=this.output,r=this.op;this.currentLitlenTable=e;for(var a,s,o,l,h=n.length,f=t.RawInflate.LengthCodeTable,c=t.RawInflate.LengthExtraTable,u=t.RawInflate.DistCodeTable,p=t.RawInflate.DistExtraTable;256!==(a=this.readCodeByTable(e));)if(a<256)r>=h&&(h=(n=this.expandBufferAdaptive()).length),n[r++]=a;else for(l=f[s=a-257],c[s]>0&&(l+=this.readBits(c[s])),o=u[a=this.readCodeByTable(i)],p[a]>0&&(o+=this.readBits(p[a])),r+l>h&&(h=(n=this.expandBufferAdaptive()).length);l--;)n[r]=n[r++-o];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=r},t.RawInflate.prototype.expandBufferBlock=function(e){var i=new Uint8Array(this.op-t.RawInflate.MaxBackwardLength),n=this.op-t.RawInflate.MaxBackwardLength,r=this.output;return i.set(r.subarray(t.RawInflate.MaxBackwardLength,i.length)),this.blocks.push(i),this.totalpos+=i.length,r.set(r.subarray(n,n+t.RawInflate.MaxBackwardLength)),this.op=t.RawInflate.MaxBackwardLength,r},t.RawInflate.prototype.expandBufferAdaptive=function(e){var t,i,n,r=this.input.length/this.ip+1|0,a=this.input,s=this.output;return e&&("number"==typeof e.fixRatio&&(r=e.fixRatio),"number"==typeof e.addRatio&&(r+=e.addRatio)),i=r<2?(n=(a.length-this.ip)/this.currentLitlenTable[2]/2*258|0)<s.length?s.length+n:s.length<<1:s.length*r,(t=new Uint8Array(i)).set(s),this.output=t,this.output},t.RawInflate.prototype.concatBufferBlock=function(){var e,i,n,r,a,s=0,o=this.totalpos+(this.op-t.RawInflate.MaxBackwardLength),l=this.output,h=this.blocks,f=new Uint8Array(o);if(0===h.length)return this.output.subarray(t.RawInflate.MaxBackwardLength,this.op);for(i=0,n=h.length;i<n;++i)for(r=0,a=(e=h[i]).length;r<a;++r)f[s++]=e[r];for(i=t.RawInflate.MaxBackwardLength,n=this.op;i<n;++i)f[s++]=l[i];return this.blocks=[],this.buffer=f,this.buffer},t.RawInflate.prototype.concatBufferDynamic=function(){var e,t=this.op;return this.resize?(e=new Uint8Array(t)).set(this.output.subarray(0,t)):e=this.output.subarray(0,t),this.buffer=e,this.buffer};var n;i=t.Huffman.buildHuffmanTable;function r(e){return"string"==typeof e||e instanceof String}function a(e){return e.includes("googleapis")&&!e.includes("urlshortener")||s(e)||o(e)}function s(e){return e.startsWith("gs://")||e.startsWith("https://www.googleapis.com/storage")||e.startsWith("https://storage.cloud.google.com")||e.startsWith("https://storage.googleapis.com")}function o(e){return e.indexOf("drive.google.com")>=0||e.indexOf("www.googleapis.com/drive")>0}function l(e){let{bucket:t,object:i}=function(e){let t,i;if(e.startsWith("gs://")){const n=e.indexOf("/",5);if(n>=0){t=e.substring(5,n);const r=e.indexOf("?");i=r<0?e.substring(n+1):e.substring(n+1,r)}}else if(e.startsWith("https://storage.googleapis.com")||e.startsWith("https://storage.cloud.google.com")){const n=e.indexOf("/v1/b/",8);if(n>0){const r=e.indexOf("/o/",n);if(r>0){const a=e.indexOf("?",r);t=e.substring(n+6,r),i=a>0?e.substring(r+3,a):e.substring(r+3)}}else{const n=e.indexOf("/",8),r=e.indexOf("/",n+1),a=e.indexOf("?",r);r>0&&(t=e.substring(n+1,r),i=a<0?e.substring(r+1):e.substring(r+1,a))}}else if(e.startsWith("https://www.googleapis.com/storage/v1/b")){const n=e.indexOf("/v1/b/",8),r=e.indexOf("/o/",n);if(r>0){const a=e.indexOf("?",r);t=e.substring(n+6,r),i=a>0?e.substring(r+3,a):e.substring(r+3)}}if(t&&i)return{bucket:t,object:i};throw Error(`Unrecognized Google Storage URI: ${e}`)}(e);i=function(e){let t="";return e.split("").forEach((function(e){c.has(e)?t+=c.get(e):t+=e})),t}(i);const n=e.indexOf("?");return`https://storage.googleapis.com/storage/v1/b/${t}/o/${i}${n>0?e.substring(n)+"&alt=media":"?alt=media"}`}function h(e){var t=f(e);return t?"https://www.googleapis.com/drive/v3/files/"+t+"?alt=media&supportsTeamDrives=true":e}function f(e){if(e.includes("/open?id=")){const t=e.indexOf("/open?id=")+9,i=e.indexOf("&");if(t>0&&i>t)return e.substring(t,i);if(t>0)return e.substring(t)}else{if(e.includes("/file/d/")){const t=e.indexOf("/file/d/")+8,i=e.lastIndexOf("/");return e.substring(t,i)}if(e.startsWith("https://www.googleapis.com/drive")){let t=e.indexOf("/files/");const i=e.indexOf("?");if(t>0)return t+=7,i>0?e.substring(t,i):e.substring(t)}}throw Error("Unknown Google Drive url format: "+e)}t.RawInflateStream=function(e,i,n){this.blocks=[],this.bufferSize=n||65e3,this.totalpos=0,this.ip=void 0===i?0:i,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.output=new Uint8Array(this.bufferSize),this.op=0,this.bfinal=!1,this.blockLength,this.resize=!1,this.litlenTable,this.distTable,this.sp=0,this.status=t.RawInflateStream.Status.INITIALIZED,this.ip_,this.bitsbuflen_,this.bitsbuf_},t.RawInflateStream.BlockType={UNCOMPRESSED:0,FIXED:1,DYNAMIC:2},t.RawInflateStream.Status={INITIALIZED:0,BLOCK_HEADER_START:1,BLOCK_HEADER_END:2,BLOCK_BODY_START:3,BLOCK_BODY_END:4,DECODE_BLOCK_START:5,DECODE_BLOCK_END:6},t.RawInflateStream.prototype.decompress=function(e,i){var n=!1;for(void 0!==e&&(this.input=e),void 0!==i&&(this.ip=i);!n;)switch(this.status){case t.RawInflateStream.Status.INITIALIZED:case t.RawInflateStream.Status.BLOCK_HEADER_START:this.readBlockHeader()<0&&(n=!0);break;case t.RawInflateStream.Status.BLOCK_HEADER_END:case t.RawInflateStream.Status.BLOCK_BODY_START:switch(this.currentBlockType){case t.RawInflateStream.BlockType.UNCOMPRESSED:this.readUncompressedBlockHeader()<0&&(n=!0);break;case t.RawInflateStream.BlockType.FIXED:this.parseFixedHuffmanBlock()<0&&(n=!0);break;case t.RawInflateStream.BlockType.DYNAMIC:this.parseDynamicHuffmanBlock()<0&&(n=!0)}break;case t.RawInflateStream.Status.BLOCK_BODY_END:case t.RawInflateStream.Status.DECODE_BLOCK_START:switch(this.currentBlockType){case t.RawInflateStream.BlockType.UNCOMPRESSED:this.parseUncompressedBlock()<0&&(n=!0);break;case t.RawInflateStream.BlockType.FIXED:case t.RawInflateStream.BlockType.DYNAMIC:this.decodeHuffman()<0&&(n=!0)}break;case t.RawInflateStream.Status.DECODE_BLOCK_END:this.bfinal?n=!0:this.status=t.RawInflateStream.Status.INITIALIZED}return this.concatBuffer()},t.RawInflateStream.MaxBackwardLength=32768,t.RawInflateStream.MaxCopyLength=258,t.RawInflateStream.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t.RawInflateStream.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),t.RawInflateStream.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),t.RawInflateStream.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),t.RawInflateStream.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),t.RawInflateStream.FixedLiteralLengthTable=function(){var e,t,n=new Uint8Array(288);for(e=0,t=n.length;e<t;++e)n[e]=e<=143?8:e<=255?9:e<=279?7:8;return i(n)}(),t.RawInflateStream.FixedDistanceTable=function(){var e,t,n=new Uint8Array(30);for(e=0,t=n.length;e<t;++e)n[e]=5;return i(n)}(),t.RawInflateStream.prototype.readBlockHeader=function(){var e;if(this.status=t.RawInflateStream.Status.BLOCK_HEADER_START,this.save_(),(e=this.readBits(3))<0)return this.restore_(),-1;switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.currentBlockType=t.RawInflateStream.BlockType.UNCOMPRESSED;break;case 1:this.currentBlockType=t.RawInflateStream.BlockType.FIXED;break;case 2:this.currentBlockType=t.RawInflateStream.BlockType.DYNAMIC;break;default:throw new Error("unknown BTYPE: "+e)}this.status=t.RawInflateStream.Status.BLOCK_HEADER_END},t.RawInflateStream.prototype.readBits=function(e){for(var t,i=this.bitsbuf,n=this.bitsbuflen,r=this.input,a=this.ip;n<e;){if(r.length<=a)return-1;i|=(t=r[a++])<<n,n+=8}return t=i&(1<<e)-1,i>>>=e,n-=e,this.bitsbuf=i,this.bitsbuflen=n,this.ip=a,t},t.RawInflateStream.prototype.readCodeByTable=function(e){for(var t,i,n=this.bitsbuf,r=this.bitsbuflen,a=this.input,s=this.ip,o=e[0],l=e[1];r<l;){if(a.length<=s)return-1;n|=a[s++]<<r,r+=8}if((i=(t=o[n&(1<<l)-1])>>>16)>r)throw new Error("invalid code length: "+i);return this.bitsbuf=n>>i,this.bitsbuflen=r-i,this.ip=s,65535&t},t.RawInflateStream.prototype.readUncompressedBlockHeader=function(){var e,i=this.input,n=this.ip;if(this.status=t.RawInflateStream.Status.BLOCK_BODY_START,n+4>=i.length)return-1;if((e=i[n++]|i[n++]<<8)===~(i[n++]|i[n++]<<8))throw new Error("invalid uncompressed block header: length verify");this.bitsbuf=0,this.bitsbuflen=0,this.ip=n,this.blockLength=e,this.status=t.RawInflateStream.Status.BLOCK_BODY_END},t.RawInflateStream.prototype.parseUncompressedBlock=function(){var e=this.input,i=this.ip,n=this.output,r=this.op,a=this.blockLength;for(this.status=t.RawInflateStream.Status.DECODE_BLOCK_START;a--;){if(r===n.length&&(n=this.expandBuffer({fixRatio:2})),i>=e.length)return this.ip=i,this.op=r,this.blockLength=a+1,-1;n[r++]=e[i++]}return a<0&&(this.status=t.RawInflateStream.Status.DECODE_BLOCK_END),this.ip=i,this.op=r,0},t.RawInflateStream.prototype.parseFixedHuffmanBlock=function(){return this.status=t.RawInflateStream.Status.BLOCK_BODY_START,this.litlenTable=t.RawInflateStream.FixedLiteralLengthTable,this.distTable=t.RawInflateStream.FixedDistanceTable,this.status=t.RawInflateStream.Status.BLOCK_BODY_END,0},t.RawInflateStream.prototype.save_=function(){this.ip_=this.ip,this.bitsbuflen_=this.bitsbuflen,this.bitsbuf_=this.bitsbuf},t.RawInflateStream.prototype.restore_=function(){this.ip=this.ip_,this.bitsbuflen=this.bitsbuflen_,this.bitsbuf=this.bitsbuf_},t.RawInflateStream.prototype.parseDynamicHuffmanBlock=function(){var e,n,r,a,s=new Uint8Array(t.RawInflateStream.Order.length);if(this.status=t.RawInflateStream.Status.BLOCK_BODY_START,this.save_(),e=this.readBits(5)+257,n=this.readBits(5)+1,r=this.readBits(4)+4,e<0||n<0||r<0)return this.restore_(),-1;try{(function(){var o,l,h,f,c,u,p=0;for(c=0;c<r;++c){if((o=this.readBits(3))<0)throw new Error("not enough input");s[t.RawInflateStream.Order[c]]=o}for(a=i(s),f=new Uint8Array(e+n),c=0,u=e+n;c<u;){if((l=this.readCodeByTable(a))<0)throw new Error("not enough input");switch(l){case 16:if((o=this.readBits(2))<0)throw new Error("not enough input");for(h=3+o;h--;)f[c++]=p;break;case 17:if((o=this.readBits(3))<0)throw new Error("not enough input");for(h=3+o;h--;)f[c++]=0;p=0;break;case 18:if((o=this.readBits(7))<0)throw new Error("not enough input");for(h=11+o;h--;)f[c++]=0;p=0;break;default:f[c++]=l,p=l}}this.litlenTable=i(f.subarray(0,e)),this.distTable=i(f.subarray(e))}).call(this)}catch(e){return this.restore_(),-1}return this.status=t.RawInflateStream.Status.BLOCK_BODY_END,0},t.RawInflateStream.prototype.decodeHuffman=function(){var e,i,n,r,a,s=this.output,o=this.op,l=this.litlenTable,h=this.distTable,f=s.length;for(this.status=t.RawInflateStream.Status.DECODE_BLOCK_START;;){if(this.save_(),(e=this.readCodeByTable(l))<0)return this.op=o,this.restore_(),-1;if(256===e)break;if(e<256)o===f&&(f=(s=this.expandBuffer()).length),s[o++]=e;else{if(i=e-257,r=t.RawInflateStream.LengthCodeTable[i],t.RawInflateStream.LengthExtraTable[i]>0){if((a=this.readBits(t.RawInflateStream.LengthExtraTable[i]))<0)return this.op=o,this.restore_(),-1;r+=a}if((e=this.readCodeByTable(h))<0)return this.op=o,this.restore_(),-1;if(n=t.RawInflateStream.DistCodeTable[e],t.RawInflateStream.DistExtraTable[e]>0){if((a=this.readBits(t.RawInflateStream.DistExtraTable[e]))<0)return this.op=o,this.restore_(),-1;n+=a}for(o+r>=f&&(f=(s=this.expandBuffer()).length);r--;)s[o]=s[o++-n];if(this.ip===this.input.length)return this.op=o,-1}}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=o,this.status=t.RawInflateStream.Status.DECODE_BLOCK_END},t.RawInflateStream.prototype.expandBuffer=function(e){var t,i,n,r=this.input.length/this.ip+1|0,a=this.input,s=this.output;return e&&("number"==typeof e.fixRatio&&(r=e.fixRatio),"number"==typeof e.addRatio&&(r+=e.addRatio)),i=r<2?(n=(a.length-this.ip)/this.litlenTable[2]/2*258|0)<s.length?s.length+n:s.length<<1:s.length*r,(t=new Uint8Array(i)).set(s),this.output=t,this.output},t.RawInflateStream.prototype.concatBuffer=function(){var e,i,n=this.op;return e=this.resize?new Uint8Array(this.output.subarray(this.sp,n)):this.output.subarray(this.sp,n),this.sp=n,n>t.RawInflateStream.MaxBackwardLength+this.bufferSize&&(this.op=this.sp=t.RawInflateStream.MaxBackwardLength,i=this.output,this.output=new Uint8Array(this.bufferSize+t.RawInflateStream.MaxBackwardLength),this.output.set(i.subarray(n-t.RawInflateStream.MaxBackwardLength,n))),e},t.Inflate=function(e,i){var n,r;switch(this.input=e,this.ip=0,this.rawinflate,this.verify,!i&&(i={})||(i.index&&(this.ip=i.index),i.verify&&(this.verify=i.verify)),n=e[this.ip++],r=e[this.ip++],15&n){case t.CompressionMethod.DEFLATE:this.method=t.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((n<<8)+r)%31!=0)throw new Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw new Error("fdict flag is not supported");this.rawinflate=new t.RawInflate(e,{index:this.ip,bufferSize:i.bufferSize,bufferType:i.bufferType,resize:i.resize})},t.Inflate.BufferType=t.RawInflate.BufferType,t.Inflate.prototype.decompress=function(){var e,i=this.input;if(e=this.rawinflate.decompress(),this.ip=this.rawinflate.ip,this.verify&&(i[this.ip++]<<24|i[this.ip++]<<16|i[this.ip++]<<8|i[this.ip++])>>>0!==t.Adler32(e))throw new Error("invalid adler-32 checksum");return e},t.InflateStream=function(e){this.input=void 0===e?new Uint8Array:e,this.ip=0,this.rawinflate=new t.RawInflateStream(this.input,this.ip),this.method,this.output=this.rawinflate.output},t.InflateStream.prototype.decompress=function(e){var t;if(void 0!==e){var i=new Uint8Array(this.input.length+e.length);i.set(this.input,0),i.set(e,this.input.length),this.input=i}return void 0===this.method&&this.readHeader()<0?new Uint8Array:(t=this.rawinflate.decompress(this.input,this.ip),0!==this.rawinflate.ip&&(this.input=this.input.subarray(this.rawinflate.ip),this.ip=0),t)},t.InflateStream.prototype.readHeader=function(){var e=this.ip,i=this.input,n=i[e++],r=i[e++];if(void 0===n||void 0===r)return-1;switch(15&n){case t.CompressionMethod.DEFLATE:this.method=t.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((n<<8)+r)%31!=0)throw new Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw new Error("fdict flag is not supported");this.ip=e},t.Gunzip=function(e,t){this.input=e,this.ip=0,this.member=[],this.decompressed=!1},t.Gunzip.prototype.getMembers=function(){return this.decompressed||this.decompress(),this.member.slice()},t.Gunzip.prototype.decompress=function(){for(var e=this.input.length;this.ip<e;)this.decodeMember();return this.decompressed=!0,this.concatMember()},t.Gunzip.prototype.decodeMember=function(){var e,i,n,r,a,s,o,l,h,f=new t.GunzipMember,c=this.input,u=this.ip;if(f.id1=c[u++],f.id2=c[u++],31!==f.id1||139!==f.id2)throw new Error("invalid file signature:"+f.id1+","+f.id2);switch(f.cm=c[u++],f.cm){case 8:break;default:throw new Error("unknown compression method: "+f.cm)}if(f.flg=c[u++],l=c[u++]|c[u++]<<8|c[u++]<<16|c[u++]<<24,f.mtime=new Date(1e3*l),f.xfl=c[u++],f.os=c[u++],(f.flg&t.Gzip.FlagsMask.FEXTRA)>0&&(f.xlen=c[u++]|c[u++]<<8,u=this.decodeSubField(u,f.xlen)),(f.flg&t.Gzip.FlagsMask.FNAME)>0){for(o=[],s=0;(a=c[u++])>0;)o[s++]=String.fromCharCode(a);f.name=o.join("")}if((f.flg&t.Gzip.FlagsMask.FCOMMENT)>0){for(o=[],s=0;(a=c[u++])>0;)o[s++]=String.fromCharCode(a);f.comment=o.join("")}if((f.flg&t.Gzip.FlagsMask.FHCRC)>0&&(f.crc16=65535&t.CRC32.calc(c,0,u),f.crc16!==(c[u++]|c[u++]<<8)))throw new Error("invalid header crc16");if(e=c[c.length-4]|c[c.length-3]<<8|c[c.length-2]<<16|c[c.length-1]<<24,c.length-u-4-4<512*e&&(r=e),i=new t.RawInflate(c,{index:u,bufferSize:r}),f.data=n=i.decompress(),u=i.ip,f.crc32=h=(c[u++]|c[u++]<<8|c[u++]<<16|c[u++]<<24)>>>0,t.CRC32.calc(n)!==h)throw new Error("invalid CRC-32 checksum: 0x"+t.CRC32.calc(n).toString(16)+" / 0x"+h.toString(16));if(f.isize=e=(c[u++]|c[u++]<<8|c[u++]<<16|c[u++]<<24)>>>0,(4294967295&n.length)!==e)throw new Error("invalid input size: "+(4294967295&n.length)+" / "+e);this.member.push(f),this.ip=u},t.Gunzip.prototype.decodeSubField=function(e,t){return e+t},t.Gunzip.prototype.concatMember=function(){var e,t,i,n=this.member,r=0,a=0;for(e=0,t=n.length;e<t;++e)a+=n[e].data.length;for(i=new Uint8Array(a),e=0;e<t;++e)i.set(n[e].data,r),r+=n[e].data.length;return i},t.GunzipMember=function(){this.id1,this.id2,this.cm,this.flg,this.mtime,this.xfl,this.os,this.crc16,this.xlen,this.crc32,this.isize,this.name,this.comment,this.data},t.GunzipMember.prototype.getName=function(){return this.name},t.GunzipMember.prototype.getData=function(){return this.data},t.GunzipMember.prototype.getMtime=function(){return this.mtime},t.Gzip=function(e,t){this.input=e,this.ip=0,this.output,this.op=0,this.flags={},this.filename,this.comment,this.deflateOptions,t&&(t.flags&&(this.flags=t.flags),"string"==typeof t.filename&&(this.filename=t.filename),"string"==typeof t.comment&&(this.comment=t.comment),t.deflateOptions&&(this.deflateOptions=t.deflateOptions)),this.deflateOptions||(this.deflateOptions={})},t.Gzip.DefaultBufferSize=32768,t.Gzip.prototype.compress=function(){var e,i,n,r,a,s,o,l,h=new Uint8Array(t.Gzip.DefaultBufferSize),f=0,c=this.input,u=this.ip,p=this.filename,d=this.comment;if(h[f++]=31,h[f++]=139,h[f++]=8,e=0,this.flags.fname&&(e|=t.Gzip.FlagsMask.FNAME),this.flags.fcomment&&(e|=t.Gzip.FlagsMask.FCOMMENT),this.flags.fhcrc&&(e|=t.Gzip.FlagsMask.FHCRC),h[f++]=e,i=(Date.now?Date.now():+new Date)/1e3|0,h[f++]=255&i,h[f++]=i>>>8&255,h[f++]=i>>>16&255,h[f++]=i>>>24&255,h[f++]=0,h[f++]=t.Gzip.OperatingSystem.UNKNOWN,void 0!==this.flags.fname){for(o=0,l=p.length;o<l;++o)(s=p.charCodeAt(o))>255&&(h[f++]=s>>>8&255),h[f++]=255&s;h[f++]=0}if(this.flags.comment){for(o=0,l=d.length;o<l;++o)(s=d.charCodeAt(o))>255&&(h[f++]=s>>>8&255),h[f++]=255&s;h[f++]=0}return this.flags.fhcrc&&(n=65535&t.CRC32.calc(h,0,f),h[f++]=255&n,h[f++]=n>>>8&255),this.deflateOptions.outputBuffer=h,this.deflateOptions.outputIndex=f,h=(a=new t.RawDeflate(c,this.deflateOptions)).compress(),(f=a.op)+8>h.buffer.byteLength?(this.output=new Uint8Array(f+8),this.output.set(new Uint8Array(h.buffer)),h=this.output):h=new Uint8Array(h.buffer),r=t.CRC32.calc(c),h[f++]=255&r,h[f++]=r>>>8&255,h[f++]=r>>>16&255,h[f++]=r>>>24&255,l=c.length,h[f++]=255&l,h[f++]=l>>>8&255,h[f++]=l>>>16&255,h[f++]=l>>>24&255,this.ip=u,f<h.length&&(this.output=h=h.subarray(0,f)),h},t.Gzip.OperatingSystem={FAT:0,AMIGA:1,VMS:2,UNIX:3,VM_CMS:4,ATARI_TOS:5,HPFS:6,MACINTOSH:7,Z_SYSTEM:8,CP_M:9,TOPS_20:10,NTFS:11,QDOS:12,ACORN_RISCOS:13,UNKNOWN:255},t.Gzip.FlagsMask={FTEXT:1,FHCRC:2,FEXTRA:4,FNAME:8,FCOMMENT:16},t.Heap=function(e){this.buffer=new Uint16Array(2*e),this.length=0},t.Heap.prototype.getParent=function(e){return 2*((e-2)/4|0)},t.Heap.prototype.getChild=function(e){return 2*e+2},t.Heap.prototype.push=function(e,t){var i,n,r,a=this.buffer;for(i=this.length,a[this.length++]=t,a[this.length++]=e;i>0&&(n=this.getParent(i),a[i]>a[n]);)r=a[i],a[i]=a[n],a[n]=r,r=a[i+1],a[i+1]=a[n+1],a[n+1]=r,i=n;return this.length},t.Heap.prototype.pop=function(){var e,t,i,n,r,a=this.buffer;for(t=a[0],e=a[1],this.length-=2,a[0]=a[this.length],a[1]=a[this.length+1],r=0;!((n=this.getChild(r))>=this.length)&&(n+2<this.length&&a[n+2]>a[n]&&(n+=2),a[n]>a[r]);)i=a[r],a[r]=a[n],a[n]=i,i=a[r+1],a[r+1]=a[n+1],a[n+1]=i,r=n;return{index:e,value:t,length:this.length}},t.RawDeflate=function(e,i){this.compressionType=t.RawDeflate.CompressionType.DYNAMIC,this.lazy=0,this.freqsLitLen,this.freqsDist,this.input=e instanceof Array?new Uint8Array(e):e,this.output,this.op=0,i&&(i.lazy&&(this.lazy=i.lazy),"number"==typeof i.compressionType&&(this.compressionType=i.compressionType),i.outputBuffer&&(this.output=i.outputBuffer instanceof Array?new Uint8Array(i.outputBuffer):i.outputBuffer),"number"==typeof i.outputIndex&&(this.op=i.outputIndex)),this.output||(this.output=new Uint8Array(32768))},t.RawDeflate.CompressionType={NONE:0,FIXED:1,DYNAMIC:2,RESERVED:3},t.RawDeflate.Lz77MinLength=3,t.RawDeflate.Lz77MaxLength=258,t.RawDeflate.WindowSize=32768,t.RawDeflate.MaxCodeLength=16,t.RawDeflate.HUFMAX=286,t.RawDeflate.FixedHuffmanTable=function(){var e,t=[];for(e=0;e<288;e++)switch(!0){case e<=143:t.push([e+48,8]);break;case e<=255:t.push([e-144+400,9]);break;case e<=279:t.push([e-256+0,7]);break;case e<=287:t.push([e-280+192,8]);break;default:throw"invalid literal: "+e}return t}(),t.RawDeflate.prototype.compress=function(){var e,i,n,r=this.input;switch(this.compressionType){case t.RawDeflate.CompressionType.NONE:for(i=0,n=r.length;i<n;)i+=(e=r.subarray(i,i+65535)).length,this.makeNocompressBlock(e,i===n);break;case t.RawDeflate.CompressionType.FIXED:this.output=this.makeFixedHuffmanBlock(r,!0),this.op=this.output.length;break;case t.RawDeflate.CompressionType.DYNAMIC:this.output=this.makeDynamicHuffmanBlock(r,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output},t.RawDeflate.prototype.makeNocompressBlock=function(e,i){var n,r,a,s,o=this.output,l=this.op;for(o=new Uint8Array(this.output.buffer);o.length<=l+e.length+5;)o=new Uint8Array(o.length<<1);return o.set(this.output),n=i?1:0,r=t.RawDeflate.CompressionType.NONE,o[l++]=n|r<<1,s=65536+~(a=e.length)&65535,o[l++]=255&a,o[l++]=a>>>8&255,o[l++]=255&s,o[l++]=s>>>8&255,o.set(e,l),l+=e.length,o=o.subarray(0,l),this.op=l,this.output=o,o},t.RawDeflate.prototype.makeFixedHuffmanBlock=function(e,i){var n,r,a,s=new t.BitStream(new Uint8Array(this.output.buffer),this.op);return n=i?1:0,r=t.RawDeflate.CompressionType.FIXED,s.writeBits(n,1,!0),s.writeBits(r,2,!0),a=this.lz77(e),this.fixedHuffman(a,s),s.finish()},t.RawDeflate.prototype.makeDynamicHuffmanBlock=function(e,i){var n,r,a,s,o,l,h,f,c,u,p,d,g,w,m,y,b,v=new t.BitStream(new Uint8Array(this.output.buffer),this.op),k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=new Array(19);for(n=i?1:0,r=t.RawDeflate.CompressionType.DYNAMIC,v.writeBits(n,1,!0),v.writeBits(r,2,!0),a=this.lz77(e),h=this.getLengths_(this.freqsLitLen,15),f=this.getCodesFromLengths_(h),c=this.getLengths_(this.freqsDist,7),u=this.getCodesFromLengths_(c),s=286;s>257&&0===h[s-1];s--);for(o=30;o>1&&0===c[o-1];o--);for(p=this.getTreeSymbols_(s,h,o,c),d=this.getLengths_(p.freqs,7),y=0;y<19;y++)R[y]=d[k[y]];for(l=19;l>4&&0===R[l-1];l--);for(g=this.getCodesFromLengths_(d),v.writeBits(s-257,5,!0),v.writeBits(o-1,5,!0),v.writeBits(l-4,4,!0),y=0;y<l;y++)v.writeBits(R[y],3,!0);for(y=0,b=p.codes.length;y<b;y++)if(w=p.codes[y],v.writeBits(g[w],d[w],!0),w>=16){switch(y++,w){case 16:m=2;break;case 17:m=3;break;case 18:m=7;break;default:throw"invalid code: "+w}v.writeBits(p.codes[y],m,!0)}return this.dynamicHuffman(a,[f,h],[u,c],v),v.finish()},t.RawDeflate.prototype.dynamicHuffman=function(e,t,i,n){var r,a,s,o,l,h,f,c;for(l=t[0],h=t[1],f=i[0],c=i[1],r=0,a=e.length;r<a;++r)if(s=e[r],n.writeBits(l[s],h[s],!0),s>256)n.writeBits(e[++r],e[++r],!0),o=e[++r],n.writeBits(f[o],c[o],!0),n.writeBits(e[++r],e[++r],!0);else if(256===s)break;return n},t.RawDeflate.prototype.fixedHuffman=function(e,i){var n,r,a;for(n=0,r=e.length;n<r;n++)if(a=e[n],t.BitStream.prototype.writeBits.apply(i,t.RawDeflate.FixedHuffmanTable[a]),a>256)i.writeBits(e[++n],e[++n],!0),i.writeBits(e[++n],5),i.writeBits(e[++n],e[++n],!0);else if(256===a)break;return i},t.RawDeflate.Lz77Match=function(e,t){this.length=e,this.backwardDistance=t},t.RawDeflate.Lz77Match.LengthCodeTable=(n=function(){var e,t,i=[];for(e=3;e<=258;e++)t=n(e),i[e]=t[2]<<24|t[1]<<16|t[0];function n(e){switch(!0){case 3===e:return[257,e-3,0];case 4===e:return[258,e-4,0];case 5===e:return[259,e-5,0];case 6===e:return[260,e-6,0];case 7===e:return[261,e-7,0];case 8===e:return[262,e-8,0];case 9===e:return[263,e-9,0];case 10===e:return[264,e-10,0];case e<=12:return[265,e-11,1];case e<=14:return[266,e-13,1];case e<=16:return[267,e-15,1];case e<=18:return[268,e-17,1];case e<=22:return[269,e-19,2];case e<=26:return[270,e-23,2];case e<=30:return[271,e-27,2];case e<=34:return[272,e-31,2];case e<=42:return[273,e-35,3];case e<=50:return[274,e-43,3];case e<=58:return[275,e-51,3];case e<=66:return[276,e-59,3];case e<=82:return[277,e-67,4];case e<=98:return[278,e-83,4];case e<=114:return[279,e-99,4];case e<=130:return[280,e-115,4];case e<=162:return[281,e-131,5];case e<=194:return[282,e-163,5];case e<=226:return[283,e-195,5];case e<=257:return[284,e-227,5];case 258===e:return[285,e-258,0];default:throw"invalid length: "+e}}return i}(),new Uint32Array(n)),t.RawDeflate.Lz77Match.prototype.getDistanceCode_=function(e){var t;switch(!0){case 1===e:t=[0,e-1,0];break;case 2===e:t=[1,e-2,0];break;case 3===e:t=[2,e-3,0];break;case 4===e:t=[3,e-4,0];break;case e<=6:t=[4,e-5,1];break;case e<=8:t=[5,e-7,1];break;case e<=12:t=[6,e-9,2];break;case e<=16:t=[7,e-13,2];break;case e<=24:t=[8,e-17,3];break;case e<=32:t=[9,e-25,3];break;case e<=48:t=[10,e-33,4];break;case e<=64:t=[11,e-49,4];break;case e<=96:t=[12,e-65,5];break;case e<=128:t=[13,e-97,5];break;case e<=192:t=[14,e-129,6];break;case e<=256:t=[15,e-193,6];break;case e<=384:t=[16,e-257,7];break;case e<=512:t=[17,e-385,7];break;case e<=768:t=[18,e-513,8];break;case e<=1024:t=[19,e-769,8];break;case e<=1536:t=[20,e-1025,9];break;case e<=2048:t=[21,e-1537,9];break;case e<=3072:t=[22,e-2049,10];break;case e<=4096:t=[23,e-3073,10];break;case e<=6144:t=[24,e-4097,11];break;case e<=8192:t=[25,e-6145,11];break;case e<=12288:t=[26,e-8193,12];break;case e<=16384:t=[27,e-12289,12];break;case e<=24576:t=[28,e-16385,13];break;case e<=32768:t=[29,e-24577,13];break;default:throw"invalid distance"}return t},t.RawDeflate.Lz77Match.prototype.toLz77Array=function(){var e,i=this.length,n=this.backwardDistance,r=[],a=0;return e=t.RawDeflate.Lz77Match.LengthCodeTable[i],r[a++]=65535&e,r[a++]=e>>16&255,r[a++]=e>>24,e=this.getDistanceCode_(n),r[a++]=e[0],r[a++]=e[1],r[a++]=e[2],r},t.RawDeflate.prototype.lz77=function(e){var i,n,r,a,s,o,l,h,f,c={},u=t.RawDeflate.WindowSize,p=new Uint16Array(2*e.length),d=0,g=0,w=new Uint32Array(286),m=new Uint32Array(30),y=this.lazy;function b(e,t){var i,n,r=e.toLz77Array();for(i=0,n=r.length;i<n;++i)p[d++]=r[i];w[r[0]]++,m[r[3]]++,g=e.length+t-1,h=null}for(w[256]=1,i=0,n=e.length;i<n;++i){for(s=0,r=0,a=t.RawDeflate.Lz77MinLength;r<a&&i+r!==n;++r)s=s<<8|e[i+r];if(void 0===c[s]&&(c[s]=[]),o=c[s],g-- >0)o.push(i);else{for(;o.length>0&&i-o[0]>u;)o.shift();if(i+t.RawDeflate.Lz77MinLength>=n){for(h&&b(h,-1),r=0,a=n-i;r<a;++r)f=e[i+r],p[d++]=f,++w[f];break}o.length>0?(l=this.searchLongestMatch_(e,i,o),h?h.length<l.length?(f=e[i-1],p[d++]=f,++w[f],b(l,0)):b(h,-1):l.length<y?h=l:b(l,0)):h?b(h,-1):(f=e[i],p[d++]=f,++w[f]),o.push(i)}}return p[d++]=256,w[256]++,this.freqsLitLen=w,this.freqsDist=m,p.subarray(0,d)},t.RawDeflate.prototype.searchLongestMatch_=function(e,i,n){var r,a,s,o,l,h,f=0,c=e.length;e:for(o=0,h=n.length;o<h;o++){if(r=n[h-o-1],s=t.RawDeflate.Lz77MinLength,f>t.RawDeflate.Lz77MinLength){for(l=f;l>t.RawDeflate.Lz77MinLength;l--)if(e[r+l-1]!==e[i+l-1])continue e;s=f}for(;s<t.RawDeflate.Lz77MaxLength&&i+s<c&&e[r+s]===e[i+s];)++s;if(s>f&&(a=r,f=s),s===t.RawDeflate.Lz77MaxLength)break}return new t.RawDeflate.Lz77Match(f,i-a)},t.RawDeflate.prototype.getTreeSymbols_=function(e,t,i,n){var r,a,s,o,l,h,f=new Uint32Array(e+i),c=new Uint32Array(316),u=new Uint8Array(19);for(a=0,r=0;r<e;r++)f[a++]=t[r];for(r=0;r<i;r++)f[a++]=n[r];for(l=0,r=0,o=f.length;r<o;r+=a){for(a=1;r+a<o&&f[r+a]===f[r];++a);if(s=a,0===f[r])if(s<3)for(;s-- >0;)c[l++]=0,u[0]++;else for(;s>0;)(h=s<138?s:138)>s-3&&h<s&&(h=s-3),h<=10?(c[l++]=17,c[l++]=h-3,u[17]++):(c[l++]=18,c[l++]=h-11,u[18]++),s-=h;else if(c[l++]=f[r],u[f[r]]++,--s<3)for(;s-- >0;)c[l++]=f[r],u[f[r]]++;else for(;s>0;)(h=s<6?s:6)>s-3&&h<s&&(h=s-3),c[l++]=16,c[l++]=h-3,u[16]++,s-=h}return{codes:c.subarray(0,l),freqs:u}},t.RawDeflate.prototype.getLengths_=function(e,i){var n,r,a,s,o,l=e.length,h=new t.Heap(2*t.RawDeflate.HUFMAX),f=new Uint8Array(l);for(s=0;s<l;++s)e[s]>0&&h.push(s,e[s]);if(n=new Array(h.length/2),r=new Uint32Array(h.length/2),1===n.length)return f[h.pop().index]=1,f;for(s=0,o=h.length/2;s<o;++s)n[s]=h.pop(),r[s]=n[s].value;for(a=this.reversePackageMerge_(r,r.length,i),s=0,o=n.length;s<o;++s)f[n[s].index]=a[s];return f},t.RawDeflate.prototype.reversePackageMerge_=function(e,t,i){var n,r,a,s,o,l=new Uint16Array(i),h=new Uint8Array(i),f=new Uint8Array(t),c=new Array(i),u=new Array(i),p=new Array(i),d=(1<<i)-t,g=1<<i-1;function w(e){var i=u[e][p[e]];i===t?(w(e+1),w(e+1)):--f[i],++p[e]}for(l[i-1]=t,r=0;r<i;++r)d<g?h[r]=0:(h[r]=1,d-=g),d<<=1,l[i-2-r]=(l[i-1-r]/2|0)+t;for(l[0]=h[0],c[0]=new Array(l[0]),u[0]=new Array(l[0]),r=1;r<i;++r)l[r]>2*l[r-1]+h[r]&&(l[r]=2*l[r-1]+h[r]),c[r]=new Array(l[r]),u[r]=new Array(l[r]);for(n=0;n<t;++n)f[n]=i;for(a=0;a<l[i-1];++a)c[i-1][a]=e[a],u[i-1][a]=a;for(n=0;n<i;++n)p[n]=0;for(1===h[i-1]&&(--f[0],++p[i-1]),r=i-2;r>=0;--r){for(n=0,s=0,o=p[r+1],a=0;a<l[r];a++)(s=c[r+1][o]+c[r+1][o+1])>e[n]?(c[r][a]=s,u[r][a]=t,o+=2):(c[r][a]=e[n],u[r][a]=n,++n);p[r]=0,1===h[r]&&w(r)}return f},t.RawDeflate.prototype.getCodesFromLengths_=function(e){var i,n,r,a,s=new Uint16Array(e.length),o=[],l=[],h=0;for(i=0,n=e.length;i<n;i++)o[e[i]]=1+(0|o[e[i]]);for(i=1,n=t.RawDeflate.MaxCodeLength;i<=n;i++)l[i]=h,h+=0|o[i],h<<=1;for(i=0,n=e.length;i<n;i++)for(h=l[e[i]],l[e[i]]+=1,s[i]=0,r=0,a=e[i];r<a;r++)s[i]=s[i]<<1|1&h,h>>>=1;return s},t.Unzip=function(e,t){t=t||{},this.input=e instanceof Array?new Uint8Array(e):e,this.ip=0,this.eocdrOffset,this.numberOfThisDisk,this.startDisk,this.totalEntriesThisDisk,this.totalEntries,this.centralDirectorySize,this.centralDirectoryOffset,this.commentLength,this.comment,this.fileHeaderList,this.filenameToIndex,this.verify=t.verify||!1,this.password=t.password},t.Unzip.CompressionMethod=t.Zip.CompressionMethod,t.Unzip.FileHeaderSignature=t.Zip.FileHeaderSignature,t.Unzip.LocalFileHeaderSignature=t.Zip.LocalFileHeaderSignature,t.Unzip.CentralDirectorySignature=t.Zip.CentralDirectorySignature,t.Unzip.FileHeader=function(e,t){this.input=e,this.offset=t,this.length,this.version,this.os,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.fileCommentLength,this.diskNumberStart,this.internalFileAttributes,this.externalFileAttributes,this.relativeOffset,this.filename,this.extraField,this.comment},t.Unzip.FileHeader.prototype.parse=function(){var e=this.input,i=this.offset;if(e[i++]!==t.Unzip.FileHeaderSignature[0]||e[i++]!==t.Unzip.FileHeaderSignature[1]||e[i++]!==t.Unzip.FileHeaderSignature[2]||e[i++]!==t.Unzip.FileHeaderSignature[3])throw new Error("invalid file header signature");this.version=e[i++],this.os=e[i++],this.needVersion=e[i++]|e[i++]<<8,this.flags=e[i++]|e[i++]<<8,this.compression=e[i++]|e[i++]<<8,this.time=e[i++]|e[i++]<<8,this.date=e[i++]|e[i++]<<8,this.crc32=(e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24)>>>0,this.compressedSize=(e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24)>>>0,this.plainSize=(e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24)>>>0,this.fileNameLength=e[i++]|e[i++]<<8,this.extraFieldLength=e[i++]|e[i++]<<8,this.fileCommentLength=e[i++]|e[i++]<<8,this.diskNumberStart=e[i++]|e[i++]<<8,this.internalFileAttributes=e[i++]|e[i++]<<8,this.externalFileAttributes=e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24,this.relativeOffset=(e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24)>>>0,this.filename=String.fromCharCode.apply(null,e.subarray(i,i+=this.fileNameLength)),this.extraField=e.subarray(i,i+=this.extraFieldLength),this.comment=e.subarray(i,i+this.fileCommentLength),this.length=i-this.offset},t.Unzip.LocalFileHeader=function(e,t){this.input=e,this.offset=t,this.length,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.filename,this.extraField},t.Unzip.LocalFileHeader.Flags=t.Zip.Flags,t.Unzip.LocalFileHeader.prototype.parse=function(){var e=this.input,i=this.offset;if(e[i++]!==t.Unzip.LocalFileHeaderSignature[0]||e[i++]!==t.Unzip.LocalFileHeaderSignature[1]||e[i++]!==t.Unzip.LocalFileHeaderSignature[2]||e[i++]!==t.Unzip.LocalFileHeaderSignature[3])throw new Error("invalid local file header signature");this.needVersion=e[i++]|e[i++]<<8,this.flags=e[i++]|e[i++]<<8,this.compression=e[i++]|e[i++]<<8,this.time=e[i++]|e[i++]<<8,this.date=e[i++]|e[i++]<<8,this.crc32=(e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24)>>>0,this.compressedSize=(e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24)>>>0,this.plainSize=(e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24)>>>0,this.fileNameLength=e[i++]|e[i++]<<8,this.extraFieldLength=e[i++]|e[i++]<<8,this.filename=String.fromCharCode.apply(null,e.subarray(i,i+=this.fileNameLength)),this.extraField=e.subarray(i,i+=this.extraFieldLength),this.length=i-this.offset},t.Unzip.prototype.searchEndOfCentralDirectoryRecord=function(){var e,i=this.input;for(e=i.length-12;e>0;--e)if(i[e]===t.Unzip.CentralDirectorySignature[0]&&i[e+1]===t.Unzip.CentralDirectorySignature[1]&&i[e+2]===t.Unzip.CentralDirectorySignature[2]&&i[e+3]===t.Unzip.CentralDirectorySignature[3])return void(this.eocdrOffset=e);throw new Error("End of Central Directory Record not found")},t.Unzip.prototype.parseEndOfCentralDirectoryRecord=function(){var e,i=this.input;if(this.eocdrOffset||this.searchEndOfCentralDirectoryRecord(),e=this.eocdrOffset,i[e++]!==t.Unzip.CentralDirectorySignature[0]||i[e++]!==t.Unzip.CentralDirectorySignature[1]||i[e++]!==t.Unzip.CentralDirectorySignature[2]||i[e++]!==t.Unzip.CentralDirectorySignature[3])throw new Error("invalid signature");this.numberOfThisDisk=i[e++]|i[e++]<<8,this.startDisk=i[e++]|i[e++]<<8,this.totalEntriesThisDisk=i[e++]|i[e++]<<8,this.totalEntries=i[e++]|i[e++]<<8,this.centralDirectorySize=(i[e++]|i[e++]<<8|i[e++]<<16|i[e++]<<24)>>>0,this.centralDirectoryOffset=(i[e++]|i[e++]<<8|i[e++]<<16|i[e++]<<24)>>>0,this.commentLength=i[e++]|i[e++]<<8,this.comment=i.subarray(e,e+this.commentLength)},t.Unzip.prototype.parseFileHeader=function(){var e,i,n,r,a=[],s={};if(!this.fileHeaderList){for(void 0===this.centralDirectoryOffset&&this.parseEndOfCentralDirectoryRecord(),e=this.centralDirectoryOffset,n=0,r=this.totalEntries;n<r;++n)(i=new t.Unzip.FileHeader(this.input,e)).parse(),e+=i.length,a[n]=i,s[i.filename]=n;if(this.centralDirectorySize<e-this.centralDirectoryOffset)throw new Error("invalid file header size");this.fileHeaderList=a,this.filenameToIndex=s}},t.Unzip.prototype.getFileData=function(e,i){i=i||{};var n,r,a,s,o,l,h,f,c=this.input,u=this.fileHeaderList;if(u||this.parseFileHeader(),void 0===u[e])throw new Error("wrong index");if(r=u[e].relativeOffset,(n=new t.Unzip.LocalFileHeader(this.input,r)).parse(),r+=n.length,a=n.compressedSize,0!=(n.flags&t.Unzip.LocalFileHeader.Flags.ENCRYPT)){if(!i.password&&!this.password)throw new Error("please set password");for(l=this.createDecryptionKey(i.password||this.password),h=r,f=r+12;h<f;++h)this.decode(l,c[h]);for(h=r+=12,f=r+(a-=12);h<f;++h)c[h]=this.decode(l,c[h])}switch(n.compression){case t.Unzip.CompressionMethod.STORE:s=this.input.subarray(r,r+a);break;case t.Unzip.CompressionMethod.DEFLATE:s=new t.RawInflate(this.input,{index:r,bufferSize:n.plainSize}).decompress();break;default:throw new Error("unknown compression type")}if(this.verify&&(o=t.CRC32.calc(s),n.crc32!==o))throw new Error("wrong crc: file=0x"+n.crc32.toString(16)+", data=0x"+o.toString(16));return s},t.Unzip.prototype.getFilenames=function(){var e,t,i,n=[];for(this.fileHeaderList||this.parseFileHeader(),e=0,t=(i=this.fileHeaderList).length;e<t;++e)n[e]=i[e].filename;return n},t.Unzip.prototype.decompress=function(e,t){var i;if(this.filenameToIndex||this.parseFileHeader(),void 0===(i=this.filenameToIndex[e]))throw new Error(e+" not found");return this.getFileData(i,t)},t.Unzip.prototype.setPassword=function(e){this.password=e},t.Unzip.prototype.decode=function(e,t){return t^=this.getByte(e),this.updateKeys(e,t),t},t.Unzip.prototype.updateKeys=t.Zip.prototype.updateKeys,t.Unzip.prototype.createDecryptionKey=t.Zip.prototype.createEncryptionKey,t.Unzip.prototype.getByte=t.Zip.prototype.getByte,t.Util.stringToByteArray=function(e){var t,i,n=e.split("");for(t=0,i=n.length;t<i;t++)n[t]=(255&n[t].charCodeAt(0))>>>0;return n},t.Adler32=function(e){return"string"==typeof e&&(e=t.Util.stringToByteArray(e)),t.Adler32.update(1,e)},t.Adler32.update=function(e,i){for(var n,r=65535&e,a=e>>>16&65535,s=i.length,o=0;s>0;){s-=n=s>t.Adler32.OptimizationParameter?t.Adler32.OptimizationParameter:s;do{a+=r+=i[o++]}while(--n);r%=65521,a%=65521}return(a<<16|r)>>>0},t.Adler32.OptimizationParameter=1024,t.BitStream=function(e,i){if(this.index="number"==typeof i?i:0,this.bitindex=0,this.buffer=e instanceof Uint8Array?e:new Uint8Array(t.BitStream.DefaultBlockSize),2*this.buffer.length<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()},t.BitStream.DefaultBlockSize=32768,t.BitStream.prototype.expandBuffer=function(){var e=this.buffer,t=e.length,i=new Uint8Array(t<<1);return i.set(e),this.buffer=i},t.BitStream.prototype.writeBits=function(e,i,n){var r,a=this.buffer,s=this.index,o=this.bitindex,l=a[s];if(n&&i>1&&(e=i>8?function(e){return t.BitStream.ReverseTable[255&e]<<24|t.BitStream.ReverseTable[e>>>8&255]<<16|t.BitStream.ReverseTable[e>>>16&255]<<8|t.BitStream.ReverseTable[e>>>24&255]}(e)>>32-i:t.BitStream.ReverseTable[e]>>8-i),i+o<8)l=l<<i|e,o+=i;else for(r=0;r<i;++r)l=l<<1|e>>i-r-1&1,8==++o&&(o=0,a[s++]=t.BitStream.ReverseTable[l],l=0,s===a.length&&(a=this.expandBuffer()));a[s]=l,this.buffer=a,this.bitindex=o,this.index=s},t.BitStream.prototype.finish=function(){var e=this.buffer,i=this.index;return this.bitindex>0&&(e[i]<<=8-this.bitindex,e[i]=t.BitStream.ReverseTable[e[i]],i++),e.subarray(0,i)},t.BitStream.ReverseTable=function(){var e,t=new Uint8Array(256);for(e=0;e<256;++e)t[e]=function(e){var t=e,i=7;for(e>>>=1;e;e>>>=1)t<<=1,t|=1&e,--i;return(t<<i&255)>>>0}(e);return t}(),t.CRC32.calc=function(e,i,n){return t.CRC32.update(e,0,i,n)},t.CRC32.update=function(e,i,n,r){var a=t.CRC32.Table,s="number"==typeof n?n:n=0,o="number"==typeof r?r:e.length;for(i^=4294967295,s=7&o;s--;++n)i=i>>>8^a[255&(i^e[n])];for(s=o>>3;s--;n+=8)i=(i=(i=(i=(i=(i=(i=(i=i>>>8^a[255&(i^e[n])])>>>8^a[255&(i^e[n+1])])>>>8^a[255&(i^e[n+2])])>>>8^a[255&(i^e[n+3])])>>>8^a[255&(i^e[n+4])])>>>8^a[255&(i^e[n+5])])>>>8^a[255&(i^e[n+6])])>>>8^a[255&(i^e[n+7])];return(4294967295^i)>>>0},t.CRC32.single=function(e,i){return(t.CRC32.Table[255&(e^i)]^e>>>8)>>>0},t.CRC32.Table_=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],t.CRC32.Table=new Uint32Array(t.CRC32.Table_),t.Deflate=function(e,i){this.input=e,this.output=new Uint8Array(t.Deflate.DefaultBufferSize),this.compressionType=t.Deflate.CompressionType.DYNAMIC,this.rawDeflate;var n,r={};for(n in!i&&(i={})||"number"==typeof i.compressionType&&(this.compressionType=i.compressionType),i)r[n]=i[n];r.outputBuffer=this.output,this.rawDeflate=new t.RawDeflate(this.input,r)},t.Deflate.DefaultBufferSize=32768,t.Deflate.CompressionType=t.RawDeflate.CompressionType,t.Deflate.compress=function(e,i){return new t.Deflate(e,i).compress()},t.Deflate.prototype.compress=function(){var e,i,n,r,a,s,o,l=0;switch(o=this.output,e=t.CompressionMethod.DEFLATE){case t.CompressionMethod.DEFLATE:i=Math.LOG2E*Math.log(t.RawDeflate.WindowSize)-8;break;default:throw new Error("invalid compression method")}switch(n=i<<4|e,o[l++]=n,0,e){case t.CompressionMethod.DEFLATE:switch(this.compressionType){case t.Deflate.CompressionType.NONE:a=0;break;case t.Deflate.CompressionType.FIXED:a=1;break;case t.Deflate.CompressionType.DYNAMIC:a=2;break;default:throw new Error("unsupported compression type")}break;default:throw new Error("invalid compression method")}return r=a<<6|0,r|=31-(256*n+r)%31,o[l++]=r,s=t.Adler32(this.input),this.rawDeflate.op=l,l=(o=this.rawDeflate.compress()).length,(o=new Uint8Array(o.buffer)).length<=l+4&&(this.output=new Uint8Array(o.length+4),this.output.set(o),o=this.output),(o=o.subarray(0,l+4))[l++]=s>>24&255,o[l++]=s>>16&255,o[l++]=s>>8&255,o[l++]=255&s,o};const c=new Map;c.set("!","%21"),c.set("#","%23"),c.set("$","%24"),c.set("%","%25"),c.set("&","%26"),c.set("'","%27"),c.set("(","%28"),c.set(")","%29"),c.set("*","%2A"),c.set("+","%2B"),c.set(",","%2C"),c.set("/","%2F"),c.set(":","%3A"),c.set(";","%3B"),c.set("=","%3D"),c.set("?","%3F"),c.set("@","%40"),c.set("[","%5B"),c.set("]","%5D"),c.set(" ","%20");async function u(e){if(p())return void console.warn("oAuth has already been initialized");gapi.apiKey=e.apiKey;const t=Object.assign({},e);return t.scope||(t.scope="profile"),e.client_id||(e.client_id=e.clientId),await async function(e){return new Promise((function(t,i){gapi.load(e,{callback:t,onerror:i})}))}("auth2"),new Promise((function(e,i){gapi.auth2.init(t).then(e,i)}))}function p(){return"undefined"!=typeof gapi&&gapi.auth2&&gapi.auth2.getAuthInstance()}let d=!1;async function g(e){if("undefined"==typeof gapi)throw Error("Google authentication requires the 'gapi' library");if(!gapi.auth2)throw Error("Google 'auth2' has not been initialized");if(d)return new Promise((function(t,i){let n;n=setInterval((()=>{try{!1===d&&(t(g(e)),clearInterval(n))}catch(e){clearInterval(n),i(e)}}),100)}));d=!0;try{let t,i=gapi.auth2.getAuthInstance().currentUser.get();if(i.isSignedIn()){i.hasGrantedScopes(e)||await i.grant({scope:e});const{access_token:n,expires_at:r}=i.getAuthResponse();if(Date.now()<r-3e5)t={access_token:n,expires_at:r};else{const{access_token:e,expires_at:n}=i.reloadAuthResponse();t={access_token:e,expires_at:n}}}else{i=await async function(e){const t=new gapi.auth2.SigninOptionsBuilder;return t.setPrompt("select_account"),t.setScope(e),gapi.auth2.getAuthInstance().signIn(t)}(e);const{access_token:n,expires_at:r}=i.getAuthResponse();t={access_token:n,expires_at:r}}return t}finally{d=!1}}function w(){return gapi.apiKey}"object"==typeof process&&"undefined"==typeof window&&(global.atob=function(e){return Buffer.from(e,"base64").toString("binary")});const m={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};const y="function"==typeof new Uint8Array(1).subarray;function b(e,t,i,n,r){if(0!==r){if(!e)throw"Undef src";if(!i)throw"Undef dest";0===t&&r===e.length?v(e,i,n):y?v(e.subarray(t,t+r),i,n):1===e.BYTES_PER_ELEMENT&&r>100?v(new Uint8Array(e.buffer,e.byteOffset+t,r),i,n):function(e,t,i,n,r){for(let a=0;a<r;++a)i[n+a]=e[t+a]}(e,t,i,n,r)}}function v(e,t,i){t.set(e,i)}const k="googleapis",R={oauthTokens:{},setToken:function(e,t){t=t||k,this.oauthTokens[t]=e,t===k&&(this.google.access_token=e)},getToken:function(e){let t;e=e||k;for(let i of Object.keys(this.oauthTokens)){if(S(i).test(e)){t=this.oauthTokens[i];break}}return t},removeToken:function(e){e=e||k;for(let t of Object.keys(this.oauthTokens)){S(t).test(e)&&(this.oauthTokens[t]=void 0)}e===k&&(this.google.access_token=void 0)},google:{setToken:function(e){R.setToken(e)}}};function S(e){return new RegExp("^"+e.split(/\*+/).map(T).join(".*")+"$")}function T(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}const D=new class{constructor(e){this.requestsPerSecond=e.requestsPerSecond||10,this.lastStartTime=0,this.queued=[]}add(e,t){var i=this;return new Promise((function(t,n){i.queued.push({resolve:t,reject:n,asyncFunction:e}),i.dequeue()}))}addAll(e,t){var i=e.map(function(e){return this.add(e,t)}.bind(this));return Promise.all(i)}dequeue(){if(this.queued.length>0){var e=new Date,t=1e3/this.requestsPerSecond+1,i=e-this.lastStartTime;i>=t?this._execute():setTimeout(function(){this.dequeue()}.bind(this),t-i)}}async _execute(){this.lastStartTime=new Date;var e=this.queued.shift();const t=e.asyncFunction;try{const i=await t();e.resolve(i)}catch(t){e.reject(t)}}}({requestsPerSecond:8}),C={apiKey:void 0,setApiKey:function(e){this.apiKey=e},load:E,loadArrayBuffer:async function(e,t){return(t=t||{}).responseType||(t.responseType="arraybuffer"),e instanceof File?x(e,t):E(e,t)},loadJson:async function(e,t){"POST"===((t=t||{}).method||(t.sendData?"POST":"GET"))&&(t.contentType="application/json");const i=await this.loadString(e,t);return i?JSON.parse(i):i},loadString:async function(e,t){return t=t||{},e instanceof File?async function(e,t){const i=t.range?e.slice(t.range.start,t.range.start+t.range.size):e;let n=0;t&&t.bgz||e.name.endsWith(".bgz")?n=2:e.name.endsWith(".gz")&&(n=1);if(0===n)return A(i);return O(await L(i),n)}(e,t):async function(e,t){const i=(t=t||{}).filename||await async function(e){if(r(e)&&e.startsWith("https://drive.google.com")){if(void 0===w())throw Error("Google drive is referenced, but API key is not defined.  An API key is required for Google Drive access");const t=await async function(e){let t="https://www.googleapis.com/drive/v3/files/"+f(e)+"?supportsTeamDrives=true";const i=w();i&&(t+="&key="+i);const n=await fetch(t);let r=await n.json();if(r.error&&404===r.error.code){const{access_token:e}=await g("https://www.googleapis.com/auth/drive.readonly");if(!e)throw Error(r.error);{const i=await fetch(t,{headers:{Authorization:`Bearer ${e}`}});if(r=await i.json(),r.error)throw Error(r.error)}}return r}(e);return t.originalFileName||t.name}return function(e){if(e instanceof File)return e.name;if(r(e)){let t=e.lastIndexOf("/"),i=t<0?e:e.substr(t+1);return t=i.indexOf("?"),t>0&&(i=i.substr(0,t)),i}throw Error("Expected File or string, got "+typeof e)}(e)}(e);let n=3;t.bgz?n=2:i.endsWith(".gz")&&(n=1);t.responseType="arraybuffer";return O(await C.load(e,t),n)}(e,t)}};async function E(e,i){i=i||{};const n=typeof e;if((e=await("function"==typeof e?e():e))instanceof File)return x(e,i);if("function"==typeof e.startsWith)return e.startsWith("data:")?function(e){const i=e.split(","),n=i[0].split(":")[1];let r=i[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);const a=new Uint8Array(r.length);for(let e=0;e<r.length;e++)a[e]=r.charCodeAt(e);let s;s=n.indexOf("gzip")>0?new t.Gunzip(a).decompress():a;return s}(e):(e.startsWith("https://drive.google.com")&&(e=h(e)),o(e)||e.startsWith("https://www.dropbox.com")?D.add((async function(){return B(e,i)})):B(e,i));throw Error(`url must be either a 'File', 'string', 'function', or 'Promise'.  Actual type: ${n}`)}async function B(e,t){e=function(e){return e.includes("//www.dropbox.com")?e.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):e.includes("//drive.google.com")?h(e):e.includes("//www.broadinstitute.org/igvdata")?e.replace("//www.broadinstitute.org/igvdata","//data.broadinstitute.org/igvdata"):e.includes("//igvdata.broadinstitute.org")?e.replace("//igvdata.broadinstitute.org","https://dn7ywbm9isq8j.cloudfront.net"):e.startsWith("ftp://ftp.ncbi.nlm.nih.gov/geo")?e.replace("ftp://","https://"):e}(e);let i=(t=t||{}).oauthToken||function(e){const t=a(e)?void 0:function(e){for(var t=m,i=t.parser.loose.exec(e),n={},r=14;r--;)n[t.key[r]]=i[r]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,(function(e,i,r){i&&(n[t.q.name][i]=r)})),n}(e).host;let i=R.getToken(t);if(i)return i;if(void 0===t){const e=I();if(e&&e.expires_at>Date.now())return e.access_token}}(e);return i&&(i=await("function"==typeof i?i():i)),new Promise((function(n,r){a(e)&&(s(e)&&(e=l(e)),o(e=function(e){let t=C.apiKey;t||"undefined"==typeof gapi||(t=gapi.apiKey);if(void 0!==t&&!e.includes("key=")){const i=e.includes("?")?"&":"?";e=e+i+"key="+t}return e}(e))&&function(e){if(e.includes("supportsTeamDrive"))return e;{const t=e.includes("?")?"&":"?";e=e+t+"supportsTeamDrive=true"}}(e),i||(i=I()));const h=t.headers||{};i&&function(e,t){t&&(e["Cache-Control"]="no-cache",e.Authorization="Bearer "+t)}(h,i);const f=t.range,c=navigator.userAgent.indexOf("Chrome")>-1;0===navigator.vendor.indexOf("Apple")&&/\sSafari\//.test(navigator.userAgent),f&&c&&!function(e){return e.indexOf("X-Amz-Signature")>-1}(e)&&(e+=e.includes("?")?"&":"?",e+="someRandomSeed="+Math.random().toString(36));const u=new XMLHttpRequest,d=t.sendData||t.body,w=t.method||(d?"POST":"GET"),m=t.responseType,y=t.contentType,b=t.mimeType;if(u.open(w,e),t.timeout&&(u.timeout=t.timeout),f){var v=f.size?f.start+f.size-1:"";u.setRequestHeader("Range","bytes="+f.start+"-"+v)}if(y&&u.setRequestHeader("Content-Type",y),b&&u.overrideMimeType(b),m&&(u.responseType=m),h)for(let e of Object.keys(h)){const t=h[e];u.setRequestHeader(e,t)}!0===t.withCredentials&&(u.withCredentials=!0),u.onload=async function(i){0===u.status||u.status>=200&&u.status<=300?f&&206!==u.status&&0!==f.start?(u.response.length>1e5&&alert(`Warning: Range header ignored for URL: ${e}.  This can have performance impacts.`),n(u.response.slice(f.start,f.start+f.size))):n(u.response):"undefined"==typeof gapi||404!==u.status&&401!==u.status&&403!==u.status||!a(e)||t.retries?403===u.status?k("Access forbidden: "+e):416===u.status?k("Unsatisfiable range"):k(u.status):R()},u.onerror=function(i){a(e)&&!t.retries&&R(),k("Error accessing resource: "+e+" Status: "+u.status)},u.ontimeout=function(e){k("Timed out")},u.onabort=function(e){r(e)};try{u.send(d)}catch(e){r(e)}function k(e){if(!r)throw e;r(e)}async function R(){try{const i=await async function(e){if(p()){const t=function(e){return o(e)?"https://www.googleapis.com/auth/drive.file":s(e)?"https://www.googleapis.com/auth/devstorage.read_only":"https://www.googleapis.com/auth/userinfo.profile"}(e),i=await g(t);return i?i.access_token:void 0}throw Error("Authorization is required, but Google oAuth has not been initalized. Contact your site administrator for assistance.")}(e);t.retries=1,t.oauthToken=i;const r=await E(e,t);n(r)}catch(e){if(e.error){const t=e.error.startsWith("popup_blocked")?"Google login popup blocked by browser.":e.error;alert(t)}else k(e)}}}))}async function x(e,t){let i=t&&t.range?e.slice(t.range.start,t.range.start+t.range.size):e;return"arraybuffer"===t.responseType?L(i):new Promise((function(t,n){const r=new FileReader;r.onload=function(e){t(r.result)},r.onerror=function(t){console.error("reject uploading local file "+e.name),n(null,r)},r.readAsBinaryString(i),console.warn("Deprecated method used: readAsBinaryString")}))}async function L(e){return"function"==typeof e.arrayBuffer?e.arrayBuffer():new Promise((function(t,i){const n=new FileReader;n.onload=function(e){t(n.result)},n.onerror=function(e){console.error("reject uploading local file "+localfile.name),i(null,n)},n.readAsArrayBuffer(e)}))}async function A(e){return"function"==typeof e.text?e.text():new Promise((function(t,i){const n=new FileReader;n.onload=function(e){t(n.result)},n.onerror=function(e){console.error("reject uploading local file "+localfile.name),i(null,n)},n.readAsText(e)}))}function I(){if(p()){const e=function(){let e=gapi.auth2.getAuthInstance().currentUser.get();if(e&&e.isSignedIn()){const{access_token:t,expires_at:i}=e.getAuthResponse();return{access_token:t,expires_at:i}}}();return e?e.access_token:void 0}}function O(e,i){if(3===i&&e.byteLength>2){const t=new Uint8Array(e,0,2);31===t[0]&&139===t[1]&&(i=1)}let n;if(1===i){n=new t.Gunzip(new Uint8Array(e)).decompress()}else n=2===i?function(e,i){const n=[];let r=0,a=0;for(i=i||e.byteLength-18;r<i;)try{const i=new Uint8Array(e,r,18),s=i[11]<<8|i[10],o=(i[12],i[13],i[15],i[14],1+(i[17]<<8|i[16])),l=12+s+r,h=e.byteLength-l,f=o-s-19;if(h<f||f<=0)break;const c=new Uint8Array(e,l,f),u=new t.RawInflate(c),p=u.decompress();r+=u.ip+26,a+=p.byteLength,n.push(p)}catch(e){console.error(e);break}if(1===n.length)return n[0];{const e=new Uint8Array(a);let t=0;for(let i=0;i<n.length;++i){var s=new Uint8Array(n[i]);b(s,0,e,t,s.length),t+=s.length}return e}}(e):new Uint8Array(e);return"TextDecoder"in function(){if("undefined"!=typeof self)return self;return"undefined"!=typeof global?global:window}()?(new TextDecoder).decode(n):function(e){var t="",i=0;for(;i<e.length;){var n=e[i],r=0,a=0;if(n<=127?(r=0,a=255&n):n<=223?(r=1,a=31&n):n<=239?(r=2,a=15&n):n<=244&&(r=3,a=7&n),e.length-i-r>0)for(var s=0;s<r;)a=a<<6|63&(n=e[i+s+1]),s+=1;else a=65533,r=e.length-i;t+=String.fromCodePoint(a),i+=r+1}return t}(n)}var z={color:1};z.parent=z,z.left=z,z.right=z;let _={};class M{constructor(){}subscribe(e,t){let i=_[e];void 0===i&&(i=[],_[e]=i),i.push(t)}post(e){const t=_[e.type];if(t)for(let i of t)"function"==typeof i.receiveEvent?i.receiveEvent(e):"function"==typeof i&&i(e)}static createEvent(e,t,i){return{type:e,data:t||{},propogate:void 0===i||i}}}function U(e){this.mode=H.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,i=this.data.length;t<i;t++){var n=[],r=this.data.charCodeAt(t);r>65536?(n[0]=240|(1835008&r)>>>18,n[1]=128|(258048&r)>>>12,n[2]=128|(4032&r)>>>6,n[3]=128|63&r):r>2048?(n[0]=224|(61440&r)>>>12,n[1]=128|(4032&r)>>>6,n[2]=128|63&r):r>128?(n[0]=192|(1984&r)>>>6,n[1]=128|63&r):n[0]=r,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function F(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}M.globalBus=new M,U.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,i=this.parsedData.length;t<i;t++)e.put(this.parsedData[t],8)}},F.prototype={addData:function(e){var t=new U(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[i][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=F.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var i=-1;i<=7;i++)if(!(e+i<=-1||this.moduleCount<=e+i))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+i][t+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var e=0,t=0,i=0;i<8;i++){this.makeImpl(!0,i);var n=V.getLostPoint(this);(0==i||e>n)&&(e=n,t=i)}return t},createMovieClip:function(e,t,i){var n=e.createEmptyMovieClip(t,i);this.make();for(var r=0;r<this.modules.length;r++)for(var a=1*r,s=0;s<this.modules[r].length;s++){var o=1*s;this.modules[r][s]&&(n.beginFill(0,100),n.moveTo(o,a),n.lineTo(o+1,a),n.lineTo(o+1,a+1),n.lineTo(o,a+1),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=V.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var i=0;i<e.length;i++){var n=e[t],r=e[i];if(null==this.modules[n][r])for(var a=-2;a<=2;a++)for(var s=-2;s<=2;s++)this.modules[n+a][r+s]=-2==a||2==a||-2==s||2==s||0==a&&0==s}},setupTypeNumber:function(e){for(var t=V.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!e&&1==(t>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(i=0;i<18;i++){n=!e&&1==(t>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(e,t){for(var i=this.errorCorrectLevel<<3|t,n=V.getBCHTypeInfo(i),r=0;r<15;r++){var a=!e&&1==(n>>r&1);r<6?this.modules[r][8]=a:r<8?this.modules[r+1][8]=a:this.modules[this.moduleCount-15+r][8]=a}for(r=0;r<15;r++){a=!e&&1==(n>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=a:r<9?this.modules[8][15-r-1+1]=a:this.modules[8][15-r-1]=a}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var i=-1,n=this.moduleCount-1,r=7,a=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var o=0;o<2;o++)if(null==this.modules[n][s-o]){var l=!1;a<e.length&&(l=1==(e[a]>>>r&1)),V.getMask(t,n,s-o)&&(l=!l),this.modules[n][s-o]=l,-1==--r&&(a++,r=7)}if((n+=i)<0||this.moduleCount<=n){n-=i,i=-i;break}}}},F.PAD0=236,F.PAD1=17,F.createData=function(e,t,i){for(var n=ee.getRSBlocks(e,t),r=new te,a=0;a<i.length;a++){var s=i[a];r.put(s.mode,4),r.put(s.getLength(),V.getLengthInBits(s.mode,e)),s.write(r)}var o=0;for(a=0;a<n.length;a++)o+=n[a].dataCount;if(r.getLengthInBits()>8*o)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*o+")");for(r.getLengthInBits()+4<=8*o&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*o||(r.put(F.PAD0,8),r.getLengthInBits()>=8*o));)r.put(F.PAD1,8);return F.createBytes(r,n)},F.createBytes=function(e,t){for(var i=0,n=0,r=0,a=new Array(t.length),s=new Array(t.length),o=0;o<t.length;o++){var l=t[o].dataCount,h=t[o].totalCount-l;n=Math.max(n,l),r=Math.max(r,h),a[o]=new Array(l);for(var f=0;f<a[o].length;f++)a[o][f]=255&e.buffer[f+i];i+=l;var c=V.getErrorCorrectPolynomial(h),u=new Q(a[o],c.getLength()-1).mod(c);s[o]=new Array(c.getLength()-1);for(f=0;f<s[o].length;f++){var p=f+u.getLength()-s[o].length;s[o][f]=p>=0?u.get(p):0}}var d=0;for(f=0;f<t.length;f++)d+=t[f].totalCount;var g=new Array(d),w=0;for(f=0;f<n;f++)for(o=0;o<t.length;o++)f<a[o].length&&(g[w++]=a[o][f]);for(f=0;f<r;f++)for(o=0;o<t.length;o++)f<s[o].length&&(g[w++]=s[o][f]);return g};for(var H={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},N={L:1,M:0,Q:3,H:2},P=0,K=1,G=2,Z=3,q=4,W=5,Y=6,j=7,V={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;V.getBCHDigit(t)-V.getBCHDigit(V.G15)>=0;)t^=V.G15<<V.getBCHDigit(t)-V.getBCHDigit(V.G15);return(e<<10|t)^V.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;V.getBCHDigit(t)-V.getBCHDigit(V.G18)>=0;)t^=V.G18<<V.getBCHDigit(t)-V.getBCHDigit(V.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return V.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,i){switch(e){case P:return(t+i)%2==0;case K:return t%2==0;case G:return i%3==0;case Z:return(t+i)%3==0;case q:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case W:return t*i%2+t*i%3==0;case Y:return(t*i%2+t*i%3)%2==0;case j:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Q([1],0),i=0;i<e;i++)t=t.multiply(new Q([1,X.gexp(i)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case H.MODE_NUMBER:return 10;case H.MODE_ALPHA_NUM:return 9;case H.MODE_8BIT_BYTE:case H.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case H.MODE_NUMBER:return 12;case H.MODE_ALPHA_NUM:return 11;case H.MODE_8BIT_BYTE:return 16;case H.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case H.MODE_NUMBER:return 14;case H.MODE_ALPHA_NUM:return 13;case H.MODE_8BIT_BYTE:return 16;case H.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),i=0,n=0;n<t;n++)for(var r=0;r<t;r++){for(var a=0,s=e.isDark(n,r),o=-1;o<=1;o++)if(!(n+o<0||t<=n+o))for(var l=-1;l<=1;l++)r+l<0||t<=r+l||0==o&&0==l||s==e.isDark(n+o,r+l)&&a++;a>5&&(i+=3+a-5)}for(n=0;n<t-1;n++)for(r=0;r<t-1;r++){var h=0;e.isDark(n,r)&&h++,e.isDark(n+1,r)&&h++,e.isDark(n,r+1)&&h++,e.isDark(n+1,r+1)&&h++,0!=h&&4!=h||(i+=3)}for(n=0;n<t;n++)for(r=0;r<t-6;r++)e.isDark(n,r)&&!e.isDark(n,r+1)&&e.isDark(n,r+2)&&e.isDark(n,r+3)&&e.isDark(n,r+4)&&!e.isDark(n,r+5)&&e.isDark(n,r+6)&&(i+=40);for(r=0;r<t;r++)for(n=0;n<t-6;n++)e.isDark(n,r)&&!e.isDark(n+1,r)&&e.isDark(n+2,r)&&e.isDark(n+3,r)&&e.isDark(n+4,r)&&!e.isDark(n+5,r)&&e.isDark(n+6,r)&&(i+=40);var f=0;for(r=0;r<t;r++)for(n=0;n<t;n++)e.isDark(n,r)&&f++;return i+=10*(Math.abs(100*f/t/t-50)/5)}},X={glog:function(e){if(e<1)throw new Error("glog("+e+")");return X.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return X.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},J=0;J<8;J++)X.EXP_TABLE[J]=1<<J;for(J=8;J<256;J++)X.EXP_TABLE[J]=X.EXP_TABLE[J-4]^X.EXP_TABLE[J-5]^X.EXP_TABLE[J-6]^X.EXP_TABLE[J-8];for(J=0;J<255;J++)X.LOG_TABLE[X.EXP_TABLE[J]]=J;function Q(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var i=0;i<e.length&&0==e[i];)i++;this.num=new Array(e.length-i+t);for(var n=0;n<e.length-i;n++)this.num[n]=e[n+i]}function ee(e,t){this.totalCount=e,this.dataCount=t}function te(){this.buffer=[],this.length=0}Q.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<e.getLength();n++)t[i+n]^=X.gexp(X.glog(this.get(i))+X.glog(e.get(n)));return new Q(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=X.glog(this.get(0))-X.glog(e.get(0)),i=new Array(this.getLength()),n=0;n<this.getLength();n++)i[n]=this.get(n);for(n=0;n<e.getLength();n++)i[n]^=X.gexp(X.glog(e.get(n))+t);return new Q(i,0).mod(e)}},ee.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],ee.getRSBlocks=function(e,t){var i=ee.getRsBlockTable(e,t);if(null==i)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=i.length/3,r=[],a=0;a<n;a++)for(var s=i[3*a+0],o=i[3*a+1],l=i[3*a+2],h=0;h<s;h++)r.push(new ee(o,l));return r},ee.getRsBlockTable=function(e,t){switch(t){case N.L:return ee.RS_BLOCK_TABLE[4*(e-1)+0];case N.M:return ee.RS_BLOCK_TABLE[4*(e-1)+1];case N.Q:return ee.RS_BLOCK_TABLE[4*(e-1)+2];case N.H:return ee.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},te.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var i=0;i<t;i++)this.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var ie=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];let ne;function re(e,t){for(var i=1,n=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),r=0,a=ie.length;r<=a;r++){var s=0;switch(t){case N.L:s=ie[r][0];break;case N.M:s=ie[r][1];break;case N.Q:s=ie[r][2];break;case N.H:s=ie[r][3]}if(n<=s)break;i++}if(i>ie.length)throw new Error("Too long data");return i}"svg"===document.documentElement.tagName.toLowerCase()?(ne=function(e,t){this._el=e,this._htOption=t},ne.prototype.draw=function(e){var t=this._htOption,i=this._el,n=e.getModuleCount();function r(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg",e);for(var n in t)t.hasOwnProperty(n)&&i.setAttribute(n,t[n]);return i}Math.floor(t.width/n),Math.floor(t.height/n),this.clear();var a=r("svg",{viewBox:"0 0 "+String(n)+" "+String(n),width:"100%",height:"100%",fill:t.colorLight});a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.appendChild(a),a.appendChild(r("rect",{fill:t.colorLight,width:"100%",height:"100%"})),a.appendChild(r("rect",{fill:t.colorDark,width:"1",height:"1",id:"template"}));for(var s=0;s<n;s++)for(var o=0;o<n;o++)if(e.isDark(s,o)){var l=r("use",{x:String(o),y:String(s)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),a.appendChild(l)}},ne.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)}):(ne=function(e,t){this._bIsPainted=!1,this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null},ne.prototype.draw=function(e){var t=this._elImage,i=this._oContext,n=this._htOption,r=e.getModuleCount(),a=n.width/r,s=n.height/r,o=Math.round(a),l=Math.round(s);t.style.display="none",this.clear();for(var h=0;h<r;h++)for(var f=0;f<r;f++){var c=e.isDark(h,f),u=f*a,p=h*s;i.strokeStyle=c?n.colorDark:n.colorLight,i.lineWidth=1,i.fillStyle=c?n.colorDark:n.colorLight,i.fillRect(u,p,a,s),i.strokeRect(Math.floor(u)+.5,Math.floor(p)+.5,o,l),i.strokeRect(Math.ceil(u)-.5,Math.ceil(p)-.5,o,l)}this._bIsPainted=!0},ne.prototype.makeImage=function(){this._bIsPainted&&(this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none")},ne.prototype.isPainted=function(){return this._bIsPainted},ne.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},ne.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e});const ae=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:N.H},"string"==typeof t&&(t={text:t}),t)for(var i in t)this._htOption[i]=t[i];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(ne=svgDrawer),this._el=e,this._oQRCode=null,this._oDrawing=new ne(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)};function se(e){return oe("div",e)}function oe(e,t){const i=document.createElement(e);return t&&(t.class&&i.classList.add(t.class),t.id&&(i.id=t.id),t.style&&function(e,t){for(let i of Object.keys(t))e.style[i]=t[i]}(i,t.style)),i}function le(e){const t=getComputedStyle(e);"none"!==t.display&&(e._initialDisplay=t.display),e.style.display="none"}function he(e){if("none"===getComputedStyle(e).display){const t=e._initialDisplay||"block";e.style.display=t}}function fe(e,t){return function(e,t){t=t||"currentColor";let i=ce[e];i||(console.error(`No icon named: ${e}`),i=ce.question);const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"viewBox","0 0 "+i[0]+" "+i[1]);const r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttributeNS(null,"fill",t),r.setAttributeNS(null,"d",i[4]),n.appendChild(r),n}(e,t)}ae.prototype.makeCode=function(e){this._oQRCode=new F(re(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},ae.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&this._oDrawing.makeImage()},ae.prototype.clear=function(){this._oDrawing.clear()},ae.CorrectLevel=N;const ce={check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"]};var ue={Huffman:{},Util:{},CRC32:{},CompressionMethod:{DEFLATE:8,RESERVED:15},Zip:function(e){e=e||{},this.files=[],this.comment=e.comment,this.password}};ue.Zip.CompressionMethod={STORE:0,DEFLATE:8},ue.Zip.OperatingSystem={MSDOS:0,UNIX:3,MACINTOSH:7},ue.Zip.Flags={ENCRYPT:1,DESCRIPTOR:8,UTF8:2048},ue.Zip.FileHeaderSignature=[80,75,1,2],ue.Zip.LocalFileHeaderSignature=[80,75,3,4],ue.Zip.CentralDirectorySignature=[80,75,5,6],ue.Zip.prototype.addFile=function(e,t){var i;(t=t||{}).filename;var n=e.length,r=0;if(e instanceof Array&&(e=new Uint8Array(e)),"number"!=typeof t.compressionMethod&&(t.compressionMethod=ue.Zip.CompressionMethod.DEFLATE),t.compress)switch(t.compressionMethod){case ue.Zip.CompressionMethod.STORE:break;case ue.Zip.CompressionMethod.DEFLATE:r=ue.CRC32.calc(e),e=this.deflateWithOption(e,t),i=!0;break;default:throw new Error("unknown compression method:"+t.compressionMethod)}this.files.push({buffer:e,option:t,compressed:i,encrypted:!1,size:n,crc32:r})},ue.Zip.prototype.setPassword=function(e){this.password=e},ue.Zip.prototype.compress=function(){var e,t,i,n,r,a,s,o,l,h,f,c,u,p,d,g,w,m,y,b,v,k,R,S,T,D,C=this.files,E=0,B=0;for(R=0,S=C.length;R<S;++R){if(p=(e=C[R]).option.filename?e.option.filename.length:0,d=e.option.extraField?e.option.extraField.length:0,g=e.option.comment?e.option.comment.length:0,!e.compressed)switch(e.crc32=ue.CRC32.calc(e.buffer),e.option.compressionMethod){case ue.Zip.CompressionMethod.STORE:break;case ue.Zip.CompressionMethod.DEFLATE:e.buffer=this.deflateWithOption(e.buffer,e.option),e.compressed=!0;break;default:throw new Error("unknown compression method:"+e.option.compressionMethod)}if(void 0!==e.option.password||void 0!==this.password){for(k=this.createEncryptionKey(e.option.password||this.password),b=e.buffer,(v=new Uint8Array(b.length+12)).set(b,12),b=v,T=0;T<12;++T)b[T]=this.encode(k,11===R?255&e.crc32:256*Math.random()|0);for(D=b.length;T<D;++T)b[T]=this.encode(k,b[T]);e.buffer=b}E+=30+p+e.buffer.length,B+=46+p+g}for(a=22+(this.comment?this.comment.length:0),t=new Uint8Array(E+B+a),i=0,r=(n=E)+B,R=0,S=C.length;R<S;++R)p=(e=C[R]).option.filename?e.option.filename.length:0,d=0,g=e.option.comment?e.option.comment.length:0,s=i,t[i++]=ue.Zip.LocalFileHeaderSignature[0],t[i++]=ue.Zip.LocalFileHeaderSignature[1],t[i++]=ue.Zip.LocalFileHeaderSignature[2],t[i++]=ue.Zip.LocalFileHeaderSignature[3],t[n++]=ue.Zip.FileHeaderSignature[0],t[n++]=ue.Zip.FileHeaderSignature[1],t[n++]=ue.Zip.FileHeaderSignature[2],t[n++]=ue.Zip.FileHeaderSignature[3],20,t[n++]=20,t[n++]=e.option.os||ue.Zip.OperatingSystem.MSDOS,t[i++]=t[n++]=20,t[i++]=t[n++]=0,o=0,(e.option.password||this.password)&&(o|=ue.Zip.Flags.ENCRYPT),t[i++]=t[n++]=255&o,t[i++]=t[n++]=o>>8&255,l=e.option.compressionMethod,t[i++]=t[n++]=255&l,t[i++]=t[n++]=l>>8&255,h=e.option.date||new Date,t[i++]=t[n++]=(7&h.getMinutes())<<5|h.getSeconds()/2|0,t[i++]=t[n++]=h.getHours()<<3|h.getMinutes()>>3,t[i++]=t[n++]=(h.getMonth()+1&7)<<5|h.getDate(),t[i++]=t[n++]=(h.getFullYear()-1980&127)<<1|h.getMonth()+1>>3,f=e.crc32,t[i++]=t[n++]=255&f,t[i++]=t[n++]=f>>8&255,t[i++]=t[n++]=f>>16&255,t[i++]=t[n++]=f>>24&255,c=e.buffer.length,t[i++]=t[n++]=255&c,t[i++]=t[n++]=c>>8&255,t[i++]=t[n++]=c>>16&255,t[i++]=t[n++]=c>>24&255,u=e.size,t[i++]=t[n++]=255&u,t[i++]=t[n++]=u>>8&255,t[i++]=t[n++]=u>>16&255,t[i++]=t[n++]=u>>24&255,t[i++]=t[n++]=255&p,t[i++]=t[n++]=p>>8&255,t[i++]=t[n++]=255&d,t[i++]=t[n++]=d>>8&255,t[n++]=255&g,t[n++]=g>>8&255,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=255&s,t[n++]=s>>8&255,t[n++]=s>>16&255,t[n++]=s>>24&255,(w=e.option.filename)&&(t.set(w,i),t.set(w,n),i+=p,n+=p),(m=e.option.extraField)&&(t.set(m,i),t.set(m,n),i+=d,n+=d),(y=e.option.comment)&&(t.set(y,n),n+=g),t.set(e.buffer,i),i+=e.buffer.length;return t[r++]=ue.Zip.CentralDirectorySignature[0],t[r++]=ue.Zip.CentralDirectorySignature[1],t[r++]=ue.Zip.CentralDirectorySignature[2],t[r++]=ue.Zip.CentralDirectorySignature[3],t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=255&S,t[r++]=S>>8&255,t[r++]=255&S,t[r++]=S>>8&255,t[r++]=255&B,t[r++]=B>>8&255,t[r++]=B>>16&255,t[r++]=B>>24&255,t[r++]=255&E,t[r++]=E>>8&255,t[r++]=E>>16&255,t[r++]=E>>24&255,g=this.comment?this.comment.length:0,t[r++]=255&g,t[r++]=g>>8&255,this.comment&&(t.set(this.comment,r),r+=g),t},ue.Zip.prototype.deflateWithOption=function(e,t){return new ue.RawDeflate(e,t.deflateOption).compress()},ue.Zip.prototype.getByte=function(e){var t=65535&e[2]|2;return t*(1^t)>>8&255},ue.Zip.prototype.encode=function(e,t){var i=this.getByte(e);return this.updateKeys(e,t),i^t},ue.Zip.prototype.updateKeys=function(e,t){e[0]=ue.CRC32.single(e[0],t),e[1]=1+(6681*(20173*(e[1]+(255&e[0]))>>>0)>>>0)>>>0,e[2]=ue.CRC32.single(e[2],e[1]>>>24)},ue.Zip.prototype.createEncryptionKey=function(e){var t,i,n=[305419896,591751049,878082192];for(n=new Uint32Array(n),t=0,i=e.length;t<i;++t)this.updateKeys(n,255&e[t]);return n},ue.Huffman.buildHuffmanTable=function(e){var t,i,n,r,a,s,o,l,h,f,c,u=e.length,p=0,d=Number.POSITIVE_INFINITY;for(l=0,h=u;l<h;++l)e[l]>p&&(p=e[l]),e[l]<d&&(d=e[l]);for(t=1<<p,i=new Uint32Array(t),n=1,r=0,a=2;n<=p;){for(l=0;l<u;++l)if(e[l]===n){for(s=0,o=r,f=0;f<n;++f)s=s<<1|1&o,o>>=1;for(c=n<<16|l,f=s;f<t;f+=a)i[f]=c;++r}++n,r<<=1,a<<=1}return[i,p,d]};var pe=ue.Huffman.buildHuffmanTable;ue.RawInflate=function(e,t){switch(this.buffer,this.blocks=[],this.bufferSize=32768,this.totalpos=0,this.ip=0,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.output,this.op,this.bfinal=!1,this.bufferType=ue.RawInflate.BufferType.ADAPTIVE,this.resize=!1,!t&&(t={})||(t.index&&(this.ip=t.index),t.bufferSize&&(this.bufferSize=t.bufferSize),t.bufferType&&(this.bufferType=t.bufferType),t.resize&&(this.resize=t.resize)),this.bufferType){case ue.RawInflate.BufferType.BLOCK:this.op=ue.RawInflate.MaxBackwardLength,this.output=new Uint8Array(ue.RawInflate.MaxBackwardLength+this.bufferSize+ue.RawInflate.MaxCopyLength);break;case ue.RawInflate.BufferType.ADAPTIVE:this.op=0,this.output=new Uint8Array(this.bufferSize);break;default:throw new Error("invalid inflate mode")}},ue.RawInflate.BufferType={BLOCK:0,ADAPTIVE:1},ue.RawInflate.prototype.decompress=function(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case ue.RawInflate.BufferType.BLOCK:return this.concatBufferBlock();case ue.RawInflate.BufferType.ADAPTIVE:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}},ue.RawInflate.MaxBackwardLength=32768,ue.RawInflate.MaxCopyLength=258,ue.RawInflate.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ue.RawInflate.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),ue.RawInflate.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),ue.RawInflate.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),ue.RawInflate.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ue.RawInflate.FixedLiteralLengthTable=function(){var e,t,i=new Uint8Array(288);for(e=0,t=i.length;e<t;++e)i[e]=e<=143?8:e<=255?9:e<=279?7:8;return pe(i)}(),ue.RawInflate.FixedDistanceTable=function(){var e,t,i=new Uint8Array(30);for(e=0,t=i.length;e<t;++e)i[e]=5;return pe(i)}(),ue.RawInflate.prototype.parseBlock=function(){var e=this.readBits(3);switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+e)}},ue.RawInflate.prototype.readBits=function(e){var t,i=this.bitsbuf,n=this.bitsbuflen,r=this.input,a=this.ip;if(a+(e-n+7>>3)>=r.length)throw new Error("input buffer is broken");for(;n<e;)i|=r[a++]<<n,n+=8;return t=i&(1<<e)-1,i>>>=e,n-=e,this.bitsbuf=i,this.bitsbuflen=n,this.ip=a,t},ue.RawInflate.prototype.readCodeByTable=function(e){for(var t,i,n=this.bitsbuf,r=this.bitsbuflen,a=this.input,s=this.ip,o=a.length,l=e[0],h=e[1];r<h&&!(s>=o);)n|=a[s++]<<r,r+=8;if((i=(t=l[n&(1<<h)-1])>>>16)>r)throw new Error("invalid code length: "+i);return this.bitsbuf=n>>i,this.bitsbuflen=r-i,this.ip=s,65535&t},ue.RawInflate.prototype.parseUncompressedBlock=function(){var e,t,i=this.input,n=this.ip,r=this.output,a=this.op,s=i.length,o=r.length;if(this.bitsbuf=0,this.bitsbuflen=0,n+1>=s)throw new Error("invalid uncompressed block header: LEN");if(e=i[n++]|i[n++]<<8,n+1>=s)throw new Error("invalid uncompressed block header: NLEN");if(e===~(i[n++]|i[n++]<<8))throw new Error("invalid uncompressed block header: length verify");if(n+e>i.length)throw new Error("input buffer is broken");switch(this.bufferType){case ue.RawInflate.BufferType.BLOCK:for(;a+e>r.length;)e-=t=o-a,r.set(i.subarray(n,n+t),a),a+=t,n+=t,this.op=a,r=this.expandBufferBlock(),a=this.op;break;case ue.RawInflate.BufferType.ADAPTIVE:for(;a+e>r.length;)r=this.expandBufferAdaptive({fixRatio:2});break;default:throw new Error("invalid inflate mode")}r.set(i.subarray(n,n+e),a),a+=e,n+=e,this.ip=n,this.op=a,this.output=r},ue.RawInflate.prototype.parseFixedHuffmanBlock=function(){switch(this.bufferType){case ue.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(ue.RawInflate.FixedLiteralLengthTable,ue.RawInflate.FixedDistanceTable);break;case ue.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(ue.RawInflate.FixedLiteralLengthTable,ue.RawInflate.FixedDistanceTable);break;default:throw new Error("invalid inflate mode")}},ue.RawInflate.prototype.parseDynamicHuffmanBlock=function(){var e,t,i,n,r,a,s,o,l,h=this.readBits(5)+257,f=this.readBits(5)+1,c=this.readBits(4)+4,u=new Uint8Array(ue.RawInflate.Order.length);for(o=0;o<c;++o)u[ue.RawInflate.Order[o]]=this.readBits(3);for(e=pe(u),n=new Uint8Array(h+f),o=0,l=h+f;o<l;)switch(r=this.readCodeByTable(e)){case 16:for(s=3+this.readBits(2);s--;)n[o++]=a;break;case 17:for(s=3+this.readBits(3);s--;)n[o++]=0;a=0;break;case 18:for(s=11+this.readBits(7);s--;)n[o++]=0;a=0;break;default:n[o++]=r,a=r}switch(t=pe(n.subarray(0,h)),i=pe(n.subarray(h)),this.bufferType){case ue.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(t,i);break;case ue.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(t,i);break;default:throw new Error("invalid inflate mode")}},ue.RawInflate.prototype.decodeHuffmanBlock=function(e,t){var i=this.output,n=this.op;this.currentLitlenTable=e;for(var r,a,s,o,l=i.length-ue.RawInflate.MaxCopyLength,h=ue.RawInflate.LengthCodeTable,f=ue.RawInflate.LengthExtraTable,c=ue.RawInflate.DistCodeTable,u=ue.RawInflate.DistExtraTable;256!==(r=this.readCodeByTable(e));)if(r<256)n>=l&&(this.op=n,i=this.expandBufferBlock(),n=this.op),i[n++]=r;else for(o=h[a=r-257],f[a]>0&&(o+=this.readBits(f[a])),s=c[r=this.readCodeByTable(t)],u[r]>0&&(s+=this.readBits(u[r])),n>=l&&(this.op=n,i=this.expandBufferBlock(),n=this.op);o--;)i[n]=i[n++-s];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=n},ue.RawInflate.prototype.decodeHuffmanAdaptive=function(e,t){var i=this.output,n=this.op;this.currentLitlenTable=e;for(var r,a,s,o,l=i.length,h=ue.RawInflate.LengthCodeTable,f=ue.RawInflate.LengthExtraTable,c=ue.RawInflate.DistCodeTable,u=ue.RawInflate.DistExtraTable;256!==(r=this.readCodeByTable(e));)if(r<256)n>=l&&(l=(i=this.expandBufferAdaptive()).length),i[n++]=r;else for(o=h[a=r-257],f[a]>0&&(o+=this.readBits(f[a])),s=c[r=this.readCodeByTable(t)],u[r]>0&&(s+=this.readBits(u[r])),n+o>l&&(l=(i=this.expandBufferAdaptive()).length);o--;)i[n]=i[n++-s];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=n},ue.RawInflate.prototype.expandBufferBlock=function(e){var t=new Uint8Array(this.op-ue.RawInflate.MaxBackwardLength),i=this.op-ue.RawInflate.MaxBackwardLength,n=this.output;return t.set(n.subarray(ue.RawInflate.MaxBackwardLength,t.length)),this.blocks.push(t),this.totalpos+=t.length,n.set(n.subarray(i,i+ue.RawInflate.MaxBackwardLength)),this.op=ue.RawInflate.MaxBackwardLength,n},ue.RawInflate.prototype.expandBufferAdaptive=function(e){var t,i,n,r=this.input.length/this.ip+1|0,a=this.input,s=this.output;return e&&("number"==typeof e.fixRatio&&(r=e.fixRatio),"number"==typeof e.addRatio&&(r+=e.addRatio)),i=r<2?(n=(a.length-this.ip)/this.currentLitlenTable[2]/2*258|0)<s.length?s.length+n:s.length<<1:s.length*r,(t=new Uint8Array(i)).set(s),this.output=t,this.output},ue.RawInflate.prototype.concatBufferBlock=function(){var e,t,i,n,r,a=0,s=this.totalpos+(this.op-ue.RawInflate.MaxBackwardLength),o=this.output,l=this.blocks,h=new Uint8Array(s);if(0===l.length)return this.output.subarray(ue.RawInflate.MaxBackwardLength,this.op);for(t=0,i=l.length;t<i;++t)for(n=0,r=(e=l[t]).length;n<r;++n)h[a++]=e[n];for(t=ue.RawInflate.MaxBackwardLength,i=this.op;t<i;++t)h[a++]=o[t];return this.blocks=[],this.buffer=h,this.buffer},ue.RawInflate.prototype.concatBufferDynamic=function(){var e,t=this.op;return this.resize?(e=new Uint8Array(t)).set(this.output.subarray(0,t)):e=this.output.subarray(0,t),this.buffer=e,this.buffer};pe=ue.Huffman.buildHuffmanTable;function de(e){return"string"==typeof e||e instanceof String}function ge(e){return e.includes("googleapis")&&!e.includes("urlshortener")||we(e)||me(e)}function we(e){return e.startsWith("gs://")||e.startsWith("https://www.googleapis.com/storage")||e.startsWith("https://storage.cloud.google.com")||e.startsWith("https://storage.googleapis.com")}function me(e){return e.indexOf("drive.google.com")>=0||e.indexOf("www.googleapis.com/drive")>0}function ye(e){let{bucket:t,object:i}=function(e){let t,i;if(e.startsWith("gs://")){const n=e.indexOf("/",5);if(n>=0){t=e.substring(5,n);const r=e.indexOf("?");i=r<0?e.substring(n+1):e.substring(n+1,r)}}else if(e.startsWith("https://storage.googleapis.com")||e.startsWith("https://storage.cloud.google.com")){const n=e.indexOf("/v1/b/",8);if(n>0){const r=e.indexOf("/o/",n);if(r>0){const a=e.indexOf("?",r);t=e.substring(n+6,r),i=a>0?e.substring(r+3,a):e.substring(r+3)}}else{const n=e.indexOf("/",8),r=e.indexOf("/",n+1),a=e.indexOf("?",r);r>0&&(t=e.substring(n+1,r),i=a<0?e.substring(r+1):e.substring(r+1,a))}}else if(e.startsWith("https://www.googleapis.com/storage/v1/b")){const n=e.indexOf("/v1/b/",8),r=e.indexOf("/o/",n);if(r>0){const a=e.indexOf("?",r);t=e.substring(n+6,r),i=a>0?e.substring(r+3,a):e.substring(r+3)}}if(t&&i)return{bucket:t,object:i};throw Error(`Unrecognized Google Storage URI: ${e}`)}(e);i=function(e){let t="";return e.split("").forEach((function(e){ke.has(e)?t+=ke.get(e):t+=e})),t}(i);const n=e.indexOf("?");return`https://storage.googleapis.com/storage/v1/b/${t}/o/${i}${n>0?e.substring(n)+"&alt=media":"?alt=media"}`}function be(e){var t=ve(e);return t?"https://www.googleapis.com/drive/v3/files/"+t+"?alt=media&supportsTeamDrives=true":e}function ve(e){if(e.includes("/open?id=")){const t=e.indexOf("/open?id=")+9,i=e.indexOf("&");if(t>0&&i>t)return e.substring(t,i);if(t>0)return e.substring(t)}else{if(e.includes("/file/d/")){const t=e.indexOf("/file/d/")+8,i=e.lastIndexOf("/");return e.substring(t,i)}if(e.startsWith("https://www.googleapis.com/drive")){let t=e.indexOf("/files/");const i=e.indexOf("?");if(t>0)return t+=7,i>0?e.substring(t,i):e.substring(t)}}throw Error("Unknown Google Drive url format: "+e)}ue.RawInflateStream=function(e,t,i){this.blocks=[],this.bufferSize=i||65e3,this.totalpos=0,this.ip=void 0===t?0:t,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.output=new Uint8Array(this.bufferSize),this.op=0,this.bfinal=!1,this.blockLength,this.resize=!1,this.litlenTable,this.distTable,this.sp=0,this.status=ue.RawInflateStream.Status.INITIALIZED,this.ip_,this.bitsbuflen_,this.bitsbuf_},ue.RawInflateStream.BlockType={UNCOMPRESSED:0,FIXED:1,DYNAMIC:2},ue.RawInflateStream.Status={INITIALIZED:0,BLOCK_HEADER_START:1,BLOCK_HEADER_END:2,BLOCK_BODY_START:3,BLOCK_BODY_END:4,DECODE_BLOCK_START:5,DECODE_BLOCK_END:6},ue.RawInflateStream.prototype.decompress=function(e,t){var i=!1;for(void 0!==e&&(this.input=e),void 0!==t&&(this.ip=t);!i;)switch(this.status){case ue.RawInflateStream.Status.INITIALIZED:case ue.RawInflateStream.Status.BLOCK_HEADER_START:this.readBlockHeader()<0&&(i=!0);break;case ue.RawInflateStream.Status.BLOCK_HEADER_END:case ue.RawInflateStream.Status.BLOCK_BODY_START:switch(this.currentBlockType){case ue.RawInflateStream.BlockType.UNCOMPRESSED:this.readUncompressedBlockHeader()<0&&(i=!0);break;case ue.RawInflateStream.BlockType.FIXED:this.parseFixedHuffmanBlock()<0&&(i=!0);break;case ue.RawInflateStream.BlockType.DYNAMIC:this.parseDynamicHuffmanBlock()<0&&(i=!0)}break;case ue.RawInflateStream.Status.BLOCK_BODY_END:case ue.RawInflateStream.Status.DECODE_BLOCK_START:switch(this.currentBlockType){case ue.RawInflateStream.BlockType.UNCOMPRESSED:this.parseUncompressedBlock()<0&&(i=!0);break;case ue.RawInflateStream.BlockType.FIXED:case ue.RawInflateStream.BlockType.DYNAMIC:this.decodeHuffman()<0&&(i=!0)}break;case ue.RawInflateStream.Status.DECODE_BLOCK_END:this.bfinal?i=!0:this.status=ue.RawInflateStream.Status.INITIALIZED}return this.concatBuffer()},ue.RawInflateStream.MaxBackwardLength=32768,ue.RawInflateStream.MaxCopyLength=258,ue.RawInflateStream.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ue.RawInflateStream.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),ue.RawInflateStream.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),ue.RawInflateStream.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),ue.RawInflateStream.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ue.RawInflateStream.FixedLiteralLengthTable=function(){var e,t,i=new Uint8Array(288);for(e=0,t=i.length;e<t;++e)i[e]=e<=143?8:e<=255?9:e<=279?7:8;return pe(i)}(),ue.RawInflateStream.FixedDistanceTable=function(){var e,t,i=new Uint8Array(30);for(e=0,t=i.length;e<t;++e)i[e]=5;return pe(i)}(),ue.RawInflateStream.prototype.readBlockHeader=function(){var e;if(this.status=ue.RawInflateStream.Status.BLOCK_HEADER_START,this.save_(),(e=this.readBits(3))<0)return this.restore_(),-1;switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.currentBlockType=ue.RawInflateStream.BlockType.UNCOMPRESSED;break;case 1:this.currentBlockType=ue.RawInflateStream.BlockType.FIXED;break;case 2:this.currentBlockType=ue.RawInflateStream.BlockType.DYNAMIC;break;default:throw new Error("unknown BTYPE: "+e)}this.status=ue.RawInflateStream.Status.BLOCK_HEADER_END},ue.RawInflateStream.prototype.readBits=function(e){for(var t,i=this.bitsbuf,n=this.bitsbuflen,r=this.input,a=this.ip;n<e;){if(r.length<=a)return-1;i|=(t=r[a++])<<n,n+=8}return t=i&(1<<e)-1,i>>>=e,n-=e,this.bitsbuf=i,this.bitsbuflen=n,this.ip=a,t},ue.RawInflateStream.prototype.readCodeByTable=function(e){for(var t,i,n=this.bitsbuf,r=this.bitsbuflen,a=this.input,s=this.ip,o=e[0],l=e[1];r<l;){if(a.length<=s)return-1;n|=a[s++]<<r,r+=8}if((i=(t=o[n&(1<<l)-1])>>>16)>r)throw new Error("invalid code length: "+i);return this.bitsbuf=n>>i,this.bitsbuflen=r-i,this.ip=s,65535&t},ue.RawInflateStream.prototype.readUncompressedBlockHeader=function(){var e,t=this.input,i=this.ip;if(this.status=ue.RawInflateStream.Status.BLOCK_BODY_START,i+4>=t.length)return-1;if((e=t[i++]|t[i++]<<8)===~(t[i++]|t[i++]<<8))throw new Error("invalid uncompressed block header: length verify");this.bitsbuf=0,this.bitsbuflen=0,this.ip=i,this.blockLength=e,this.status=ue.RawInflateStream.Status.BLOCK_BODY_END},ue.RawInflateStream.prototype.parseUncompressedBlock=function(){var e=this.input,t=this.ip,i=this.output,n=this.op,r=this.blockLength;for(this.status=ue.RawInflateStream.Status.DECODE_BLOCK_START;r--;){if(n===i.length&&(i=this.expandBuffer({fixRatio:2})),t>=e.length)return this.ip=t,this.op=n,this.blockLength=r+1,-1;i[n++]=e[t++]}return r<0&&(this.status=ue.RawInflateStream.Status.DECODE_BLOCK_END),this.ip=t,this.op=n,0},ue.RawInflateStream.prototype.parseFixedHuffmanBlock=function(){return this.status=ue.RawInflateStream.Status.BLOCK_BODY_START,this.litlenTable=ue.RawInflateStream.FixedLiteralLengthTable,this.distTable=ue.RawInflateStream.FixedDistanceTable,this.status=ue.RawInflateStream.Status.BLOCK_BODY_END,0},ue.RawInflateStream.prototype.save_=function(){this.ip_=this.ip,this.bitsbuflen_=this.bitsbuflen,this.bitsbuf_=this.bitsbuf},ue.RawInflateStream.prototype.restore_=function(){this.ip=this.ip_,this.bitsbuflen=this.bitsbuflen_,this.bitsbuf=this.bitsbuf_},ue.RawInflateStream.prototype.parseDynamicHuffmanBlock=function(){var e,t,i,n,r=new Uint8Array(ue.RawInflateStream.Order.length);if(this.status=ue.RawInflateStream.Status.BLOCK_BODY_START,this.save_(),e=this.readBits(5)+257,t=this.readBits(5)+1,i=this.readBits(4)+4,e<0||t<0||i<0)return this.restore_(),-1;try{(function(){var a,s,o,l,h,f,c=0;for(h=0;h<i;++h){if((a=this.readBits(3))<0)throw new Error("not enough input");r[ue.RawInflateStream.Order[h]]=a}for(n=pe(r),l=new Uint8Array(e+t),h=0,f=e+t;h<f;){if((s=this.readCodeByTable(n))<0)throw new Error("not enough input");switch(s){case 16:if((a=this.readBits(2))<0)throw new Error("not enough input");for(o=3+a;o--;)l[h++]=c;break;case 17:if((a=this.readBits(3))<0)throw new Error("not enough input");for(o=3+a;o--;)l[h++]=0;c=0;break;case 18:if((a=this.readBits(7))<0)throw new Error("not enough input");for(o=11+a;o--;)l[h++]=0;c=0;break;default:l[h++]=s,c=s}}this.litlenTable=pe(l.subarray(0,e)),this.distTable=pe(l.subarray(e))}).call(this)}catch(e){return this.restore_(),-1}return this.status=ue.RawInflateStream.Status.BLOCK_BODY_END,0},ue.RawInflateStream.prototype.decodeHuffman=function(){var e,t,i,n,r,a=this.output,s=this.op,o=this.litlenTable,l=this.distTable,h=a.length;for(this.status=ue.RawInflateStream.Status.DECODE_BLOCK_START;;){if(this.save_(),(e=this.readCodeByTable(o))<0)return this.op=s,this.restore_(),-1;if(256===e)break;if(e<256)s===h&&(h=(a=this.expandBuffer()).length),a[s++]=e;else{if(t=e-257,n=ue.RawInflateStream.LengthCodeTable[t],ue.RawInflateStream.LengthExtraTable[t]>0){if((r=this.readBits(ue.RawInflateStream.LengthExtraTable[t]))<0)return this.op=s,this.restore_(),-1;n+=r}if((e=this.readCodeByTable(l))<0)return this.op=s,this.restore_(),-1;if(i=ue.RawInflateStream.DistCodeTable[e],ue.RawInflateStream.DistExtraTable[e]>0){if((r=this.readBits(ue.RawInflateStream.DistExtraTable[e]))<0)return this.op=s,this.restore_(),-1;i+=r}for(s+n>=h&&(h=(a=this.expandBuffer()).length);n--;)a[s]=a[s++-i];if(this.ip===this.input.length)return this.op=s,-1}}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=s,this.status=ue.RawInflateStream.Status.DECODE_BLOCK_END},ue.RawInflateStream.prototype.expandBuffer=function(e){var t,i,n,r=this.input.length/this.ip+1|0,a=this.input,s=this.output;return e&&("number"==typeof e.fixRatio&&(r=e.fixRatio),"number"==typeof e.addRatio&&(r+=e.addRatio)),i=r<2?(n=(a.length-this.ip)/this.litlenTable[2]/2*258|0)<s.length?s.length+n:s.length<<1:s.length*r,(t=new Uint8Array(i)).set(s),this.output=t,this.output},ue.RawInflateStream.prototype.concatBuffer=function(){var e,t,i=this.op;return e=this.resize?new Uint8Array(this.output.subarray(this.sp,i)):this.output.subarray(this.sp,i),this.sp=i,i>ue.RawInflateStream.MaxBackwardLength+this.bufferSize&&(this.op=this.sp=ue.RawInflateStream.MaxBackwardLength,t=this.output,this.output=new Uint8Array(this.bufferSize+ue.RawInflateStream.MaxBackwardLength),this.output.set(t.subarray(i-ue.RawInflateStream.MaxBackwardLength,i))),e},ue.Inflate=function(e,t){var i,n;switch(this.input=e,this.ip=0,this.rawinflate,this.verify,!t&&(t={})||(t.index&&(this.ip=t.index),t.verify&&(this.verify=t.verify)),i=e[this.ip++],n=e[this.ip++],15&i){case ue.CompressionMethod.DEFLATE:this.method=ue.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((i<<8)+n)%31!=0)throw new Error("invalid fcheck flag:"+((i<<8)+n)%31);if(32&n)throw new Error("fdict flag is not supported");this.rawinflate=new ue.RawInflate(e,{index:this.ip,bufferSize:t.bufferSize,bufferType:t.bufferType,resize:t.resize})},ue.Inflate.BufferType=ue.RawInflate.BufferType,ue.Inflate.prototype.decompress=function(){var e,t=this.input;if(e=this.rawinflate.decompress(),this.ip=this.rawinflate.ip,this.verify&&(t[this.ip++]<<24|t[this.ip++]<<16|t[this.ip++]<<8|t[this.ip++])>>>0!==ue.Adler32(e))throw new Error("invalid adler-32 checksum");return e},ue.InflateStream=function(e){this.input=void 0===e?new Uint8Array:e,this.ip=0,this.rawinflate=new ue.RawInflateStream(this.input,this.ip),this.method,this.output=this.rawinflate.output},ue.InflateStream.prototype.decompress=function(e){var t;if(void 0!==e){var i=new Uint8Array(this.input.length+e.length);i.set(this.input,0),i.set(e,this.input.length),this.input=i}return void 0===this.method&&this.readHeader()<0?new Uint8Array:(t=this.rawinflate.decompress(this.input,this.ip),0!==this.rawinflate.ip&&(this.input=this.input.subarray(this.rawinflate.ip),this.ip=0),t)},ue.InflateStream.prototype.readHeader=function(){var e=this.ip,t=this.input,i=t[e++],n=t[e++];if(void 0===i||void 0===n)return-1;switch(15&i){case ue.CompressionMethod.DEFLATE:this.method=ue.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((i<<8)+n)%31!=0)throw new Error("invalid fcheck flag:"+((i<<8)+n)%31);if(32&n)throw new Error("fdict flag is not supported");this.ip=e},ue.Gunzip=function(e,t){this.input=e,this.ip=0,this.member=[],this.decompressed=!1},ue.Gunzip.prototype.getMembers=function(){return this.decompressed||this.decompress(),this.member.slice()},ue.Gunzip.prototype.decompress=function(){for(var e=this.input.length;this.ip<e;)this.decodeMember();return this.decompressed=!0,this.concatMember()},ue.Gunzip.prototype.decodeMember=function(){var e,t,i,n,r,a,s,o,l,h=new ue.GunzipMember,f=this.input,c=this.ip;if(h.id1=f[c++],h.id2=f[c++],31!==h.id1||139!==h.id2)throw new Error("invalid file signature:"+h.id1+","+h.id2);switch(h.cm=f[c++],h.cm){case 8:break;default:throw new Error("unknown compression method: "+h.cm)}if(h.flg=f[c++],o=f[c++]|f[c++]<<8|f[c++]<<16|f[c++]<<24,h.mtime=new Date(1e3*o),h.xfl=f[c++],h.os=f[c++],(h.flg&ue.Gzip.FlagsMask.FEXTRA)>0&&(h.xlen=f[c++]|f[c++]<<8,c=this.decodeSubField(c,h.xlen)),(h.flg&ue.Gzip.FlagsMask.FNAME)>0){for(s=[],a=0;(r=f[c++])>0;)s[a++]=String.fromCharCode(r);h.name=s.join("")}if((h.flg&ue.Gzip.FlagsMask.FCOMMENT)>0){for(s=[],a=0;(r=f[c++])>0;)s[a++]=String.fromCharCode(r);h.comment=s.join("")}if((h.flg&ue.Gzip.FlagsMask.FHCRC)>0&&(h.crc16=65535&ue.CRC32.calc(f,0,c),h.crc16!==(f[c++]|f[c++]<<8)))throw new Error("invalid header crc16");if(e=f[f.length-4]|f[f.length-3]<<8|f[f.length-2]<<16|f[f.length-1]<<24,f.length-c-4-4<512*e&&(n=e),t=new ue.RawInflate(f,{index:c,bufferSize:n}),h.data=i=t.decompress(),c=t.ip,h.crc32=l=(f[c++]|f[c++]<<8|f[c++]<<16|f[c++]<<24)>>>0,ue.CRC32.calc(i)!==l)throw new Error("invalid CRC-32 checksum: 0x"+ue.CRC32.calc(i).toString(16)+" / 0x"+l.toString(16));if(h.isize=e=(f[c++]|f[c++]<<8|f[c++]<<16|f[c++]<<24)>>>0,(4294967295&i.length)!==e)throw new Error("invalid input size: "+(4294967295&i.length)+" / "+e);this.member.push(h),this.ip=c},ue.Gunzip.prototype.decodeSubField=function(e,t){return e+t},ue.Gunzip.prototype.concatMember=function(){var e,t,i,n=this.member,r=0,a=0;for(e=0,t=n.length;e<t;++e)a+=n[e].data.length;for(i=new Uint8Array(a),e=0;e<t;++e)i.set(n[e].data,r),r+=n[e].data.length;return i},ue.GunzipMember=function(){this.id1,this.id2,this.cm,this.flg,this.mtime,this.xfl,this.os,this.crc16,this.xlen,this.crc32,this.isize,this.name,this.comment,this.data},ue.GunzipMember.prototype.getName=function(){return this.name},ue.GunzipMember.prototype.getData=function(){return this.data},ue.GunzipMember.prototype.getMtime=function(){return this.mtime},ue.Gzip=function(e,t){this.input=e,this.ip=0,this.output,this.op=0,this.flags={},this.filename,this.comment,this.deflateOptions,t&&(t.flags&&(this.flags=t.flags),"string"==typeof t.filename&&(this.filename=t.filename),"string"==typeof t.comment&&(this.comment=t.comment),t.deflateOptions&&(this.deflateOptions=t.deflateOptions)),this.deflateOptions||(this.deflateOptions={})},ue.Gzip.DefaultBufferSize=32768,ue.Gzip.prototype.compress=function(){var e,t,i,n,r,a,s,o,l=new Uint8Array(ue.Gzip.DefaultBufferSize),h=0,f=this.input,c=this.ip,u=this.filename,p=this.comment;if(l[h++]=31,l[h++]=139,l[h++]=8,e=0,this.flags.fname&&(e|=ue.Gzip.FlagsMask.FNAME),this.flags.fcomment&&(e|=ue.Gzip.FlagsMask.FCOMMENT),this.flags.fhcrc&&(e|=ue.Gzip.FlagsMask.FHCRC),l[h++]=e,t=(Date.now?Date.now():+new Date)/1e3|0,l[h++]=255&t,l[h++]=t>>>8&255,l[h++]=t>>>16&255,l[h++]=t>>>24&255,l[h++]=0,l[h++]=ue.Gzip.OperatingSystem.UNKNOWN,void 0!==this.flags.fname){for(s=0,o=u.length;s<o;++s)(a=u.charCodeAt(s))>255&&(l[h++]=a>>>8&255),l[h++]=255&a;l[h++]=0}if(this.flags.comment){for(s=0,o=p.length;s<o;++s)(a=p.charCodeAt(s))>255&&(l[h++]=a>>>8&255),l[h++]=255&a;l[h++]=0}return this.flags.fhcrc&&(i=65535&ue.CRC32.calc(l,0,h),l[h++]=255&i,l[h++]=i>>>8&255),this.deflateOptions.outputBuffer=l,this.deflateOptions.outputIndex=h,l=(r=new ue.RawDeflate(f,this.deflateOptions)).compress(),(h=r.op)+8>l.buffer.byteLength?(this.output=new Uint8Array(h+8),this.output.set(new Uint8Array(l.buffer)),l=this.output):l=new Uint8Array(l.buffer),n=ue.CRC32.calc(f),l[h++]=255&n,l[h++]=n>>>8&255,l[h++]=n>>>16&255,l[h++]=n>>>24&255,o=f.length,l[h++]=255&o,l[h++]=o>>>8&255,l[h++]=o>>>16&255,l[h++]=o>>>24&255,this.ip=c,h<l.length&&(this.output=l=l.subarray(0,h)),l},ue.Gzip.OperatingSystem={FAT:0,AMIGA:1,VMS:2,UNIX:3,VM_CMS:4,ATARI_TOS:5,HPFS:6,MACINTOSH:7,Z_SYSTEM:8,CP_M:9,TOPS_20:10,NTFS:11,QDOS:12,ACORN_RISCOS:13,UNKNOWN:255},ue.Gzip.FlagsMask={FTEXT:1,FHCRC:2,FEXTRA:4,FNAME:8,FCOMMENT:16},ue.Heap=function(e){this.buffer=new Uint16Array(2*e),this.length=0},ue.Heap.prototype.getParent=function(e){return 2*((e-2)/4|0)},ue.Heap.prototype.getChild=function(e){return 2*e+2},ue.Heap.prototype.push=function(e,t){var i,n,r,a=this.buffer;for(i=this.length,a[this.length++]=t,a[this.length++]=e;i>0&&(n=this.getParent(i),a[i]>a[n]);)r=a[i],a[i]=a[n],a[n]=r,r=a[i+1],a[i+1]=a[n+1],a[n+1]=r,i=n;return this.length},ue.Heap.prototype.pop=function(){var e,t,i,n,r,a=this.buffer;for(t=a[0],e=a[1],this.length-=2,a[0]=a[this.length],a[1]=a[this.length+1],r=0;!((n=this.getChild(r))>=this.length)&&(n+2<this.length&&a[n+2]>a[n]&&(n+=2),a[n]>a[r]);)i=a[r],a[r]=a[n],a[n]=i,i=a[r+1],a[r+1]=a[n+1],a[n+1]=i,r=n;return{index:e,value:t,length:this.length}},ue.RawDeflate=function(e,t){this.compressionType=ue.RawDeflate.CompressionType.DYNAMIC,this.lazy=0,this.freqsLitLen,this.freqsDist,this.input=e instanceof Array?new Uint8Array(e):e,this.output,this.op=0,t&&(t.lazy&&(this.lazy=t.lazy),"number"==typeof t.compressionType&&(this.compressionType=t.compressionType),t.outputBuffer&&(this.output=t.outputBuffer instanceof Array?new Uint8Array(t.outputBuffer):t.outputBuffer),"number"==typeof t.outputIndex&&(this.op=t.outputIndex)),this.output||(this.output=new Uint8Array(32768))},ue.RawDeflate.CompressionType={NONE:0,FIXED:1,DYNAMIC:2,RESERVED:3},ue.RawDeflate.Lz77MinLength=3,ue.RawDeflate.Lz77MaxLength=258,ue.RawDeflate.WindowSize=32768,ue.RawDeflate.MaxCodeLength=16,ue.RawDeflate.HUFMAX=286,ue.RawDeflate.FixedHuffmanTable=function(){var e,t=[];for(e=0;e<288;e++)switch(!0){case e<=143:t.push([e+48,8]);break;case e<=255:t.push([e-144+400,9]);break;case e<=279:t.push([e-256+0,7]);break;case e<=287:t.push([e-280+192,8]);break;default:throw"invalid literal: "+e}return t}(),ue.RawDeflate.prototype.compress=function(){var e,t,i,n=this.input;switch(this.compressionType){case ue.RawDeflate.CompressionType.NONE:for(t=0,i=n.length;t<i;)t+=(e=n.subarray(t,t+65535)).length,this.makeNocompressBlock(e,t===i);break;case ue.RawDeflate.CompressionType.FIXED:this.output=this.makeFixedHuffmanBlock(n,!0),this.op=this.output.length;break;case ue.RawDeflate.CompressionType.DYNAMIC:this.output=this.makeDynamicHuffmanBlock(n,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output},ue.RawDeflate.prototype.makeNocompressBlock=function(e,t){var i,n,r,a,s=this.output,o=this.op;for(s=new Uint8Array(this.output.buffer);s.length<=o+e.length+5;)s=new Uint8Array(s.length<<1);return s.set(this.output),i=t?1:0,n=ue.RawDeflate.CompressionType.NONE,s[o++]=i|n<<1,a=65536+~(r=e.length)&65535,s[o++]=255&r,s[o++]=r>>>8&255,s[o++]=255&a,s[o++]=a>>>8&255,s.set(e,o),o+=e.length,s=s.subarray(0,o),this.op=o,this.output=s,s},ue.RawDeflate.prototype.makeFixedHuffmanBlock=function(e,t){var i,n,r,a=new ue.BitStream(new Uint8Array(this.output.buffer),this.op);return i=t?1:0,n=ue.RawDeflate.CompressionType.FIXED,a.writeBits(i,1,!0),a.writeBits(n,2,!0),r=this.lz77(e),this.fixedHuffman(r,a),a.finish()},ue.RawDeflate.prototype.makeDynamicHuffmanBlock=function(e,t){var i,n,r,a,s,o,l,h,f,c,u,p,d,g,w,m,y,b=new ue.BitStream(new Uint8Array(this.output.buffer),this.op),v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=new Array(19);for(i=t?1:0,n=ue.RawDeflate.CompressionType.DYNAMIC,b.writeBits(i,1,!0),b.writeBits(n,2,!0),r=this.lz77(e),l=this.getLengths_(this.freqsLitLen,15),h=this.getCodesFromLengths_(l),f=this.getLengths_(this.freqsDist,7),c=this.getCodesFromLengths_(f),a=286;a>257&&0===l[a-1];a--);for(s=30;s>1&&0===f[s-1];s--);for(u=this.getTreeSymbols_(a,l,s,f),p=this.getLengths_(u.freqs,7),m=0;m<19;m++)k[m]=p[v[m]];for(o=19;o>4&&0===k[o-1];o--);for(d=this.getCodesFromLengths_(p),b.writeBits(a-257,5,!0),b.writeBits(s-1,5,!0),b.writeBits(o-4,4,!0),m=0;m<o;m++)b.writeBits(k[m],3,!0);for(m=0,y=u.codes.length;m<y;m++)if(g=u.codes[m],b.writeBits(d[g],p[g],!0),g>=16){switch(m++,g){case 16:w=2;break;case 17:w=3;break;case 18:w=7;break;default:throw"invalid code: "+g}b.writeBits(u.codes[m],w,!0)}return this.dynamicHuffman(r,[h,l],[c,f],b),b.finish()},ue.RawDeflate.prototype.dynamicHuffman=function(e,t,i,n){var r,a,s,o,l,h,f,c;for(l=t[0],h=t[1],f=i[0],c=i[1],r=0,a=e.length;r<a;++r)if(s=e[r],n.writeBits(l[s],h[s],!0),s>256)n.writeBits(e[++r],e[++r],!0),o=e[++r],n.writeBits(f[o],c[o],!0),n.writeBits(e[++r],e[++r],!0);else if(256===s)break;return n},ue.RawDeflate.prototype.fixedHuffman=function(e,t){var i,n,r;for(i=0,n=e.length;i<n;i++)if(r=e[i],ue.BitStream.prototype.writeBits.apply(t,ue.RawDeflate.FixedHuffmanTable[r]),r>256)t.writeBits(e[++i],e[++i],!0),t.writeBits(e[++i],5),t.writeBits(e[++i],e[++i],!0);else if(256===r)break;return t},ue.RawDeflate.Lz77Match=function(e,t){this.length=e,this.backwardDistance=t},ue.RawDeflate.Lz77Match.LengthCodeTable=function(e){return new Uint32Array(e)}(function(){var e,t,i=[];for(e=3;e<=258;e++)t=n(e),i[e]=t[2]<<24|t[1]<<16|t[0];function n(e){switch(!0){case 3===e:return[257,e-3,0];case 4===e:return[258,e-4,0];case 5===e:return[259,e-5,0];case 6===e:return[260,e-6,0];case 7===e:return[261,e-7,0];case 8===e:return[262,e-8,0];case 9===e:return[263,e-9,0];case 10===e:return[264,e-10,0];case e<=12:return[265,e-11,1];case e<=14:return[266,e-13,1];case e<=16:return[267,e-15,1];case e<=18:return[268,e-17,1];case e<=22:return[269,e-19,2];case e<=26:return[270,e-23,2];case e<=30:return[271,e-27,2];case e<=34:return[272,e-31,2];case e<=42:return[273,e-35,3];case e<=50:return[274,e-43,3];case e<=58:return[275,e-51,3];case e<=66:return[276,e-59,3];case e<=82:return[277,e-67,4];case e<=98:return[278,e-83,4];case e<=114:return[279,e-99,4];case e<=130:return[280,e-115,4];case e<=162:return[281,e-131,5];case e<=194:return[282,e-163,5];case e<=226:return[283,e-195,5];case e<=257:return[284,e-227,5];case 258===e:return[285,e-258,0];default:throw"invalid length: "+e}}return i}()),ue.RawDeflate.Lz77Match.prototype.getDistanceCode_=function(e){var t;switch(!0){case 1===e:t=[0,e-1,0];break;case 2===e:t=[1,e-2,0];break;case 3===e:t=[2,e-3,0];break;case 4===e:t=[3,e-4,0];break;case e<=6:t=[4,e-5,1];break;case e<=8:t=[5,e-7,1];break;case e<=12:t=[6,e-9,2];break;case e<=16:t=[7,e-13,2];break;case e<=24:t=[8,e-17,3];break;case e<=32:t=[9,e-25,3];break;case e<=48:t=[10,e-33,4];break;case e<=64:t=[11,e-49,4];break;case e<=96:t=[12,e-65,5];break;case e<=128:t=[13,e-97,5];break;case e<=192:t=[14,e-129,6];break;case e<=256:t=[15,e-193,6];break;case e<=384:t=[16,e-257,7];break;case e<=512:t=[17,e-385,7];break;case e<=768:t=[18,e-513,8];break;case e<=1024:t=[19,e-769,8];break;case e<=1536:t=[20,e-1025,9];break;case e<=2048:t=[21,e-1537,9];break;case e<=3072:t=[22,e-2049,10];break;case e<=4096:t=[23,e-3073,10];break;case e<=6144:t=[24,e-4097,11];break;case e<=8192:t=[25,e-6145,11];break;case e<=12288:t=[26,e-8193,12];break;case e<=16384:t=[27,e-12289,12];break;case e<=24576:t=[28,e-16385,13];break;case e<=32768:t=[29,e-24577,13];break;default:throw"invalid distance"}return t},ue.RawDeflate.Lz77Match.prototype.toLz77Array=function(){var e,t=this.length,i=this.backwardDistance,n=[],r=0;return e=ue.RawDeflate.Lz77Match.LengthCodeTable[t],n[r++]=65535&e,n[r++]=e>>16&255,n[r++]=e>>24,e=this.getDistanceCode_(i),n[r++]=e[0],n[r++]=e[1],n[r++]=e[2],n},ue.RawDeflate.prototype.lz77=function(e){var t,i,n,r,a,s,o,l,h,f={},c=ue.RawDeflate.WindowSize,u=new Uint16Array(2*e.length),p=0,d=0,g=new Uint32Array(286),w=new Uint32Array(30),m=this.lazy;function y(e,t){var i,n,r=e.toLz77Array();for(i=0,n=r.length;i<n;++i)u[p++]=r[i];g[r[0]]++,w[r[3]]++,d=e.length+t-1,l=null}for(g[256]=1,t=0,i=e.length;t<i;++t){for(a=0,n=0,r=ue.RawDeflate.Lz77MinLength;n<r&&t+n!==i;++n)a=a<<8|e[t+n];if(void 0===f[a]&&(f[a]=[]),s=f[a],d-- >0)s.push(t);else{for(;s.length>0&&t-s[0]>c;)s.shift();if(t+ue.RawDeflate.Lz77MinLength>=i){for(l&&y(l,-1),n=0,r=i-t;n<r;++n)h=e[t+n],u[p++]=h,++g[h];break}s.length>0?(o=this.searchLongestMatch_(e,t,s),l?l.length<o.length?(h=e[t-1],u[p++]=h,++g[h],y(o,0)):y(l,-1):o.length<m?l=o:y(o,0)):l?y(l,-1):(h=e[t],u[p++]=h,++g[h]),s.push(t)}}return u[p++]=256,g[256]++,this.freqsLitLen=g,this.freqsDist=w,u.subarray(0,p)},ue.RawDeflate.prototype.searchLongestMatch_=function(e,t,i){var n,r,a,s,o,l,h=0,f=e.length;e:for(s=0,l=i.length;s<l;s++){if(n=i[l-s-1],a=ue.RawDeflate.Lz77MinLength,h>ue.RawDeflate.Lz77MinLength){for(o=h;o>ue.RawDeflate.Lz77MinLength;o--)if(e[n+o-1]!==e[t+o-1])continue e;a=h}for(;a<ue.RawDeflate.Lz77MaxLength&&t+a<f&&e[n+a]===e[t+a];)++a;if(a>h&&(r=n,h=a),a===ue.RawDeflate.Lz77MaxLength)break}return new ue.RawDeflate.Lz77Match(h,t-r)},ue.RawDeflate.prototype.getTreeSymbols_=function(e,t,i,n){var r,a,s,o,l,h,f=new Uint32Array(e+i),c=new Uint32Array(316),u=new Uint8Array(19);for(a=0,r=0;r<e;r++)f[a++]=t[r];for(r=0;r<i;r++)f[a++]=n[r];for(l=0,r=0,o=f.length;r<o;r+=a){for(a=1;r+a<o&&f[r+a]===f[r];++a);if(s=a,0===f[r])if(s<3)for(;s-- >0;)c[l++]=0,u[0]++;else for(;s>0;)(h=s<138?s:138)>s-3&&h<s&&(h=s-3),h<=10?(c[l++]=17,c[l++]=h-3,u[17]++):(c[l++]=18,c[l++]=h-11,u[18]++),s-=h;else if(c[l++]=f[r],u[f[r]]++,--s<3)for(;s-- >0;)c[l++]=f[r],u[f[r]]++;else for(;s>0;)(h=s<6?s:6)>s-3&&h<s&&(h=s-3),c[l++]=16,c[l++]=h-3,u[16]++,s-=h}return{codes:c.subarray(0,l),freqs:u}},ue.RawDeflate.prototype.getLengths_=function(e,t){var i,n,r,a,s,o=e.length,l=new ue.Heap(2*ue.RawDeflate.HUFMAX),h=new Uint8Array(o);for(a=0;a<o;++a)e[a]>0&&l.push(a,e[a]);if(i=new Array(l.length/2),n=new Uint32Array(l.length/2),1===i.length)return h[l.pop().index]=1,h;for(a=0,s=l.length/2;a<s;++a)i[a]=l.pop(),n[a]=i[a].value;for(r=this.reversePackageMerge_(n,n.length,t),a=0,s=i.length;a<s;++a)h[i[a].index]=r[a];return h},ue.RawDeflate.prototype.reversePackageMerge_=function(e,t,i){var n,r,a,s,o,l=new Uint16Array(i),h=new Uint8Array(i),f=new Uint8Array(t),c=new Array(i),u=new Array(i),p=new Array(i),d=(1<<i)-t,g=1<<i-1;function w(e){var i=u[e][p[e]];i===t?(w(e+1),w(e+1)):--f[i],++p[e]}for(l[i-1]=t,r=0;r<i;++r)d<g?h[r]=0:(h[r]=1,d-=g),d<<=1,l[i-2-r]=(l[i-1-r]/2|0)+t;for(l[0]=h[0],c[0]=new Array(l[0]),u[0]=new Array(l[0]),r=1;r<i;++r)l[r]>2*l[r-1]+h[r]&&(l[r]=2*l[r-1]+h[r]),c[r]=new Array(l[r]),u[r]=new Array(l[r]);for(n=0;n<t;++n)f[n]=i;for(a=0;a<l[i-1];++a)c[i-1][a]=e[a],u[i-1][a]=a;for(n=0;n<i;++n)p[n]=0;for(1===h[i-1]&&(--f[0],++p[i-1]),r=i-2;r>=0;--r){for(n=0,s=0,o=p[r+1],a=0;a<l[r];a++)(s=c[r+1][o]+c[r+1][o+1])>e[n]?(c[r][a]=s,u[r][a]=t,o+=2):(c[r][a]=e[n],u[r][a]=n,++n);p[r]=0,1===h[r]&&w(r)}return f},ue.RawDeflate.prototype.getCodesFromLengths_=function(e){var t,i,n,r,a=new Uint16Array(e.length),s=[],o=[],l=0;for(t=0,i=e.length;t<i;t++)s[e[t]]=1+(0|s[e[t]]);for(t=1,i=ue.RawDeflate.MaxCodeLength;t<=i;t++)o[t]=l,l+=0|s[t],l<<=1;for(t=0,i=e.length;t<i;t++)for(l=o[e[t]],o[e[t]]+=1,a[t]=0,n=0,r=e[t];n<r;n++)a[t]=a[t]<<1|1&l,l>>>=1;return a},ue.Unzip=function(e,t){t=t||{},this.input=e instanceof Array?new Uint8Array(e):e,this.ip=0,this.eocdrOffset,this.numberOfThisDisk,this.startDisk,this.totalEntriesThisDisk,this.totalEntries,this.centralDirectorySize,this.centralDirectoryOffset,this.commentLength,this.comment,this.fileHeaderList,this.filenameToIndex,this.verify=t.verify||!1,this.password=t.password},ue.Unzip.CompressionMethod=ue.Zip.CompressionMethod,ue.Unzip.FileHeaderSignature=ue.Zip.FileHeaderSignature,ue.Unzip.LocalFileHeaderSignature=ue.Zip.LocalFileHeaderSignature,ue.Unzip.CentralDirectorySignature=ue.Zip.CentralDirectorySignature,ue.Unzip.FileHeader=function(e,t){this.input=e,this.offset=t,this.length,this.version,this.os,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.fileCommentLength,this.diskNumberStart,this.internalFileAttributes,this.externalFileAttributes,this.relativeOffset,this.filename,this.extraField,this.comment},ue.Unzip.FileHeader.prototype.parse=function(){var e=this.input,t=this.offset;if(e[t++]!==ue.Unzip.FileHeaderSignature[0]||e[t++]!==ue.Unzip.FileHeaderSignature[1]||e[t++]!==ue.Unzip.FileHeaderSignature[2]||e[t++]!==ue.Unzip.FileHeaderSignature[3])throw new Error("invalid file header signature");this.version=e[t++],this.os=e[t++],this.needVersion=e[t++]|e[t++]<<8,this.flags=e[t++]|e[t++]<<8,this.compression=e[t++]|e[t++]<<8,this.time=e[t++]|e[t++]<<8,this.date=e[t++]|e[t++]<<8,this.crc32=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.compressedSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.plainSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.fileNameLength=e[t++]|e[t++]<<8,this.extraFieldLength=e[t++]|e[t++]<<8,this.fileCommentLength=e[t++]|e[t++]<<8,this.diskNumberStart=e[t++]|e[t++]<<8,this.internalFileAttributes=e[t++]|e[t++]<<8,this.externalFileAttributes=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,this.relativeOffset=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.filename=String.fromCharCode.apply(null,e.subarray(t,t+=this.fileNameLength)),this.extraField=e.subarray(t,t+=this.extraFieldLength),this.comment=e.subarray(t,t+this.fileCommentLength),this.length=t-this.offset},ue.Unzip.LocalFileHeader=function(e,t){this.input=e,this.offset=t,this.length,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.filename,this.extraField},ue.Unzip.LocalFileHeader.Flags=ue.Zip.Flags,ue.Unzip.LocalFileHeader.prototype.parse=function(){var e=this.input,t=this.offset;if(e[t++]!==ue.Unzip.LocalFileHeaderSignature[0]||e[t++]!==ue.Unzip.LocalFileHeaderSignature[1]||e[t++]!==ue.Unzip.LocalFileHeaderSignature[2]||e[t++]!==ue.Unzip.LocalFileHeaderSignature[3])throw new Error("invalid local file header signature");this.needVersion=e[t++]|e[t++]<<8,this.flags=e[t++]|e[t++]<<8,this.compression=e[t++]|e[t++]<<8,this.time=e[t++]|e[t++]<<8,this.date=e[t++]|e[t++]<<8,this.crc32=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.compressedSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.plainSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.fileNameLength=e[t++]|e[t++]<<8,this.extraFieldLength=e[t++]|e[t++]<<8,this.filename=String.fromCharCode.apply(null,e.subarray(t,t+=this.fileNameLength)),this.extraField=e.subarray(t,t+=this.extraFieldLength),this.length=t-this.offset},ue.Unzip.prototype.searchEndOfCentralDirectoryRecord=function(){var e,t=this.input;for(e=t.length-12;e>0;--e)if(t[e]===ue.Unzip.CentralDirectorySignature[0]&&t[e+1]===ue.Unzip.CentralDirectorySignature[1]&&t[e+2]===ue.Unzip.CentralDirectorySignature[2]&&t[e+3]===ue.Unzip.CentralDirectorySignature[3])return void(this.eocdrOffset=e);throw new Error("End of Central Directory Record not found")},ue.Unzip.prototype.parseEndOfCentralDirectoryRecord=function(){var e,t=this.input;if(this.eocdrOffset||this.searchEndOfCentralDirectoryRecord(),e=this.eocdrOffset,t[e++]!==ue.Unzip.CentralDirectorySignature[0]||t[e++]!==ue.Unzip.CentralDirectorySignature[1]||t[e++]!==ue.Unzip.CentralDirectorySignature[2]||t[e++]!==ue.Unzip.CentralDirectorySignature[3])throw new Error("invalid signature");this.numberOfThisDisk=t[e++]|t[e++]<<8,this.startDisk=t[e++]|t[e++]<<8,this.totalEntriesThisDisk=t[e++]|t[e++]<<8,this.totalEntries=t[e++]|t[e++]<<8,this.centralDirectorySize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.centralDirectoryOffset=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.commentLength=t[e++]|t[e++]<<8,this.comment=t.subarray(e,e+this.commentLength)},ue.Unzip.prototype.parseFileHeader=function(){var e,t,i,n,r=[],a={};if(!this.fileHeaderList){for(void 0===this.centralDirectoryOffset&&this.parseEndOfCentralDirectoryRecord(),e=this.centralDirectoryOffset,i=0,n=this.totalEntries;i<n;++i)(t=new ue.Unzip.FileHeader(this.input,e)).parse(),e+=t.length,r[i]=t,a[t.filename]=i;if(this.centralDirectorySize<e-this.centralDirectoryOffset)throw new Error("invalid file header size");this.fileHeaderList=r,this.filenameToIndex=a}},ue.Unzip.prototype.getFileData=function(e,t){t=t||{};var i,n,r,a,s,o,l,h,f=this.input,c=this.fileHeaderList;if(c||this.parseFileHeader(),void 0===c[e])throw new Error("wrong index");if(n=c[e].relativeOffset,(i=new ue.Unzip.LocalFileHeader(this.input,n)).parse(),n+=i.length,r=i.compressedSize,0!=(i.flags&ue.Unzip.LocalFileHeader.Flags.ENCRYPT)){if(!t.password&&!this.password)throw new Error("please set password");for(o=this.createDecryptionKey(t.password||this.password),l=n,h=n+12;l<h;++l)this.decode(o,f[l]);for(l=n+=12,h=n+(r-=12);l<h;++l)f[l]=this.decode(o,f[l])}switch(i.compression){case ue.Unzip.CompressionMethod.STORE:a=this.input.subarray(n,n+r);break;case ue.Unzip.CompressionMethod.DEFLATE:a=new ue.RawInflate(this.input,{index:n,bufferSize:i.plainSize}).decompress();break;default:throw new Error("unknown compression type")}if(this.verify&&(s=ue.CRC32.calc(a),i.crc32!==s))throw new Error("wrong crc: file=0x"+i.crc32.toString(16)+", data=0x"+s.toString(16));return a},ue.Unzip.prototype.getFilenames=function(){var e,t,i,n=[];for(this.fileHeaderList||this.parseFileHeader(),e=0,t=(i=this.fileHeaderList).length;e<t;++e)n[e]=i[e].filename;return n},ue.Unzip.prototype.decompress=function(e,t){var i;if(this.filenameToIndex||this.parseFileHeader(),void 0===(i=this.filenameToIndex[e]))throw new Error(e+" not found");return this.getFileData(i,t)},ue.Unzip.prototype.setPassword=function(e){this.password=e},ue.Unzip.prototype.decode=function(e,t){return t^=this.getByte(e),this.updateKeys(e,t),t},ue.Unzip.prototype.updateKeys=ue.Zip.prototype.updateKeys,ue.Unzip.prototype.createDecryptionKey=ue.Zip.prototype.createEncryptionKey,ue.Unzip.prototype.getByte=ue.Zip.prototype.getByte,ue.Util.stringToByteArray=function(e){var t,i,n=e.split("");for(t=0,i=n.length;t<i;t++)n[t]=(255&n[t].charCodeAt(0))>>>0;return n},ue.Adler32=function(e){return"string"==typeof e&&(e=ue.Util.stringToByteArray(e)),ue.Adler32.update(1,e)},ue.Adler32.update=function(e,t){for(var i,n=65535&e,r=e>>>16&65535,a=t.length,s=0;a>0;){a-=i=a>ue.Adler32.OptimizationParameter?ue.Adler32.OptimizationParameter:a;do{r+=n+=t[s++]}while(--i);n%=65521,r%=65521}return(r<<16|n)>>>0},ue.Adler32.OptimizationParameter=1024,ue.BitStream=function(e,t){if(this.index="number"==typeof t?t:0,this.bitindex=0,this.buffer=e instanceof Uint8Array?e:new Uint8Array(ue.BitStream.DefaultBlockSize),2*this.buffer.length<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()},ue.BitStream.DefaultBlockSize=32768,ue.BitStream.prototype.expandBuffer=function(){var e=this.buffer,t=e.length,i=new Uint8Array(t<<1);return i.set(e),this.buffer=i},ue.BitStream.prototype.writeBits=function(e,t,i){var n,r=this.buffer,a=this.index,s=this.bitindex,o=r[a];if(i&&t>1&&(e=t>8?function(e){return ue.BitStream.ReverseTable[255&e]<<24|ue.BitStream.ReverseTable[e>>>8&255]<<16|ue.BitStream.ReverseTable[e>>>16&255]<<8|ue.BitStream.ReverseTable[e>>>24&255]}(e)>>32-t:ue.BitStream.ReverseTable[e]>>8-t),t+s<8)o=o<<t|e,s+=t;else for(n=0;n<t;++n)o=o<<1|e>>t-n-1&1,8==++s&&(s=0,r[a++]=ue.BitStream.ReverseTable[o],o=0,a===r.length&&(r=this.expandBuffer()));r[a]=o,this.buffer=r,this.bitindex=s,this.index=a},ue.BitStream.prototype.finish=function(){var e=this.buffer,t=this.index;return this.bitindex>0&&(e[t]<<=8-this.bitindex,e[t]=ue.BitStream.ReverseTable[e[t]],t++),e.subarray(0,t)},ue.BitStream.ReverseTable=function(){var e,t=new Uint8Array(256);for(e=0;e<256;++e)t[e]=function(e){var t=e,i=7;for(e>>>=1;e;e>>>=1)t<<=1,t|=1&e,--i;return(t<<i&255)>>>0}(e);return t}(),ue.CRC32.calc=function(e,t,i){return ue.CRC32.update(e,0,t,i)},ue.CRC32.update=function(e,t,i,n){var r=ue.CRC32.Table,a="number"==typeof i?i:i=0,s="number"==typeof n?n:e.length;for(t^=4294967295,a=7&s;a--;++i)t=t>>>8^r[255&(t^e[i])];for(a=s>>3;a--;i+=8)t=(t=(t=(t=(t=(t=(t=(t=t>>>8^r[255&(t^e[i])])>>>8^r[255&(t^e[i+1])])>>>8^r[255&(t^e[i+2])])>>>8^r[255&(t^e[i+3])])>>>8^r[255&(t^e[i+4])])>>>8^r[255&(t^e[i+5])])>>>8^r[255&(t^e[i+6])])>>>8^r[255&(t^e[i+7])];return(4294967295^t)>>>0},ue.CRC32.single=function(e,t){return(ue.CRC32.Table[255&(e^t)]^e>>>8)>>>0},ue.CRC32.Table_=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],ue.CRC32.Table=new Uint32Array(ue.CRC32.Table_),ue.Deflate=function(e,t){this.input=e,this.output=new Uint8Array(ue.Deflate.DefaultBufferSize),this.compressionType=ue.Deflate.CompressionType.DYNAMIC,this.rawDeflate;var i,n={};for(i in!t&&(t={})||"number"==typeof t.compressionType&&(this.compressionType=t.compressionType),t)n[i]=t[i];n.outputBuffer=this.output,this.rawDeflate=new ue.RawDeflate(this.input,n)},ue.Deflate.DefaultBufferSize=32768,ue.Deflate.CompressionType=ue.RawDeflate.CompressionType,ue.Deflate.compress=function(e,t){return new ue.Deflate(e,t).compress()},ue.Deflate.prototype.compress=function(){var e,t,i,n,r,a,s,o=0;switch(s=this.output,e=ue.CompressionMethod.DEFLATE){case ue.CompressionMethod.DEFLATE:t=Math.LOG2E*Math.log(ue.RawDeflate.WindowSize)-8;break;default:throw new Error("invalid compression method")}switch(i=t<<4|e,s[o++]=i,0,e){case ue.CompressionMethod.DEFLATE:switch(this.compressionType){case ue.Deflate.CompressionType.NONE:r=0;break;case ue.Deflate.CompressionType.FIXED:r=1;break;case ue.Deflate.CompressionType.DYNAMIC:r=2;break;default:throw new Error("unsupported compression type")}break;default:throw new Error("invalid compression method")}return n=r<<6|0,n|=31-(256*i+n)%31,s[o++]=n,a=ue.Adler32(this.input),this.rawDeflate.op=o,o=(s=this.rawDeflate.compress()).length,(s=new Uint8Array(s.buffer)).length<=o+4&&(this.output=new Uint8Array(s.length+4),this.output.set(s),s=this.output),(s=s.subarray(0,o+4))[o++]=a>>24&255,s[o++]=a>>16&255,s[o++]=a>>8&255,s[o++]=255&a,s};const ke=new Map;ke.set("!","%21"),ke.set("#","%23"),ke.set("$","%24"),ke.set("%","%25"),ke.set("&","%26"),ke.set("'","%27"),ke.set("(","%28"),ke.set(")","%29"),ke.set("*","%2A"),ke.set("+","%2B"),ke.set(",","%2C"),ke.set("/","%2F"),ke.set(":","%3A"),ke.set(";","%3B"),ke.set("=","%3D"),ke.set("?","%3F"),ke.set("@","%40"),ke.set("[","%5B"),ke.set("]","%5D"),ke.set(" ","%20");function Re(){return"undefined"!=typeof gapi&&gapi.auth2&&gapi.auth2.getAuthInstance()}let Se=!1;async function Te(e){if("undefined"==typeof gapi)throw Error("Google authentication requires the 'gapi' library");if(!gapi.auth2)throw Error("Google 'auth2' has not been initialized");if(Se)return new Promise((function(t,i){let n;n=setInterval((()=>{try{!1===Se&&(t(Te(e)),clearInterval(n))}catch(e){clearInterval(n),i(e)}}),100)}));Se=!0;try{let t,i=gapi.auth2.getAuthInstance().currentUser.get();if(i.isSignedIn()){i.hasGrantedScopes(e)||await i.grant({scope:e});const{access_token:n,expires_at:r}=i.getAuthResponse();if(Date.now()<r-3e5)t={access_token:n,expires_at:r};else{const{access_token:e,expires_at:n}=i.reloadAuthResponse();t={access_token:e,expires_at:n}}}else{i=await async function(e){const t=new gapi.auth2.SigninOptionsBuilder;return t.setPrompt("select_account"),t.setScope(e),gapi.auth2.getAuthInstance().signIn(t)}(e);const{access_token:n,expires_at:r}=i.getAuthResponse();t={access_token:n,expires_at:r}}return t}finally{Se=!1}}function De(){return gapi.apiKey}async function Ce(e){let t="https://www.googleapis.com/drive/v3/files/"+ve(e)+"?supportsTeamDrives=true";const i=De();i&&(t+="&key="+i);const n=await fetch(t);let r=await n.json();if(r.error&&404===r.error.code){const{access_token:e}=await Te("https://www.googleapis.com/auth/drive.readonly");if(!e)throw Error(r.error);{const i=await fetch(t,{headers:{Authorization:`Bearer ${e}`}});if(r=await i.json(),r.error)throw Error(r.error)}}return r}function Ee(e){for(var t=Be,i=t.parser.loose.exec(e),n={},r=14;r--;)n[t.key[r]]=i[r]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,(function(e,i,r){i&&(n[t.q.name][i]=r)})),n}"object"==typeof process&&"undefined"==typeof window&&(global.atob=function(e){return Buffer.from(e,"base64").toString("binary")});const Be={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function xe(e){if(void 0===e)return;let t=(Le(e)||e.google_url?e.name:e).toLowerCase(),i=t.indexOf("?");return i>0&&(t=t.substr(0,i)),t.endsWith(".gz")?t=t.substr(0,t.length-3):(t.endsWith(".txt")||t.endsWith(".tab")||t.endsWith(".bgz"))&&(t=t.substr(0,t.length-4)),i=t.lastIndexOf("."),i<0?t:t.substr(1+i)}function Le(e){return e instanceof File}async function Ae(e,t){if("undefined"==typeof gapi)throw Error("Google authentication requires the 'gapi' library");"undefined"!=typeof google&&google.picker||await async function(){return new Promise((function(e,t){gapi.load("picker",{callback:e,onerror:t})}))}();const{access_token:i}=await Te("https://www.googleapis.com/auth/drive.file");if(!i)throw Error("Sign into Google before using picker");{const n=new google.picker.DocsView(google.picker.ViewId.DOCS);n.setIncludeFolders(!0);const r=new google.picker.DocsView(google.picker.ViewId.DOCS);let a;r.setEnableTeamDrives(!0),r.setIncludeFolders(!0),a=e?(new google.picker.PickerBuilder).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).setOAuthToken(i).addView(n).addView(r).enableFeature(google.picker.Feature.SUPPORT_TEAM_DRIVES).setCallback((function(e){e[google.picker.Response.ACTION]===google.picker.Action.PICKED&&t(e[google.picker.Response.DOCUMENTS])})).build():(new google.picker.PickerBuilder).disableFeature(google.picker.Feature.MULTISELECT_ENABLED).setOAuthToken(i).addView(n).addView(r).enableFeature(google.picker.Feature.SUPPORT_TEAM_DRIVES).setCallback((function(e){e[google.picker.Response.ACTION]===google.picker.Action.PICKED&&t(e[google.picker.Response.DOCUMENTS])})).build(),a.setVisible(!0)}}const Ie="function"==typeof new Uint8Array(1).subarray;function Oe(e,t,i,n,r){if(0!==r){if(!e)throw"Undef src";if(!i)throw"Undef dest";0===t&&r===e.length?ze(e,i,n):Ie?ze(e.subarray(t,t+r),i,n):1===e.BYTES_PER_ELEMENT&&r>100?ze(new Uint8Array(e.buffer,e.byteOffset+t,r),i,n):function(e,t,i,n,r){for(let a=0;a<r;++a)i[n+a]=e[t+a]}(e,t,i,n,r)}}function ze(e,t,i){t.set(e,i)}let _e;function Me(e,t){t.addEventListener("mousedown",Ue.bind(e))}function Ue(e){e.stopPropagation(),e.preventDefault(),function(e){if(!e.getClientRects().length)return{top:0,left:0};const t=e.getBoundingClientRect(),i=e.ownerDocument.defaultView;t.top,i.pageYOffset,t.left,i.pageXOffset}(this);const t=Fe.bind(this),i=He.bind(this),n=getComputedStyle(this),r=parseInt(n.top.replace("px","")),a=parseInt(n.left.replace("px",""));_e={dragFunction:t,dragEndFunction:i,screenX:e.screenX,screenY:e.screenY,top:r,left:a},document.addEventListener("mousemove",t),document.addEventListener("mouseup",i),document.addEventListener("mouseleave",i),document.addEventListener("mouseexit",i)}function Fe(e){if(!_e)return;e.stopPropagation(),e.preventDefault();const t=e.screenX-_e.screenX,i=e.screenY-_e.screenY;this.style.left=`${_e.left+t}px`,this.style.top=`${_e.top+i}px`}function He(e){if(!_e)return;e.stopPropagation(),e.preventDefault();const t=_e.dragFunction,i=_e.dragEndFunction;document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",i),document.removeEventListener("mouseleave",i),document.removeEventListener("mouseexit",i),_e=void 0}const Ne="googleapis",Pe={oauthTokens:{},setToken:function(e,t){t=t||Ne,this.oauthTokens[t]=e,t===Ne&&(this.google.access_token=e)},getToken:function(e){let t;e=e||Ne;for(let i of Object.keys(this.oauthTokens)){if(Ke(i).test(e)){t=this.oauthTokens[i];break}}return t},removeToken:function(e){e=e||Ne;for(let t of Object.keys(this.oauthTokens)){Ke(t).test(e)&&(this.oauthTokens[t]=void 0)}e===Ne&&(this.google.access_token=void 0)},google:{setToken:function(e){Pe.setToken(e)}}};function Ke(e){return new RegExp("^"+e.split(/\*+/).map($e).join(".*")+"$")}function $e(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}const Ge=new class{constructor(e){this.requestsPerSecond=e.requestsPerSecond||10,this.lastStartTime=0,this.queued=[]}add(e,t){var i=this;return new Promise((function(t,n){i.queued.push({resolve:t,reject:n,asyncFunction:e}),i.dequeue()}))}addAll(e,t){var i=e.map(function(e){return this.add(e,t)}.bind(this));return Promise.all(i)}dequeue(){if(this.queued.length>0){var e=new Date,t=1e3/this.requestsPerSecond+1,i=e-this.lastStartTime;i>=t?this._execute():setTimeout(function(){this.dequeue()}.bind(this),t-i)}}async _execute(){this.lastStartTime=new Date;var e=this.queued.shift();const t=e.asyncFunction;try{const i=await t();e.resolve(i)}catch(t){e.reject(t)}}}({requestsPerSecond:8}),Ze={apiKey:void 0,setApiKey:function(e){this.apiKey=e},load:qe,loadArrayBuffer:async function(e,t){return(t=t||{}).responseType||(t.responseType="arraybuffer"),e instanceof File?Ye(e,t):qe(e,t)},loadJson:async function(e,t){"POST"===((t=t||{}).method||(t.sendData?"POST":"GET"))&&(t.contentType="application/json");const i=await this.loadString(e,t);return i?JSON.parse(i):i},loadString:async function(e,t){return t=t||{},e instanceof File?async function(e,t){const i=t.range?e.slice(t.range.start,t.range.start+t.range.size):e;let n=0;t&&t.bgz||e.name.endsWith(".bgz")?n=2:e.name.endsWith(".gz")&&(n=1);if(0===n)return Ve(i);return Je(await je(i),n)}(e,t):async function(e,t){const i=(t=t||{}).filename||await async function(e){if(de(e)&&e.startsWith("https://drive.google.com")){if(void 0===De())throw Error("Google drive is referenced, but API key is not defined.  An API key is required for Google Drive access");const t=await Ce(e);return t.originalFileName||t.name}return function(e){if(e instanceof File)return e.name;if(de(e)){let t=e.lastIndexOf("/"),i=t<0?e:e.substr(t+1);return t=i.indexOf("?"),t>0&&(i=i.substr(0,t)),i}throw Error("Expected File or string, got "+typeof e)}(e)}(e);let n=3;t.bgz?n=2:i.endsWith(".gz")&&(n=1);t.responseType="arraybuffer";return Je(await Ze.load(e,t),n)}(e,t)}};async function qe(e,t){t=t||{};const i=typeof e;if((e=await("function"==typeof e?e():e))instanceof File)return Ye(e,t);if("function"==typeof e.startsWith)return e.startsWith("data:")?function(e){const t=e.split(","),i=t[0].split(":")[1];let n=t[1];n=i.indexOf("base64")>=0?atob(n):decodeURI(n);const r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);let a;a=i.indexOf("gzip")>0?new ue.Gunzip(r).decompress():r;return a}(e):(e.startsWith("https://drive.google.com")&&(e=be(e)),me(e)||e.startsWith("https://www.dropbox.com")?Ge.add((async function(){return We(e,t)})):We(e,t));throw Error(`url must be either a 'File', 'string', 'function', or 'Promise'.  Actual type: ${i}`)}async function We(e,t){e=function(e){return e.includes("//www.dropbox.com")?e.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):e.includes("//drive.google.com")?be(e):e.includes("//www.broadinstitute.org/igvdata")?e.replace("//www.broadinstitute.org/igvdata","//data.broadinstitute.org/igvdata"):e.includes("//igvdata.broadinstitute.org")?e.replace("//igvdata.broadinstitute.org","https://dn7ywbm9isq8j.cloudfront.net"):e.startsWith("ftp://ftp.ncbi.nlm.nih.gov/geo")?e.replace("ftp://","https://"):e}(e);let i=(t=t||{}).oauthToken||function(e){const t=ge(e)?void 0:Ee(e).host;let i=Pe.getToken(t);if(i)return i;if(void 0===t){const e=Xe();if(e&&e.expires_at>Date.now())return e.access_token}}(e);return i&&(i=await("function"==typeof i?i():i)),new Promise((function(n,r){ge(e)&&(we(e)&&(e=ye(e)),me(e=function(e){let t=Ze.apiKey;t||"undefined"==typeof gapi||(t=gapi.apiKey);if(void 0!==t&&!e.includes("key=")){const i=e.includes("?")?"&":"?";e=e+i+"key="+t}return e}(e))&&function(e){if(e.includes("supportsTeamDrive"))return e;{const t=e.includes("?")?"&":"?";e=e+t+"supportsTeamDrive=true"}}(e),i||(i=Xe()));const a=t.headers||{};i&&function(e,t){t&&(e["Cache-Control"]="no-cache",e.Authorization="Bearer "+t)}(a,i);const s=t.range,o=navigator.userAgent.indexOf("Chrome")>-1;0===navigator.vendor.indexOf("Apple")&&/\sSafari\//.test(navigator.userAgent),s&&o&&!function(e){return e.indexOf("X-Amz-Signature")>-1}(e)&&(e+=e.includes("?")?"&":"?",e+="someRandomSeed="+Math.random().toString(36));const l=new XMLHttpRequest,h=t.sendData||t.body,f=t.method||(h?"POST":"GET"),c=t.responseType,u=t.contentType,p=t.mimeType;if(l.open(f,e),s){var d=s.size?s.start+s.size-1:"";l.setRequestHeader("Range","bytes="+s.start+"-"+d)}if(u&&l.setRequestHeader("Content-Type",u),p&&l.overrideMimeType(p),c&&(l.responseType=c),a)for(let e of Object.keys(a)){const t=a[e];l.setRequestHeader(e,t)}!0===t.withCredentials&&(l.withCredentials=!0),l.onload=async function(i){0===l.status||l.status>=200&&l.status<=300?s&&206!==l.status&&0!==s.start?(l.response.length>1e5&&alert(`Warning: Range header ignored for URL: ${e}.  This can have performance impacts.`),n(l.response.slice(s.start,s.start+s.size))):n(l.response):"undefined"==typeof gapi||404!==l.status&&401!==l.status&&403!==l.status||!ge(e)||t.retries?403===l.status?g("Access forbidden: "+e):416===l.status?g("Unsatisfiable range"):g(l.status):w()},l.onerror=function(i){ge(e)&&!t.retries&&w(),g("Error accessing resource: "+e+" Status: "+l.status)},l.ontimeout=function(e){g("Timed out")},l.onabort=function(e){r(e)};try{l.send(h)}catch(e){r(e)}function g(e){if(!r)throw e;r(e)}async function w(){try{const i=await async function(e){if(Re()){const t=function(e){return me(e)?"https://www.googleapis.com/auth/drive.file":we(e)?"https://www.googleapis.com/auth/devstorage.read_only":"https://www.googleapis.com/auth/userinfo.profile"}(e),i=await Te(t);return i?i.access_token:void 0}throw Error("Authorization is required, but Google oAuth has not been initalized. Contact your site administrator for assistance.")}(e);t.retries=1,t.oauthToken=i;const r=await qe(e,t);n(r)}catch(e){if(e.error){const t=e.error.startsWith("popup_blocked")?"Google login popup blocked by browser.":e.error;alert(t)}else g(e)}}}))}async function Ye(e,t){let i=t&&t.range?e.slice(t.range.start,t.range.start+t.range.size):e;return"arraybuffer"===t.responseType?je(i):new Promise((function(t,n){const r=new FileReader;r.onload=function(e){t(r.result)},r.onerror=function(t){console.error("reject uploading local file "+e.name),n(null,r)},r.readAsBinaryString(i),console.warn("Deprecated method used: readAsBinaryString")}))}async function je(e){return"function"==typeof e.arrayBuffer?e.arrayBuffer():new Promise((function(t,i){const n=new FileReader;n.onload=function(e){t(n.result)},n.onerror=function(e){console.error("reject uploading local file "+localfile.name),i(null,n)},n.readAsArrayBuffer(e)}))}async function Ve(e){return"function"==typeof e.text?e.text():new Promise((function(t,i){const n=new FileReader;n.onload=function(e){t(n.result)},n.onerror=function(e){console.error("reject uploading local file "+localfile.name),i(null,n)},n.readAsText(e)}))}function Xe(){if(Re()){const e=function(){let e=gapi.auth2.getAuthInstance().currentUser.get();if(e&&e.isSignedIn()){const{access_token:t,expires_at:i}=e.getAuthResponse();return{access_token:t,expires_at:i}}}();return e?e.access_token:void 0}}function Je(e,t){if(3===t&&e.byteLength>2){const i=new Uint8Array(e,0,2);31===i[0]&&139===i[1]&&(t=1)}let i;if(1===t){i=new ue.Gunzip(new Uint8Array(e)).decompress()}else i=2===t?function(e,t){const i=[];let n=0,r=0;for(t=t||e.byteLength-18;n<t;)try{const t=new Uint8Array(e,n,18),a=t[11]<<8|t[10],s=(t[12],t[13],t[15],t[14],1+(t[17]<<8|t[16])),o=12+a+n,l=e.byteLength-o,h=s-a-19;if(l<h||h<=0)break;const f=new Uint8Array(e,o,h),c=new ue.RawInflate(f),u=c.decompress();n+=c.ip+26,r+=u.byteLength,i.push(u)}catch(e){console.error(e);break}if(1===i.length)return i[0];{const e=new Uint8Array(r);let t=0;for(let n=0;n<i.length;++n){var a=new Uint8Array(i[n]);Oe(a,0,e,t,a.length),t+=a.length}return e}}(e):new Uint8Array(e);return"TextDecoder"in function(){if("undefined"!=typeof self)return self;return"undefined"!=typeof global?global:window}()?(new TextDecoder).decode(i):function(e){var t="",i=0;for(;i<e.length;){var n=e[i],r=0,a=0;if(n<=127?(r=0,a=255&n):n<=223?(r=1,a=31&n):n<=239?(r=2,a=15&n):n<=244&&(r=3,a=7&n),e.length-i-r>0)for(var s=0;s<r;)a=a<<6|63&(n=e[i+s+1]),s+=1;else a=65533,r=e.length-i;t+=String.fromCodePoint(a),i+=r+1}return t}(i)}var Qe={color:1};Qe.parent=Qe,Qe.left=Qe,Qe.right=Qe;const et={401:"Access unauthorized",403:"Access forbidden",404:"Not found"};class tt{constructor(e){this.container=se({class:"igv-ui-alert-dialog-container"}),e.appendChild(this.container),this.container.setAttribute("tabIndex","-1");const t=se();this.container.appendChild(t),this.errorHeadline=se(),t.appendChild(this.errorHeadline),this.errorHeadline.textContent="";let i=se({id:"igv-ui-alert-dialog-body"});this.container.appendChild(i),this.body=se({id:"igv-ui-alert-dialog-body-copy"}),i.appendChild(this.body);let n=se();this.container.appendChild(n),this.ok=se(),n.appendChild(this.ok),this.ok.textContent="OK";const r=()=>{"function"==typeof this.callback&&(this.callback("OK"),this.callback=void 0),this.body.innerHTML="",le(this.container)};this.ok.addEventListener("click",(e=>{e.stopPropagation(),r()})),this.container.addEventListener("keypress",(e=>{e.stopPropagation(),"Enter"===e.key&&r()})),Me(this.container,t),le(this.container)}present(e,t){this.errorHeadline.textContent=e.message?"ERROR":"";let i=e.message||e;et.hasOwnProperty(i)&&(i=et[i]),this.body.innerHTML=i,this.callback=t,he(this.container),this.container.focus()}}var it=new class{constructor(e){e&&(this.alertDialog=void 0)}init(e){this.alertDialog=new tt(e)}present(e,t){this.alertDialog.present(e,t)}};class nt{constructor(){this.dictionary={}}inputHandler(e,t){this.ingestPath(e,t)}ingestPath(e,t){let i=!0===t?"index":"data";this.dictionary[i]=e.trim()}didDragDrop(e){var t;return(t=e.files)&&t.length>0}dragDropHandler(e,t){var i,n;i=e.getData("text/uri-list"),(n=e.files)&&n.length>0?this.ingestPath(n[0],t):i&&""!==i&&this.ingestPath(i,t)}indexName(){return rt(this.dictionary.index)}dataName(){return rt(this.dictionary.data)}reset(){this.dictionary={}}}function rt(e){return Le(e)?e.name:e}class at{constructor({widgetParent:e,dataTitle:t,indexTitle:i,mode:n,fileLoadManager:r,dataOnly:a,doURL:s}){let o;var l,h,f;t=t||"Data",i=i||"Index",this.fileLoadManager=r,a=a||!1,s=s||!1,this.container=se({class:"igv-file-load-widget-container"}),e.appendChild(this.container),o="localFile"===n?{parent:this.container,doURL:!1,dataTitle:t+" file",indexTitle:i+" file",dataOnly:a}:{parent:this.container,doURL:!0,dataTitle:t+" URL",indexTitle:i+" URL",dataOnly:a},this.createInputContainer(o),this.error_message=se({class:"igv-flw-error-message-container"}),this.container.appendChild(this.error_message),this.error_message.appendChild(se({class:"igv-flw-error-message"})),l=this.error_message,h=()=>{this.dismissErrorMessage()},f=document.createElement("div"),l.appendChild(f),f.appendChild(fe("times")),f.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),h()})),this.dismissErrorMessage()}retrievePaths(){this.fileLoadManager.ingestPath(this.inputData.value,!1),this.inputIndex&&this.fileLoadManager.ingestPath(this.inputIndex.value,!0);let e=[];return this.fileLoadManager.dictionary&&(this.fileLoadManager.dictionary.data&&e.push(this.fileLoadManager.dictionary.data),this.fileLoadManager.dictionary.index&&e.push(this.fileLoadManager.dictionary.index)),this.container.querySelectorAll(".igv-flw-input-row").forEach((e=>{e.querySelector("input").value=""})),e}presentErrorMessage(e){this.error_message.querySelector(".igv-flw-error-message").textContent=e,he(this.error_message)}dismissErrorMessage(){le(this.error_message),this.error_message.querySelector(".igv-flw-error-message").textContent=""}present(){he(this.container)}dismiss(){this.dismissErrorMessage(),this.container.querySelectorAll(".igv-flw-input-row").forEach((e=>{e.querySelector("input").value=""})),this.fileLoadManager.reset()}createInputContainer({parent:e,doURL:t,dataTitle:i,indexTitle:n,dataOnly:r}){const a=se({class:"igv-flw-input-container"});e.appendChild(a);const s=se({class:"igv-flw-input-row"});let o;if(a.appendChild(s),o=se({class:"igv-flw-input-label"}),s.appendChild(o),o.textContent=i,!0===t?this.createURLContainer(s,"igv-flw-data-url",!1):this.createLocalFileContainer(s,"igv-flw-local-data-file",!1),!0===r)return;const l=se({class:"igv-flw-input-row"});a.appendChild(l),o=se({class:"igv-flw-input-label"}),l.appendChild(o),o.textContent=n,!0===t?this.createURLContainer(l,"igv-flw-index-url",!0):this.createLocalFileContainer(l,"igv-flw-local-index-file",!0)}createURLContainer(e,t,i){const n=oe("input");n.setAttribute("type","text"),e.appendChild(n),i?this.inputIndex=n:this.inputData=n}createLocalFileContainer(e,t,i){const n=se({class:"igv-flw-file-chooser-container"});e.appendChild(n);const r=`${t}${("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}`,a=oe("label");a.setAttribute("for",r),n.appendChild(a),a.textContent="Choose file";const s=oe("input",{class:"igv-flw-file-chooser-input"});s.setAttribute("id",r),s.setAttribute("name",r),s.setAttribute("type","file"),n.appendChild(s);const o=se({class:"igv-flw-local-file-name-container"});e.appendChild(o),le(o),s.addEventListener("change",(e=>{this.dismissErrorMessage();const t=e.target.files[0];this.fileLoadManager.inputHandler(t,i);const{name:n}=t;o.textContent=n,o.setAttribute("title",n),he(o)}))}}class st{constructor({localFileInput:e,dropboxButton:t,googleEnabled:i,googleDriveButton:n}){e.addEventListener("change",(async()=>{if(!0===st.isValidLocalFileInput(e)){try{await this.loadPaths(Array.from(e.files))}catch(e){console.error(e),it.present(e)}e.value=""}})),t.addEventListener("click",(()=>{const e={success:async e=>{try{await this.loadPaths(e.map((e=>e.link)))}catch(e){console.error(e),it.present(e)}},cancel:()=>{},linkType:"preview",multiselect:!0,folderselect:!1};Dropbox.choose(e)})),!1===i&&le(n.parentElement),!0===i&&n&&n.addEventListener("click",(()=>{Ae(!0,(async e=>{try{await this.loadPaths(e.map((({url:e})=>e)))}catch(e){console.error(e),it.present(e)}}))}))}async loadPaths(e){}static isValidLocalFileInput(e){return e.files&&e.files.length>0}}class ot{constructor({$localFileInput:e,$dropboxButton:t,$googleDriveButton:i,fileLoadHandler:n,multipleFileSelection:r}){this.fileLoadHandler=n;const a=e.get(0),s=t.get(0),o=i?i.get(0):void 0;a.addEventListener("change",(async()=>{if(!0===ot.isValidLocalFileInput(a)){const{files:e}=a,t=Array.from(e);a.value="",await this.loadPaths(t)}})),s.addEventListener("click",(async()=>{const e={success:e=>this.loadPaths(e.map((({link:e})=>e))),cancel:()=>{},linkType:"preview",multiselect:r,folderselect:!1};Dropbox.choose(e)})),o&&o.addEventListener("click",(()=>{Ae(r,(async e=>await this.loadPaths(e.map((({name:e,url:t})=>t)))))}))}async loadPaths(e){await async function({paths:e,fileLoadHandler:t}){try{await async function({paths:e,fileLoadHandler:t}){const i=new Map,n=[];for(let t of e){const e=await ot.getFilename(t),r=xe(e);if(lt.has(r)){const n=ft(e,r);i.set(n,{indexURL:t,indexFilename:ot.isGoogleDrivePath(t)?e:void 0})}else n.push(t)}const r=[];for(let e of n){const t=await ot.getFilename(e);if(i.has(t)){const{indexURL:n,indexFilename:a}=i.get(t);r.push({url:e,name:t,indexURL:n,indexFilename:a})}else{if(ht.has(xe(t)))throw new Error(`Unable to load track file ${t} - you must select both ${t} and its corresponding index file`);r.push({url:e,name:t})}}r&&t(r)}({paths:e,fileLoadHandler:t})}catch(e){console.error(e),it.present(e.message)}}({paths:e,fileLoadHandler:this.fileLoadHandler})}static isValidLocalFileInput(e){return e.files&&e.files.length>0}static async getFilename(e){if(e instanceof File)return e.name;if(me(e)){const t=await Ce(e);return t.name||t.originalFileName}return Ee(e).file}static isGoogleDrivePath(e){return!(e instanceof File)&&me(e)}}const lt=new Set(["bai","csi","tbi","idx","crai"]),ht=new Set(["bam","cram"]);const ft=(e,t)=>{let i=e.substring(0,e.length-(t.length+1));return"bai"!==t||i.endsWith("bam")?"crai"!==t||i.endsWith("cram")?i:`${i}.cram`:`${i}.bam`},ct=new Set(["json"]),ut=new Set(["fai"]);class pt extends st{constructor({localFileInput:e,dropboxButton:t,googleEnabled:i,googleDriveButton:n,loadHandler:r}){super({localFileInput:e,dropboxButton:t,googleEnabled:i,googleDriveButton:n}),this.loadHandler=r}async loadPaths(e){if(!0===await pt.isGZip(e))throw new Error("Genome did not load - gzip file is not allowed");{const t=e.filter((e=>ct.has(xe(e))));let i;if(t.length>=1)i=await Ze.loadJson(t[0]);else if(2===e.length){const[t,n]=await pt.getExtension(e);ut.has(t)?i={fastaURL:e[1],indexURL:e[0]}:ut.has(n)&&(i={fastaURL:e[0],indexURL:e[1]})}if(void 0===i)throw new Error("Genome did not load - invalid data and/or index file(s)");this.loadHandler(i)}}static async isGZip(e){for(let t of e){if(!0===(await ot.getFilename(t)).endsWith(".gz"))return!0}return!1}static async getExtension(e){return[await ot.getFilename(e[0]),await ot.getFilename(e[1])].map((e=>xe(e)))}}class dt extends st{constructor({localFileInput:e,dropboxButton:t,googleEnabled:i,googleDriveButton:n,loadHandler:r}){super({localFileInput:e,dropboxButton:t,googleEnabled:i,googleDriveButton:n}),this.loadHandler=r}async loadPaths(e){const t=e[0];if("json"===xe(t)){const e=await Ze.loadJson(t.google_url||t);this.loadHandler(e)}else{if("xml"!==xe(t))throw new Error("Session file did not load - invalid format");{const e={};e[!0===Le(t)?"file":"url"]=t,this.loadHandler(e)}}}}function gt(e,t,i){const n=()=>{e.dismiss(),$(t).modal("hide")},r=async()=>{!0===await i(e)&&(e.dismiss(),$(t).modal("hide"))};let a;a=t.querySelector(".modal-header button"),a.addEventListener("click",n),a=t.querySelector(".modal-footer button:nth-child(1)"),a.addEventListener("click",n);t.querySelector(".modal-footer button:nth-child(2)").addEventListener("click",r),t.addEventListener("keypress",(e=>{"Enter"===e.key&&r()}))}var wt=Object.freeze({__proto__:null,configureModal:gt});function mt(e,t){const i=`<div id="${e}" class="modal">\n\n            <div class="modal-dialog modal-lg">\n    \n                <div class="modal-content">\n    \n                    <div class="modal-header">\n                        <div class="modal-title">${t}</div>\n    \n                        <button type="button" class="close" data-dismiss="modal">\n                            <span>&times;</span>\n                        </button>\n    \n                    </div>\n    \n                    <div class="modal-body">\n                    </div>\n    \n                    <div class="modal-footer">\n                        <button type="button" class="btn btn-sm btn-outline-secondary" data-dismiss="modal">Cancel</button>\n                        <button type="button" class="btn btn-sm btn-secondary" data-dismiss="modal">OK</button>\n                    </div>\n    \n                </div>\n    \n            </div>\n\n        </div>`;return document.createRange().createContextualFragment(i).firstChild}let yt;function bt(e,t,i,n,r,a,s,o,l,h){const f=mt(a,"Session URL");e.get(0).appendChild(f),o||$(`#${r}`).parent().hide();const c={widgetParent:f.querySelector(".modal-body"),dataTitle:"Session",indexTitle:void 0,mode:"url",fileLoadManager:new nt,dataOnly:!0,doURL:void 0};yt=new at(c);const u={localFileInput:document.querySelector(`#${i}`),dropboxButton:document.querySelector(`#${n}`),googleEnabled:o,googleDriveButton:document.querySelector(`#${r}`),loadHandler:l},p=new dt(u);gt(yt,f,(async e=>(await p.loadPaths(e.retrievePaths()),!0))),function(e,t,i,n){const r=$(`<div id="${n}" class="modal fade igv-app-file-save-modal">\n\n            <div class="modal-dialog modal-lg">\n    \n                <div class="modal-content">\n    \n                    <div class="modal-header">\n    \n                        <div class="modal-title">\n                            <div>\n                                Save Session File\n                            </div>\n                        </div>\n    \n                        <button type="button" class="close" data-dismiss="modal">\n                            <span aria-hidden="true">&times;</span>\n                        </button>\n                    </div>\n    \n                    <div class="modal-body">\n                        <input class="form-control" type="text" placeholder="igv-app-session.json">\n    \n                        <div>\n                            Enter session filename with .json suffix\n                        </div>\n    \n                    </div>\n    \n                    <div class="modal-footer">\n                        <button type="button" class="btn btn-sm btn-outline-secondary" data-dismiss="modal">Cancel</button>\n                        <button type="button" class="btn btn-sm btn-secondary">OK</button>\n                    </div>\n    \n                </div>\n    \n            </div>\n    \n        </div>`);e.append(r);let a=r.find("input"),s=()=>{const e=new Set(["json","xml"]);let t=a.val();void 0===t||""===t?t=a.attr("placeholder"):!1===e.has(xe(t))&&(t+=".json");const n=i();if(n){const e=JSON.stringify(n,null,"\t");!function(e,t){const i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}(t,URL.createObjectURL(new Blob([e],{type:"application/octet-stream"})))}r.modal("hide")};r.find(".modal-footer button:nth-child(2)").on("click",s),r.on("show.bs.modal",(e=>{a.val(`${t}-session.json`)})),a.on("keyup",(e=>{13===e.keyCode&&s()}))}(e,t,h,s)}var vt=function(e){this.data=e,this.ptr=0};vt.prototype.nextLine=function(){var e=this.ptr,t=this.data.indexOf("\n",e);return t>0?(this.ptr=t+1,t===e?void 0:this.data.substring(e,t).trim()):(this.ptr=this.data.length,e>=this.data.length?void 0:this.data.substring(e).trim())},vt.prototype.nextLineNoTrim=function(){var e=this.ptr,t=this.data.indexOf("\n",e),i=this.data;if(t>0)return this.ptr=t+1,t>e&&"\r"===i.charAt(t-1)?i.substring(e,t-1):i.substring(e,t);var n=i.length;return this.ptr=n,e>=n?void 0:i.substring(e)};var kt=function(e){this.data=e,this.length=this.data.length,this.ptr=0};kt.prototype.nextLine=function(){var e,t;if(t="",!(this.ptr>=this.length)){for(var i=this.ptr;i<this.length;i++)if("\r"!==(e=String.fromCharCode(this.data[i]))){if("\n"===e)break;t+=e}return this.ptr=i+1,t}},kt.prototype.nextLineNoTrim=kt.prototype.nextLine;var Rt={Huffman:{},Util:{},CRC32:{},CompressionMethod:{DEFLATE:8,RESERVED:15},Zip:function(e){e=e||{},this.files=[],this.comment=e.comment,this.password}};Rt.Zip.CompressionMethod={STORE:0,DEFLATE:8},Rt.Zip.OperatingSystem={MSDOS:0,UNIX:3,MACINTOSH:7},Rt.Zip.Flags={ENCRYPT:1,DESCRIPTOR:8,UTF8:2048},Rt.Zip.FileHeaderSignature=[80,75,1,2],Rt.Zip.LocalFileHeaderSignature=[80,75,3,4],Rt.Zip.CentralDirectorySignature=[80,75,5,6],Rt.Zip.prototype.addFile=function(e,t){var i;(t=t||{}).filename;var n=e.length,r=0;if(e instanceof Array&&(e=new Uint8Array(e)),"number"!=typeof t.compressionMethod&&(t.compressionMethod=Rt.Zip.CompressionMethod.DEFLATE),t.compress)switch(t.compressionMethod){case Rt.Zip.CompressionMethod.STORE:break;case Rt.Zip.CompressionMethod.DEFLATE:r=Rt.CRC32.calc(e),e=this.deflateWithOption(e,t),i=!0;break;default:throw new Error("unknown compression method:"+t.compressionMethod)}this.files.push({buffer:e,option:t,compressed:i,encrypted:!1,size:n,crc32:r})},Rt.Zip.prototype.setPassword=function(e){this.password=e},Rt.Zip.prototype.compress=function(){var e,t,i,n,r,a,s,o,l,h,f,c,u,p,d,g,w,m,y,b,v,k,R,S,T,D,C=this.files,E=0,B=0;for(R=0,S=C.length;R<S;++R){if(p=(e=C[R]).option.filename?e.option.filename.length:0,d=e.option.extraField?e.option.extraField.length:0,g=e.option.comment?e.option.comment.length:0,!e.compressed)switch(e.crc32=Rt.CRC32.calc(e.buffer),e.option.compressionMethod){case Rt.Zip.CompressionMethod.STORE:break;case Rt.Zip.CompressionMethod.DEFLATE:e.buffer=this.deflateWithOption(e.buffer,e.option),e.compressed=!0;break;default:throw new Error("unknown compression method:"+e.option.compressionMethod)}if(void 0!==e.option.password||void 0!==this.password){for(k=this.createEncryptionKey(e.option.password||this.password),b=e.buffer,(v=new Uint8Array(b.length+12)).set(b,12),b=v,T=0;T<12;++T)b[T]=this.encode(k,11===R?255&e.crc32:256*Math.random()|0);for(D=b.length;T<D;++T)b[T]=this.encode(k,b[T]);e.buffer=b}E+=30+p+e.buffer.length,B+=46+p+g}for(a=22+(this.comment?this.comment.length:0),t=new Uint8Array(E+B+a),i=0,r=(n=E)+B,R=0,S=C.length;R<S;++R)p=(e=C[R]).option.filename?e.option.filename.length:0,d=0,g=e.option.comment?e.option.comment.length:0,s=i,t[i++]=Rt.Zip.LocalFileHeaderSignature[0],t[i++]=Rt.Zip.LocalFileHeaderSignature[1],t[i++]=Rt.Zip.LocalFileHeaderSignature[2],t[i++]=Rt.Zip.LocalFileHeaderSignature[3],t[n++]=Rt.Zip.FileHeaderSignature[0],t[n++]=Rt.Zip.FileHeaderSignature[1],t[n++]=Rt.Zip.FileHeaderSignature[2],t[n++]=Rt.Zip.FileHeaderSignature[3],20,t[n++]=20,t[n++]=e.option.os||Rt.Zip.OperatingSystem.MSDOS,t[i++]=t[n++]=20,t[i++]=t[n++]=0,o=0,(e.option.password||this.password)&&(o|=Rt.Zip.Flags.ENCRYPT),t[i++]=t[n++]=255&o,t[i++]=t[n++]=o>>8&255,l=e.option.compressionMethod,t[i++]=t[n++]=255&l,t[i++]=t[n++]=l>>8&255,h=e.option.date||new Date,t[i++]=t[n++]=(7&h.getMinutes())<<5|h.getSeconds()/2|0,t[i++]=t[n++]=h.getHours()<<3|h.getMinutes()>>3,t[i++]=t[n++]=(h.getMonth()+1&7)<<5|h.getDate(),t[i++]=t[n++]=(h.getFullYear()-1980&127)<<1|h.getMonth()+1>>3,f=e.crc32,t[i++]=t[n++]=255&f,t[i++]=t[n++]=f>>8&255,t[i++]=t[n++]=f>>16&255,t[i++]=t[n++]=f>>24&255,c=e.buffer.length,t[i++]=t[n++]=255&c,t[i++]=t[n++]=c>>8&255,t[i++]=t[n++]=c>>16&255,t[i++]=t[n++]=c>>24&255,u=e.size,t[i++]=t[n++]=255&u,t[i++]=t[n++]=u>>8&255,t[i++]=t[n++]=u>>16&255,t[i++]=t[n++]=u>>24&255,t[i++]=t[n++]=255&p,t[i++]=t[n++]=p>>8&255,t[i++]=t[n++]=255&d,t[i++]=t[n++]=d>>8&255,t[n++]=255&g,t[n++]=g>>8&255,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=255&s,t[n++]=s>>8&255,t[n++]=s>>16&255,t[n++]=s>>24&255,(w=e.option.filename)&&(t.set(w,i),t.set(w,n),i+=p,n+=p),(m=e.option.extraField)&&(t.set(m,i),t.set(m,n),i+=d,n+=d),(y=e.option.comment)&&(t.set(y,n),n+=g),t.set(e.buffer,i),i+=e.buffer.length;return t[r++]=Rt.Zip.CentralDirectorySignature[0],t[r++]=Rt.Zip.CentralDirectorySignature[1],t[r++]=Rt.Zip.CentralDirectorySignature[2],t[r++]=Rt.Zip.CentralDirectorySignature[3],t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=255&S,t[r++]=S>>8&255,t[r++]=255&S,t[r++]=S>>8&255,t[r++]=255&B,t[r++]=B>>8&255,t[r++]=B>>16&255,t[r++]=B>>24&255,t[r++]=255&E,t[r++]=E>>8&255,t[r++]=E>>16&255,t[r++]=E>>24&255,g=this.comment?this.comment.length:0,t[r++]=255&g,t[r++]=g>>8&255,this.comment&&(t.set(this.comment,r),r+=g),t},Rt.Zip.prototype.deflateWithOption=function(e,t){return new Rt.RawDeflate(e,t.deflateOption).compress()},Rt.Zip.prototype.getByte=function(e){var t=65535&e[2]|2;return t*(1^t)>>8&255},Rt.Zip.prototype.encode=function(e,t){var i=this.getByte(e);return this.updateKeys(e,t),i^t},Rt.Zip.prototype.updateKeys=function(e,t){e[0]=Rt.CRC32.single(e[0],t),e[1]=1+(6681*(20173*(e[1]+(255&e[0]))>>>0)>>>0)>>>0,e[2]=Rt.CRC32.single(e[2],e[1]>>>24)},Rt.Zip.prototype.createEncryptionKey=function(e){var t,i,n=[305419896,591751049,878082192];for(n=new Uint32Array(n),t=0,i=e.length;t<i;++t)this.updateKeys(n,255&e[t]);return n},Rt.Huffman.buildHuffmanTable=function(e){var t,i,n,r,a,s,o,l,h,f,c,u=e.length,p=0,d=Number.POSITIVE_INFINITY;for(l=0,h=u;l<h;++l)e[l]>p&&(p=e[l]),e[l]<d&&(d=e[l]);for(t=1<<p,i=new Uint32Array(t),n=1,r=0,a=2;n<=p;){for(l=0;l<u;++l)if(e[l]===n){for(s=0,o=r,f=0;f<n;++f)s=s<<1|1&o,o>>=1;for(c=n<<16|l,f=s;f<t;f+=a)i[f]=c;++r}++n,r<<=1,a<<=1}return[i,p,d]};var St=Rt.Huffman.buildHuffmanTable;Rt.RawInflate=function(e,t){switch(this.buffer,this.blocks=[],this.bufferSize=32768,this.totalpos=0,this.ip=0,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.output,this.op,this.bfinal=!1,this.bufferType=Rt.RawInflate.BufferType.ADAPTIVE,this.resize=!1,!t&&(t={})||(t.index&&(this.ip=t.index),t.bufferSize&&(this.bufferSize=t.bufferSize),t.bufferType&&(this.bufferType=t.bufferType),t.resize&&(this.resize=t.resize)),this.bufferType){case Rt.RawInflate.BufferType.BLOCK:this.op=Rt.RawInflate.MaxBackwardLength,this.output=new Uint8Array(Rt.RawInflate.MaxBackwardLength+this.bufferSize+Rt.RawInflate.MaxCopyLength);break;case Rt.RawInflate.BufferType.ADAPTIVE:this.op=0,this.output=new Uint8Array(this.bufferSize);break;default:throw new Error("invalid inflate mode")}},Rt.RawInflate.BufferType={BLOCK:0,ADAPTIVE:1},Rt.RawInflate.prototype.decompress=function(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case Rt.RawInflate.BufferType.BLOCK:return this.concatBufferBlock();case Rt.RawInflate.BufferType.ADAPTIVE:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}},Rt.RawInflate.MaxBackwardLength=32768,Rt.RawInflate.MaxCopyLength=258,Rt.RawInflate.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Rt.RawInflate.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),Rt.RawInflate.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),Rt.RawInflate.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),Rt.RawInflate.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Rt.RawInflate.FixedLiteralLengthTable=function(){var e,t,i=new Uint8Array(288);for(e=0,t=i.length;e<t;++e)i[e]=e<=143?8:e<=255?9:e<=279?7:8;return St(i)}(),Rt.RawInflate.FixedDistanceTable=function(){var e,t,i=new Uint8Array(30);for(e=0,t=i.length;e<t;++e)i[e]=5;return St(i)}(),Rt.RawInflate.prototype.parseBlock=function(){var e=this.readBits(3);switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+e)}},Rt.RawInflate.prototype.readBits=function(e){var t,i=this.bitsbuf,n=this.bitsbuflen,r=this.input,a=this.ip;if(a+(e-n+7>>3)>=r.length)throw new Error("input buffer is broken");for(;n<e;)i|=r[a++]<<n,n+=8;return t=i&(1<<e)-1,i>>>=e,n-=e,this.bitsbuf=i,this.bitsbuflen=n,this.ip=a,t},Rt.RawInflate.prototype.readCodeByTable=function(e){for(var t,i,n=this.bitsbuf,r=this.bitsbuflen,a=this.input,s=this.ip,o=a.length,l=e[0],h=e[1];r<h&&!(s>=o);)n|=a[s++]<<r,r+=8;if((i=(t=l[n&(1<<h)-1])>>>16)>r)throw new Error("invalid code length: "+i);return this.bitsbuf=n>>i,this.bitsbuflen=r-i,this.ip=s,65535&t},Rt.RawInflate.prototype.parseUncompressedBlock=function(){var e,t,i=this.input,n=this.ip,r=this.output,a=this.op,s=i.length,o=r.length;if(this.bitsbuf=0,this.bitsbuflen=0,n+1>=s)throw new Error("invalid uncompressed block header: LEN");if(e=i[n++]|i[n++]<<8,n+1>=s)throw new Error("invalid uncompressed block header: NLEN");if(e===~(i[n++]|i[n++]<<8))throw new Error("invalid uncompressed block header: length verify");if(n+e>i.length)throw new Error("input buffer is broken");switch(this.bufferType){case Rt.RawInflate.BufferType.BLOCK:for(;a+e>r.length;)e-=t=o-a,r.set(i.subarray(n,n+t),a),a+=t,n+=t,this.op=a,r=this.expandBufferBlock(),a=this.op;break;case Rt.RawInflate.BufferType.ADAPTIVE:for(;a+e>r.length;)r=this.expandBufferAdaptive({fixRatio:2});break;default:throw new Error("invalid inflate mode")}r.set(i.subarray(n,n+e),a),a+=e,n+=e,this.ip=n,this.op=a,this.output=r},Rt.RawInflate.prototype.parseFixedHuffmanBlock=function(){switch(this.bufferType){case Rt.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(Rt.RawInflate.FixedLiteralLengthTable,Rt.RawInflate.FixedDistanceTable);break;case Rt.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(Rt.RawInflate.FixedLiteralLengthTable,Rt.RawInflate.FixedDistanceTable);break;default:throw new Error("invalid inflate mode")}},Rt.RawInflate.prototype.parseDynamicHuffmanBlock=function(){var e,t,i,n,r,a,s,o,l,h=this.readBits(5)+257,f=this.readBits(5)+1,c=this.readBits(4)+4,u=new Uint8Array(Rt.RawInflate.Order.length);for(o=0;o<c;++o)u[Rt.RawInflate.Order[o]]=this.readBits(3);for(e=St(u),n=new Uint8Array(h+f),o=0,l=h+f;o<l;)switch(r=this.readCodeByTable(e)){case 16:for(s=3+this.readBits(2);s--;)n[o++]=a;break;case 17:for(s=3+this.readBits(3);s--;)n[o++]=0;a=0;break;case 18:for(s=11+this.readBits(7);s--;)n[o++]=0;a=0;break;default:n[o++]=r,a=r}switch(t=St(n.subarray(0,h)),i=St(n.subarray(h)),this.bufferType){case Rt.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(t,i);break;case Rt.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(t,i);break;default:throw new Error("invalid inflate mode")}},Rt.RawInflate.prototype.decodeHuffmanBlock=function(e,t){var i=this.output,n=this.op;this.currentLitlenTable=e;for(var r,a,s,o,l=i.length-Rt.RawInflate.MaxCopyLength,h=Rt.RawInflate.LengthCodeTable,f=Rt.RawInflate.LengthExtraTable,c=Rt.RawInflate.DistCodeTable,u=Rt.RawInflate.DistExtraTable;256!==(r=this.readCodeByTable(e));)if(r<256)n>=l&&(this.op=n,i=this.expandBufferBlock(),n=this.op),i[n++]=r;else for(o=h[a=r-257],f[a]>0&&(o+=this.readBits(f[a])),s=c[r=this.readCodeByTable(t)],u[r]>0&&(s+=this.readBits(u[r])),n>=l&&(this.op=n,i=this.expandBufferBlock(),n=this.op);o--;)i[n]=i[n++-s];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=n},Rt.RawInflate.prototype.decodeHuffmanAdaptive=function(e,t){var i=this.output,n=this.op;this.currentLitlenTable=e;for(var r,a,s,o,l=i.length,h=Rt.RawInflate.LengthCodeTable,f=Rt.RawInflate.LengthExtraTable,c=Rt.RawInflate.DistCodeTable,u=Rt.RawInflate.DistExtraTable;256!==(r=this.readCodeByTable(e));)if(r<256)n>=l&&(l=(i=this.expandBufferAdaptive()).length),i[n++]=r;else for(o=h[a=r-257],f[a]>0&&(o+=this.readBits(f[a])),s=c[r=this.readCodeByTable(t)],u[r]>0&&(s+=this.readBits(u[r])),n+o>l&&(l=(i=this.expandBufferAdaptive()).length);o--;)i[n]=i[n++-s];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=n},Rt.RawInflate.prototype.expandBufferBlock=function(e){var t=new Uint8Array(this.op-Rt.RawInflate.MaxBackwardLength),i=this.op-Rt.RawInflate.MaxBackwardLength,n=this.output;return t.set(n.subarray(Rt.RawInflate.MaxBackwardLength,t.length)),this.blocks.push(t),this.totalpos+=t.length,n.set(n.subarray(i,i+Rt.RawInflate.MaxBackwardLength)),this.op=Rt.RawInflate.MaxBackwardLength,n},Rt.RawInflate.prototype.expandBufferAdaptive=function(e){var t,i,n,r=this.input.length/this.ip+1|0,a=this.input,s=this.output;return e&&("number"==typeof e.fixRatio&&(r=e.fixRatio),"number"==typeof e.addRatio&&(r+=e.addRatio)),i=r<2?(n=(a.length-this.ip)/this.currentLitlenTable[2]/2*258|0)<s.length?s.length+n:s.length<<1:s.length*r,(t=new Uint8Array(i)).set(s),this.output=t,this.output},Rt.RawInflate.prototype.concatBufferBlock=function(){var e,t,i,n,r,a=0,s=this.totalpos+(this.op-Rt.RawInflate.MaxBackwardLength),o=this.output,l=this.blocks,h=new Uint8Array(s);if(0===l.length)return this.output.subarray(Rt.RawInflate.MaxBackwardLength,this.op);for(t=0,i=l.length;t<i;++t)for(n=0,r=(e=l[t]).length;n<r;++n)h[a++]=e[n];for(t=Rt.RawInflate.MaxBackwardLength,i=this.op;t<i;++t)h[a++]=o[t];return this.blocks=[],this.buffer=h,this.buffer},Rt.RawInflate.prototype.concatBufferDynamic=function(){var e,t=this.op;return this.resize?(e=new Uint8Array(t)).set(this.output.subarray(0,t)):e=this.output.subarray(0,t),this.buffer=e,this.buffer};St=Rt.Huffman.buildHuffmanTable;function Tt(e){return"string"==typeof e||e instanceof String}function Dt(e){return e.includes("googleapis")&&!e.includes("urlshortener")||Ct(e)||Et(e)}function Ct(e){return e.startsWith("gs://")||e.startsWith("https://www.googleapis.com/storage")||e.startsWith("https://storage.cloud.google.com")||e.startsWith("https://storage.googleapis.com")}function Et(e){return e.indexOf("drive.google.com")>=0||e.indexOf("www.googleapis.com/drive")>0}function Bt(e){let{bucket:t,object:i}=function(e){let t,i;if(e.startsWith("gs://")){const n=e.indexOf("/",5);if(n>=0){t=e.substring(5,n);const r=e.indexOf("?");i=r<0?e.substring(n+1):e.substring(n+1,r)}}else if(e.startsWith("https://storage.googleapis.com")||e.startsWith("https://storage.cloud.google.com")){const n=e.indexOf("/v1/b/",8);if(n>0){const r=e.indexOf("/o/",n);if(r>0){const a=e.indexOf("?",r);t=e.substring(n+6,r),i=a>0?e.substring(r+3,a):e.substring(r+3)}}else{const n=e.indexOf("/",8),r=e.indexOf("/",n+1),a=e.indexOf("?",r);r>0&&(t=e.substring(n+1,r),i=a<0?e.substring(r+1):e.substring(r+1,a))}}else if(e.startsWith("https://www.googleapis.com/storage/v1/b")){const n=e.indexOf("/v1/b/",8),r=e.indexOf("/o/",n);if(r>0){const a=e.indexOf("?",r);t=e.substring(n+6,r),i=a>0?e.substring(r+3,a):e.substring(r+3)}}if(t&&i)return{bucket:t,object:i};throw Error(`Unrecognized Google Storage URI: ${e}`)}(e);i=function(e){let t="";return e.split("").forEach((function(e){At.has(e)?t+=At.get(e):t+=e})),t}(i);const n=e.indexOf("?");return`https://storage.googleapis.com/storage/v1/b/${t}/o/${i}${n>0?e.substring(n)+"&alt=media":"?alt=media"}`}function xt(e){var t=Lt(e);return t?"https://www.googleapis.com/drive/v3/files/"+t+"?alt=media&supportsTeamDrives=true":e}function Lt(e){if(e.includes("/open?id=")){const t=e.indexOf("/open?id=")+9,i=e.indexOf("&");if(t>0&&i>t)return e.substring(t,i);if(t>0)return e.substring(t)}else{if(e.includes("/file/d/")){const t=e.indexOf("/file/d/")+8,i=e.lastIndexOf("/");return e.substring(t,i)}if(e.startsWith("https://www.googleapis.com/drive")){let t=e.indexOf("/files/");const i=e.indexOf("?");if(t>0)return t+=7,i>0?e.substring(t,i):e.substring(t)}}throw Error("Unknown Google Drive url format: "+e)}Rt.RawInflateStream=function(e,t,i){this.blocks=[],this.bufferSize=i||65e3,this.totalpos=0,this.ip=void 0===t?0:t,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.output=new Uint8Array(this.bufferSize),this.op=0,this.bfinal=!1,this.blockLength,this.resize=!1,this.litlenTable,this.distTable,this.sp=0,this.status=Rt.RawInflateStream.Status.INITIALIZED,this.ip_,this.bitsbuflen_,this.bitsbuf_},Rt.RawInflateStream.BlockType={UNCOMPRESSED:0,FIXED:1,DYNAMIC:2},Rt.RawInflateStream.Status={INITIALIZED:0,BLOCK_HEADER_START:1,BLOCK_HEADER_END:2,BLOCK_BODY_START:3,BLOCK_BODY_END:4,DECODE_BLOCK_START:5,DECODE_BLOCK_END:6},Rt.RawInflateStream.prototype.decompress=function(e,t){var i=!1;for(void 0!==e&&(this.input=e),void 0!==t&&(this.ip=t);!i;)switch(this.status){case Rt.RawInflateStream.Status.INITIALIZED:case Rt.RawInflateStream.Status.BLOCK_HEADER_START:this.readBlockHeader()<0&&(i=!0);break;case Rt.RawInflateStream.Status.BLOCK_HEADER_END:case Rt.RawInflateStream.Status.BLOCK_BODY_START:switch(this.currentBlockType){case Rt.RawInflateStream.BlockType.UNCOMPRESSED:this.readUncompressedBlockHeader()<0&&(i=!0);break;case Rt.RawInflateStream.BlockType.FIXED:this.parseFixedHuffmanBlock()<0&&(i=!0);break;case Rt.RawInflateStream.BlockType.DYNAMIC:this.parseDynamicHuffmanBlock()<0&&(i=!0)}break;case Rt.RawInflateStream.Status.BLOCK_BODY_END:case Rt.RawInflateStream.Status.DECODE_BLOCK_START:switch(this.currentBlockType){case Rt.RawInflateStream.BlockType.UNCOMPRESSED:this.parseUncompressedBlock()<0&&(i=!0);break;case Rt.RawInflateStream.BlockType.FIXED:case Rt.RawInflateStream.BlockType.DYNAMIC:this.decodeHuffman()<0&&(i=!0)}break;case Rt.RawInflateStream.Status.DECODE_BLOCK_END:this.bfinal?i=!0:this.status=Rt.RawInflateStream.Status.INITIALIZED}return this.concatBuffer()},Rt.RawInflateStream.MaxBackwardLength=32768,Rt.RawInflateStream.MaxCopyLength=258,Rt.RawInflateStream.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Rt.RawInflateStream.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),Rt.RawInflateStream.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),Rt.RawInflateStream.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),Rt.RawInflateStream.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Rt.RawInflateStream.FixedLiteralLengthTable=function(){var e,t,i=new Uint8Array(288);for(e=0,t=i.length;e<t;++e)i[e]=e<=143?8:e<=255?9:e<=279?7:8;return St(i)}(),Rt.RawInflateStream.FixedDistanceTable=function(){var e,t,i=new Uint8Array(30);for(e=0,t=i.length;e<t;++e)i[e]=5;return St(i)}(),Rt.RawInflateStream.prototype.readBlockHeader=function(){var e;if(this.status=Rt.RawInflateStream.Status.BLOCK_HEADER_START,this.save_(),(e=this.readBits(3))<0)return this.restore_(),-1;switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.currentBlockType=Rt.RawInflateStream.BlockType.UNCOMPRESSED;break;case 1:this.currentBlockType=Rt.RawInflateStream.BlockType.FIXED;break;case 2:this.currentBlockType=Rt.RawInflateStream.BlockType.DYNAMIC;break;default:throw new Error("unknown BTYPE: "+e)}this.status=Rt.RawInflateStream.Status.BLOCK_HEADER_END},Rt.RawInflateStream.prototype.readBits=function(e){for(var t,i=this.bitsbuf,n=this.bitsbuflen,r=this.input,a=this.ip;n<e;){if(r.length<=a)return-1;i|=(t=r[a++])<<n,n+=8}return t=i&(1<<e)-1,i>>>=e,n-=e,this.bitsbuf=i,this.bitsbuflen=n,this.ip=a,t},Rt.RawInflateStream.prototype.readCodeByTable=function(e){for(var t,i,n=this.bitsbuf,r=this.bitsbuflen,a=this.input,s=this.ip,o=e[0],l=e[1];r<l;){if(a.length<=s)return-1;n|=a[s++]<<r,r+=8}if((i=(t=o[n&(1<<l)-1])>>>16)>r)throw new Error("invalid code length: "+i);return this.bitsbuf=n>>i,this.bitsbuflen=r-i,this.ip=s,65535&t},Rt.RawInflateStream.prototype.readUncompressedBlockHeader=function(){var e,t=this.input,i=this.ip;if(this.status=Rt.RawInflateStream.Status.BLOCK_BODY_START,i+4>=t.length)return-1;if((e=t[i++]|t[i++]<<8)===~(t[i++]|t[i++]<<8))throw new Error("invalid uncompressed block header: length verify");this.bitsbuf=0,this.bitsbuflen=0,this.ip=i,this.blockLength=e,this.status=Rt.RawInflateStream.Status.BLOCK_BODY_END},Rt.RawInflateStream.prototype.parseUncompressedBlock=function(){var e=this.input,t=this.ip,i=this.output,n=this.op,r=this.blockLength;for(this.status=Rt.RawInflateStream.Status.DECODE_BLOCK_START;r--;){if(n===i.length&&(i=this.expandBuffer({fixRatio:2})),t>=e.length)return this.ip=t,this.op=n,this.blockLength=r+1,-1;i[n++]=e[t++]}return r<0&&(this.status=Rt.RawInflateStream.Status.DECODE_BLOCK_END),this.ip=t,this.op=n,0},Rt.RawInflateStream.prototype.parseFixedHuffmanBlock=function(){return this.status=Rt.RawInflateStream.Status.BLOCK_BODY_START,this.litlenTable=Rt.RawInflateStream.FixedLiteralLengthTable,this.distTable=Rt.RawInflateStream.FixedDistanceTable,this.status=Rt.RawInflateStream.Status.BLOCK_BODY_END,0},Rt.RawInflateStream.prototype.save_=function(){this.ip_=this.ip,this.bitsbuflen_=this.bitsbuflen,this.bitsbuf_=this.bitsbuf},Rt.RawInflateStream.prototype.restore_=function(){this.ip=this.ip_,this.bitsbuflen=this.bitsbuflen_,this.bitsbuf=this.bitsbuf_},Rt.RawInflateStream.prototype.parseDynamicHuffmanBlock=function(){var e,t,i,n,r=new Uint8Array(Rt.RawInflateStream.Order.length);if(this.status=Rt.RawInflateStream.Status.BLOCK_BODY_START,this.save_(),e=this.readBits(5)+257,t=this.readBits(5)+1,i=this.readBits(4)+4,e<0||t<0||i<0)return this.restore_(),-1;try{(function(){var a,s,o,l,h,f,c=0;for(h=0;h<i;++h){if((a=this.readBits(3))<0)throw new Error("not enough input");r[Rt.RawInflateStream.Order[h]]=a}for(n=St(r),l=new Uint8Array(e+t),h=0,f=e+t;h<f;){if((s=this.readCodeByTable(n))<0)throw new Error("not enough input");switch(s){case 16:if((a=this.readBits(2))<0)throw new Error("not enough input");for(o=3+a;o--;)l[h++]=c;break;case 17:if((a=this.readBits(3))<0)throw new Error("not enough input");for(o=3+a;o--;)l[h++]=0;c=0;break;case 18:if((a=this.readBits(7))<0)throw new Error("not enough input");for(o=11+a;o--;)l[h++]=0;c=0;break;default:l[h++]=s,c=s}}this.litlenTable=St(l.subarray(0,e)),this.distTable=St(l.subarray(e))}).call(this)}catch(e){return this.restore_(),-1}return this.status=Rt.RawInflateStream.Status.BLOCK_BODY_END,0},Rt.RawInflateStream.prototype.decodeHuffman=function(){var e,t,i,n,r,a=this.output,s=this.op,o=this.litlenTable,l=this.distTable,h=a.length;for(this.status=Rt.RawInflateStream.Status.DECODE_BLOCK_START;;){if(this.save_(),(e=this.readCodeByTable(o))<0)return this.op=s,this.restore_(),-1;if(256===e)break;if(e<256)s===h&&(h=(a=this.expandBuffer()).length),a[s++]=e;else{if(t=e-257,n=Rt.RawInflateStream.LengthCodeTable[t],Rt.RawInflateStream.LengthExtraTable[t]>0){if((r=this.readBits(Rt.RawInflateStream.LengthExtraTable[t]))<0)return this.op=s,this.restore_(),-1;n+=r}if((e=this.readCodeByTable(l))<0)return this.op=s,this.restore_(),-1;if(i=Rt.RawInflateStream.DistCodeTable[e],Rt.RawInflateStream.DistExtraTable[e]>0){if((r=this.readBits(Rt.RawInflateStream.DistExtraTable[e]))<0)return this.op=s,this.restore_(),-1;i+=r}for(s+n>=h&&(h=(a=this.expandBuffer()).length);n--;)a[s]=a[s++-i];if(this.ip===this.input.length)return this.op=s,-1}}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=s,this.status=Rt.RawInflateStream.Status.DECODE_BLOCK_END},Rt.RawInflateStream.prototype.expandBuffer=function(e){var t,i,n,r=this.input.length/this.ip+1|0,a=this.input,s=this.output;return e&&("number"==typeof e.fixRatio&&(r=e.fixRatio),"number"==typeof e.addRatio&&(r+=e.addRatio)),i=r<2?(n=(a.length-this.ip)/this.litlenTable[2]/2*258|0)<s.length?s.length+n:s.length<<1:s.length*r,(t=new Uint8Array(i)).set(s),this.output=t,this.output},Rt.RawInflateStream.prototype.concatBuffer=function(){var e,t,i=this.op;return e=this.resize?new Uint8Array(this.output.subarray(this.sp,i)):this.output.subarray(this.sp,i),this.sp=i,i>Rt.RawInflateStream.MaxBackwardLength+this.bufferSize&&(this.op=this.sp=Rt.RawInflateStream.MaxBackwardLength,t=this.output,this.output=new Uint8Array(this.bufferSize+Rt.RawInflateStream.MaxBackwardLength),this.output.set(t.subarray(i-Rt.RawInflateStream.MaxBackwardLength,i))),e},Rt.Inflate=function(e,t){var i,n;switch(this.input=e,this.ip=0,this.rawinflate,this.verify,!t&&(t={})||(t.index&&(this.ip=t.index),t.verify&&(this.verify=t.verify)),i=e[this.ip++],n=e[this.ip++],15&i){case Rt.CompressionMethod.DEFLATE:this.method=Rt.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((i<<8)+n)%31!=0)throw new Error("invalid fcheck flag:"+((i<<8)+n)%31);if(32&n)throw new Error("fdict flag is not supported");this.rawinflate=new Rt.RawInflate(e,{index:this.ip,bufferSize:t.bufferSize,bufferType:t.bufferType,resize:t.resize})},Rt.Inflate.BufferType=Rt.RawInflate.BufferType,Rt.Inflate.prototype.decompress=function(){var e,t=this.input;if(e=this.rawinflate.decompress(),this.ip=this.rawinflate.ip,this.verify&&(t[this.ip++]<<24|t[this.ip++]<<16|t[this.ip++]<<8|t[this.ip++])>>>0!==Rt.Adler32(e))throw new Error("invalid adler-32 checksum");return e},Rt.InflateStream=function(e){this.input=void 0===e?new Uint8Array:e,this.ip=0,this.rawinflate=new Rt.RawInflateStream(this.input,this.ip),this.method,this.output=this.rawinflate.output},Rt.InflateStream.prototype.decompress=function(e){var t;if(void 0!==e){var i=new Uint8Array(this.input.length+e.length);i.set(this.input,0),i.set(e,this.input.length),this.input=i}return void 0===this.method&&this.readHeader()<0?new Uint8Array:(t=this.rawinflate.decompress(this.input,this.ip),0!==this.rawinflate.ip&&(this.input=this.input.subarray(this.rawinflate.ip),this.ip=0),t)},Rt.InflateStream.prototype.readHeader=function(){var e=this.ip,t=this.input,i=t[e++],n=t[e++];if(void 0===i||void 0===n)return-1;switch(15&i){case Rt.CompressionMethod.DEFLATE:this.method=Rt.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((i<<8)+n)%31!=0)throw new Error("invalid fcheck flag:"+((i<<8)+n)%31);if(32&n)throw new Error("fdict flag is not supported");this.ip=e},Rt.Gunzip=function(e,t){this.input=e,this.ip=0,this.member=[],this.decompressed=!1},Rt.Gunzip.prototype.getMembers=function(){return this.decompressed||this.decompress(),this.member.slice()},Rt.Gunzip.prototype.decompress=function(){for(var e=this.input.length;this.ip<e;)this.decodeMember();return this.decompressed=!0,this.concatMember()},Rt.Gunzip.prototype.decodeMember=function(){var e,t,i,n,r,a,s,o,l,h=new Rt.GunzipMember,f=this.input,c=this.ip;if(h.id1=f[c++],h.id2=f[c++],31!==h.id1||139!==h.id2)throw new Error("invalid file signature:"+h.id1+","+h.id2);switch(h.cm=f[c++],h.cm){case 8:break;default:throw new Error("unknown compression method: "+h.cm)}if(h.flg=f[c++],o=f[c++]|f[c++]<<8|f[c++]<<16|f[c++]<<24,h.mtime=new Date(1e3*o),h.xfl=f[c++],h.os=f[c++],(h.flg&Rt.Gzip.FlagsMask.FEXTRA)>0&&(h.xlen=f[c++]|f[c++]<<8,c=this.decodeSubField(c,h.xlen)),(h.flg&Rt.Gzip.FlagsMask.FNAME)>0){for(s=[],a=0;(r=f[c++])>0;)s[a++]=String.fromCharCode(r);h.name=s.join("")}if((h.flg&Rt.Gzip.FlagsMask.FCOMMENT)>0){for(s=[],a=0;(r=f[c++])>0;)s[a++]=String.fromCharCode(r);h.comment=s.join("")}if((h.flg&Rt.Gzip.FlagsMask.FHCRC)>0&&(h.crc16=65535&Rt.CRC32.calc(f,0,c),h.crc16!==(f[c++]|f[c++]<<8)))throw new Error("invalid header crc16");if(e=f[f.length-4]|f[f.length-3]<<8|f[f.length-2]<<16|f[f.length-1]<<24,f.length-c-4-4<512*e&&(n=e),t=new Rt.RawInflate(f,{index:c,bufferSize:n}),h.data=i=t.decompress(),c=t.ip,h.crc32=l=(f[c++]|f[c++]<<8|f[c++]<<16|f[c++]<<24)>>>0,Rt.CRC32.calc(i)!==l)throw new Error("invalid CRC-32 checksum: 0x"+Rt.CRC32.calc(i).toString(16)+" / 0x"+l.toString(16));if(h.isize=e=(f[c++]|f[c++]<<8|f[c++]<<16|f[c++]<<24)>>>0,(4294967295&i.length)!==e)throw new Error("invalid input size: "+(4294967295&i.length)+" / "+e);this.member.push(h),this.ip=c},Rt.Gunzip.prototype.decodeSubField=function(e,t){return e+t},Rt.Gunzip.prototype.concatMember=function(){var e,t,i,n=this.member,r=0,a=0;for(e=0,t=n.length;e<t;++e)a+=n[e].data.length;for(i=new Uint8Array(a),e=0;e<t;++e)i.set(n[e].data,r),r+=n[e].data.length;return i},Rt.GunzipMember=function(){this.id1,this.id2,this.cm,this.flg,this.mtime,this.xfl,this.os,this.crc16,this.xlen,this.crc32,this.isize,this.name,this.comment,this.data},Rt.GunzipMember.prototype.getName=function(){return this.name},Rt.GunzipMember.prototype.getData=function(){return this.data},Rt.GunzipMember.prototype.getMtime=function(){return this.mtime},Rt.Gzip=function(e,t){this.input=e,this.ip=0,this.output,this.op=0,this.flags={},this.filename,this.comment,this.deflateOptions,t&&(t.flags&&(this.flags=t.flags),"string"==typeof t.filename&&(this.filename=t.filename),"string"==typeof t.comment&&(this.comment=t.comment),t.deflateOptions&&(this.deflateOptions=t.deflateOptions)),this.deflateOptions||(this.deflateOptions={})},Rt.Gzip.DefaultBufferSize=32768,Rt.Gzip.prototype.compress=function(){var e,t,i,n,r,a,s,o,l=new Uint8Array(Rt.Gzip.DefaultBufferSize),h=0,f=this.input,c=this.ip,u=this.filename,p=this.comment;if(l[h++]=31,l[h++]=139,l[h++]=8,e=0,this.flags.fname&&(e|=Rt.Gzip.FlagsMask.FNAME),this.flags.fcomment&&(e|=Rt.Gzip.FlagsMask.FCOMMENT),this.flags.fhcrc&&(e|=Rt.Gzip.FlagsMask.FHCRC),l[h++]=e,t=(Date.now?Date.now():+new Date)/1e3|0,l[h++]=255&t,l[h++]=t>>>8&255,l[h++]=t>>>16&255,l[h++]=t>>>24&255,l[h++]=0,l[h++]=Rt.Gzip.OperatingSystem.UNKNOWN,void 0!==this.flags.fname){for(s=0,o=u.length;s<o;++s)(a=u.charCodeAt(s))>255&&(l[h++]=a>>>8&255),l[h++]=255&a;l[h++]=0}if(this.flags.comment){for(s=0,o=p.length;s<o;++s)(a=p.charCodeAt(s))>255&&(l[h++]=a>>>8&255),l[h++]=255&a;l[h++]=0}return this.flags.fhcrc&&(i=65535&Rt.CRC32.calc(l,0,h),l[h++]=255&i,l[h++]=i>>>8&255),this.deflateOptions.outputBuffer=l,this.deflateOptions.outputIndex=h,l=(r=new Rt.RawDeflate(f,this.deflateOptions)).compress(),(h=r.op)+8>l.buffer.byteLength?(this.output=new Uint8Array(h+8),this.output.set(new Uint8Array(l.buffer)),l=this.output):l=new Uint8Array(l.buffer),n=Rt.CRC32.calc(f),l[h++]=255&n,l[h++]=n>>>8&255,l[h++]=n>>>16&255,l[h++]=n>>>24&255,o=f.length,l[h++]=255&o,l[h++]=o>>>8&255,l[h++]=o>>>16&255,l[h++]=o>>>24&255,this.ip=c,h<l.length&&(this.output=l=l.subarray(0,h)),l},Rt.Gzip.OperatingSystem={FAT:0,AMIGA:1,VMS:2,UNIX:3,VM_CMS:4,ATARI_TOS:5,HPFS:6,MACINTOSH:7,Z_SYSTEM:8,CP_M:9,TOPS_20:10,NTFS:11,QDOS:12,ACORN_RISCOS:13,UNKNOWN:255},Rt.Gzip.FlagsMask={FTEXT:1,FHCRC:2,FEXTRA:4,FNAME:8,FCOMMENT:16},Rt.Heap=function(e){this.buffer=new Uint16Array(2*e),this.length=0},Rt.Heap.prototype.getParent=function(e){return 2*((e-2)/4|0)},Rt.Heap.prototype.getChild=function(e){return 2*e+2},Rt.Heap.prototype.push=function(e,t){var i,n,r,a=this.buffer;for(i=this.length,a[this.length++]=t,a[this.length++]=e;i>0&&(n=this.getParent(i),a[i]>a[n]);)r=a[i],a[i]=a[n],a[n]=r,r=a[i+1],a[i+1]=a[n+1],a[n+1]=r,i=n;return this.length},Rt.Heap.prototype.pop=function(){var e,t,i,n,r,a=this.buffer;for(t=a[0],e=a[1],this.length-=2,a[0]=a[this.length],a[1]=a[this.length+1],r=0;!((n=this.getChild(r))>=this.length)&&(n+2<this.length&&a[n+2]>a[n]&&(n+=2),a[n]>a[r]);)i=a[r],a[r]=a[n],a[n]=i,i=a[r+1],a[r+1]=a[n+1],a[n+1]=i,r=n;return{index:e,value:t,length:this.length}},Rt.RawDeflate=function(e,t){this.compressionType=Rt.RawDeflate.CompressionType.DYNAMIC,this.lazy=0,this.freqsLitLen,this.freqsDist,this.input=e instanceof Array?new Uint8Array(e):e,this.output,this.op=0,t&&(t.lazy&&(this.lazy=t.lazy),"number"==typeof t.compressionType&&(this.compressionType=t.compressionType),t.outputBuffer&&(this.output=t.outputBuffer instanceof Array?new Uint8Array(t.outputBuffer):t.outputBuffer),"number"==typeof t.outputIndex&&(this.op=t.outputIndex)),this.output||(this.output=new Uint8Array(32768))},Rt.RawDeflate.CompressionType={NONE:0,FIXED:1,DYNAMIC:2,RESERVED:3},Rt.RawDeflate.Lz77MinLength=3,Rt.RawDeflate.Lz77MaxLength=258,Rt.RawDeflate.WindowSize=32768,Rt.RawDeflate.MaxCodeLength=16,Rt.RawDeflate.HUFMAX=286,Rt.RawDeflate.FixedHuffmanTable=function(){var e,t=[];for(e=0;e<288;e++)switch(!0){case e<=143:t.push([e+48,8]);break;case e<=255:t.push([e-144+400,9]);break;case e<=279:t.push([e-256+0,7]);break;case e<=287:t.push([e-280+192,8]);break;default:throw"invalid literal: "+e}return t}(),Rt.RawDeflate.prototype.compress=function(){var e,t,i,n=this.input;switch(this.compressionType){case Rt.RawDeflate.CompressionType.NONE:for(t=0,i=n.length;t<i;)t+=(e=n.subarray(t,t+65535)).length,this.makeNocompressBlock(e,t===i);break;case Rt.RawDeflate.CompressionType.FIXED:this.output=this.makeFixedHuffmanBlock(n,!0),this.op=this.output.length;break;case Rt.RawDeflate.CompressionType.DYNAMIC:this.output=this.makeDynamicHuffmanBlock(n,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output},Rt.RawDeflate.prototype.makeNocompressBlock=function(e,t){var i,n,r,a,s=this.output,o=this.op;for(s=new Uint8Array(this.output.buffer);s.length<=o+e.length+5;)s=new Uint8Array(s.length<<1);return s.set(this.output),i=t?1:0,n=Rt.RawDeflate.CompressionType.NONE,s[o++]=i|n<<1,a=65536+~(r=e.length)&65535,s[o++]=255&r,s[o++]=r>>>8&255,s[o++]=255&a,s[o++]=a>>>8&255,s.set(e,o),o+=e.length,s=s.subarray(0,o),this.op=o,this.output=s,s},Rt.RawDeflate.prototype.makeFixedHuffmanBlock=function(e,t){var i,n,r,a=new Rt.BitStream(new Uint8Array(this.output.buffer),this.op);return i=t?1:0,n=Rt.RawDeflate.CompressionType.FIXED,a.writeBits(i,1,!0),a.writeBits(n,2,!0),r=this.lz77(e),this.fixedHuffman(r,a),a.finish()},Rt.RawDeflate.prototype.makeDynamicHuffmanBlock=function(e,t){var i,n,r,a,s,o,l,h,f,c,u,p,d,g,w,m,y,b=new Rt.BitStream(new Uint8Array(this.output.buffer),this.op),v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=new Array(19);for(i=t?1:0,n=Rt.RawDeflate.CompressionType.DYNAMIC,b.writeBits(i,1,!0),b.writeBits(n,2,!0),r=this.lz77(e),l=this.getLengths_(this.freqsLitLen,15),h=this.getCodesFromLengths_(l),f=this.getLengths_(this.freqsDist,7),c=this.getCodesFromLengths_(f),a=286;a>257&&0===l[a-1];a--);for(s=30;s>1&&0===f[s-1];s--);for(u=this.getTreeSymbols_(a,l,s,f),p=this.getLengths_(u.freqs,7),m=0;m<19;m++)k[m]=p[v[m]];for(o=19;o>4&&0===k[o-1];o--);for(d=this.getCodesFromLengths_(p),b.writeBits(a-257,5,!0),b.writeBits(s-1,5,!0),b.writeBits(o-4,4,!0),m=0;m<o;m++)b.writeBits(k[m],3,!0);for(m=0,y=u.codes.length;m<y;m++)if(g=u.codes[m],b.writeBits(d[g],p[g],!0),g>=16){switch(m++,g){case 16:w=2;break;case 17:w=3;break;case 18:w=7;break;default:throw"invalid code: "+g}b.writeBits(u.codes[m],w,!0)}return this.dynamicHuffman(r,[h,l],[c,f],b),b.finish()},Rt.RawDeflate.prototype.dynamicHuffman=function(e,t,i,n){var r,a,s,o,l,h,f,c;for(l=t[0],h=t[1],f=i[0],c=i[1],r=0,a=e.length;r<a;++r)if(s=e[r],n.writeBits(l[s],h[s],!0),s>256)n.writeBits(e[++r],e[++r],!0),o=e[++r],n.writeBits(f[o],c[o],!0),n.writeBits(e[++r],e[++r],!0);else if(256===s)break;return n},Rt.RawDeflate.prototype.fixedHuffman=function(e,t){var i,n,r;for(i=0,n=e.length;i<n;i++)if(r=e[i],Rt.BitStream.prototype.writeBits.apply(t,Rt.RawDeflate.FixedHuffmanTable[r]),r>256)t.writeBits(e[++i],e[++i],!0),t.writeBits(e[++i],5),t.writeBits(e[++i],e[++i],!0);else if(256===r)break;return t},Rt.RawDeflate.Lz77Match=function(e,t){this.length=e,this.backwardDistance=t},Rt.RawDeflate.Lz77Match.LengthCodeTable=function(e){return new Uint32Array(e)}(function(){var e,t,i=[];for(e=3;e<=258;e++)t=n(e),i[e]=t[2]<<24|t[1]<<16|t[0];function n(e){switch(!0){case 3===e:return[257,e-3,0];case 4===e:return[258,e-4,0];case 5===e:return[259,e-5,0];case 6===e:return[260,e-6,0];case 7===e:return[261,e-7,0];case 8===e:return[262,e-8,0];case 9===e:return[263,e-9,0];case 10===e:return[264,e-10,0];case e<=12:return[265,e-11,1];case e<=14:return[266,e-13,1];case e<=16:return[267,e-15,1];case e<=18:return[268,e-17,1];case e<=22:return[269,e-19,2];case e<=26:return[270,e-23,2];case e<=30:return[271,e-27,2];case e<=34:return[272,e-31,2];case e<=42:return[273,e-35,3];case e<=50:return[274,e-43,3];case e<=58:return[275,e-51,3];case e<=66:return[276,e-59,3];case e<=82:return[277,e-67,4];case e<=98:return[278,e-83,4];case e<=114:return[279,e-99,4];case e<=130:return[280,e-115,4];case e<=162:return[281,e-131,5];case e<=194:return[282,e-163,5];case e<=226:return[283,e-195,5];case e<=257:return[284,e-227,5];case 258===e:return[285,e-258,0];default:throw"invalid length: "+e}}return i}()),Rt.RawDeflate.Lz77Match.prototype.getDistanceCode_=function(e){var t;switch(!0){case 1===e:t=[0,e-1,0];break;case 2===e:t=[1,e-2,0];break;case 3===e:t=[2,e-3,0];break;case 4===e:t=[3,e-4,0];break;case e<=6:t=[4,e-5,1];break;case e<=8:t=[5,e-7,1];break;case e<=12:t=[6,e-9,2];break;case e<=16:t=[7,e-13,2];break;case e<=24:t=[8,e-17,3];break;case e<=32:t=[9,e-25,3];break;case e<=48:t=[10,e-33,4];break;case e<=64:t=[11,e-49,4];break;case e<=96:t=[12,e-65,5];break;case e<=128:t=[13,e-97,5];break;case e<=192:t=[14,e-129,6];break;case e<=256:t=[15,e-193,6];break;case e<=384:t=[16,e-257,7];break;case e<=512:t=[17,e-385,7];break;case e<=768:t=[18,e-513,8];break;case e<=1024:t=[19,e-769,8];break;case e<=1536:t=[20,e-1025,9];break;case e<=2048:t=[21,e-1537,9];break;case e<=3072:t=[22,e-2049,10];break;case e<=4096:t=[23,e-3073,10];break;case e<=6144:t=[24,e-4097,11];break;case e<=8192:t=[25,e-6145,11];break;case e<=12288:t=[26,e-8193,12];break;case e<=16384:t=[27,e-12289,12];break;case e<=24576:t=[28,e-16385,13];break;case e<=32768:t=[29,e-24577,13];break;default:throw"invalid distance"}return t},Rt.RawDeflate.Lz77Match.prototype.toLz77Array=function(){var e,t=this.length,i=this.backwardDistance,n=[],r=0;return e=Rt.RawDeflate.Lz77Match.LengthCodeTable[t],n[r++]=65535&e,n[r++]=e>>16&255,n[r++]=e>>24,e=this.getDistanceCode_(i),n[r++]=e[0],n[r++]=e[1],n[r++]=e[2],n},Rt.RawDeflate.prototype.lz77=function(e){var t,i,n,r,a,s,o,l,h,f={},c=Rt.RawDeflate.WindowSize,u=new Uint16Array(2*e.length),p=0,d=0,g=new Uint32Array(286),w=new Uint32Array(30),m=this.lazy;function y(e,t){var i,n,r=e.toLz77Array();for(i=0,n=r.length;i<n;++i)u[p++]=r[i];g[r[0]]++,w[r[3]]++,d=e.length+t-1,l=null}for(g[256]=1,t=0,i=e.length;t<i;++t){for(a=0,n=0,r=Rt.RawDeflate.Lz77MinLength;n<r&&t+n!==i;++n)a=a<<8|e[t+n];if(void 0===f[a]&&(f[a]=[]),s=f[a],d-- >0)s.push(t);else{for(;s.length>0&&t-s[0]>c;)s.shift();if(t+Rt.RawDeflate.Lz77MinLength>=i){for(l&&y(l,-1),n=0,r=i-t;n<r;++n)h=e[t+n],u[p++]=h,++g[h];break}s.length>0?(o=this.searchLongestMatch_(e,t,s),l?l.length<o.length?(h=e[t-1],u[p++]=h,++g[h],y(o,0)):y(l,-1):o.length<m?l=o:y(o,0)):l?y(l,-1):(h=e[t],u[p++]=h,++g[h]),s.push(t)}}return u[p++]=256,g[256]++,this.freqsLitLen=g,this.freqsDist=w,u.subarray(0,p)},Rt.RawDeflate.prototype.searchLongestMatch_=function(e,t,i){var n,r,a,s,o,l,h=0,f=e.length;e:for(s=0,l=i.length;s<l;s++){if(n=i[l-s-1],a=Rt.RawDeflate.Lz77MinLength,h>Rt.RawDeflate.Lz77MinLength){for(o=h;o>Rt.RawDeflate.Lz77MinLength;o--)if(e[n+o-1]!==e[t+o-1])continue e;a=h}for(;a<Rt.RawDeflate.Lz77MaxLength&&t+a<f&&e[n+a]===e[t+a];)++a;if(a>h&&(r=n,h=a),a===Rt.RawDeflate.Lz77MaxLength)break}return new Rt.RawDeflate.Lz77Match(h,t-r)},Rt.RawDeflate.prototype.getTreeSymbols_=function(e,t,i,n){var r,a,s,o,l,h,f=new Uint32Array(e+i),c=new Uint32Array(316),u=new Uint8Array(19);for(a=0,r=0;r<e;r++)f[a++]=t[r];for(r=0;r<i;r++)f[a++]=n[r];for(l=0,r=0,o=f.length;r<o;r+=a){for(a=1;r+a<o&&f[r+a]===f[r];++a);if(s=a,0===f[r])if(s<3)for(;s-- >0;)c[l++]=0,u[0]++;else for(;s>0;)(h=s<138?s:138)>s-3&&h<s&&(h=s-3),h<=10?(c[l++]=17,c[l++]=h-3,u[17]++):(c[l++]=18,c[l++]=h-11,u[18]++),s-=h;else if(c[l++]=f[r],u[f[r]]++,--s<3)for(;s-- >0;)c[l++]=f[r],u[f[r]]++;else for(;s>0;)(h=s<6?s:6)>s-3&&h<s&&(h=s-3),c[l++]=16,c[l++]=h-3,u[16]++,s-=h}return{codes:c.subarray(0,l),freqs:u}},Rt.RawDeflate.prototype.getLengths_=function(e,t){var i,n,r,a,s,o=e.length,l=new Rt.Heap(2*Rt.RawDeflate.HUFMAX),h=new Uint8Array(o);for(a=0;a<o;++a)e[a]>0&&l.push(a,e[a]);if(i=new Array(l.length/2),n=new Uint32Array(l.length/2),1===i.length)return h[l.pop().index]=1,h;for(a=0,s=l.length/2;a<s;++a)i[a]=l.pop(),n[a]=i[a].value;for(r=this.reversePackageMerge_(n,n.length,t),a=0,s=i.length;a<s;++a)h[i[a].index]=r[a];return h},Rt.RawDeflate.prototype.reversePackageMerge_=function(e,t,i){var n,r,a,s,o,l=new Uint16Array(i),h=new Uint8Array(i),f=new Uint8Array(t),c=new Array(i),u=new Array(i),p=new Array(i),d=(1<<i)-t,g=1<<i-1;function w(e){var i=u[e][p[e]];i===t?(w(e+1),w(e+1)):--f[i],++p[e]}for(l[i-1]=t,r=0;r<i;++r)d<g?h[r]=0:(h[r]=1,d-=g),d<<=1,l[i-2-r]=(l[i-1-r]/2|0)+t;for(l[0]=h[0],c[0]=new Array(l[0]),u[0]=new Array(l[0]),r=1;r<i;++r)l[r]>2*l[r-1]+h[r]&&(l[r]=2*l[r-1]+h[r]),c[r]=new Array(l[r]),u[r]=new Array(l[r]);for(n=0;n<t;++n)f[n]=i;for(a=0;a<l[i-1];++a)c[i-1][a]=e[a],u[i-1][a]=a;for(n=0;n<i;++n)p[n]=0;for(1===h[i-1]&&(--f[0],++p[i-1]),r=i-2;r>=0;--r){for(n=0,s=0,o=p[r+1],a=0;a<l[r];a++)(s=c[r+1][o]+c[r+1][o+1])>e[n]?(c[r][a]=s,u[r][a]=t,o+=2):(c[r][a]=e[n],u[r][a]=n,++n);p[r]=0,1===h[r]&&w(r)}return f},Rt.RawDeflate.prototype.getCodesFromLengths_=function(e){var t,i,n,r,a=new Uint16Array(e.length),s=[],o=[],l=0;for(t=0,i=e.length;t<i;t++)s[e[t]]=1+(0|s[e[t]]);for(t=1,i=Rt.RawDeflate.MaxCodeLength;t<=i;t++)o[t]=l,l+=0|s[t],l<<=1;for(t=0,i=e.length;t<i;t++)for(l=o[e[t]],o[e[t]]+=1,a[t]=0,n=0,r=e[t];n<r;n++)a[t]=a[t]<<1|1&l,l>>>=1;return a},Rt.Unzip=function(e,t){t=t||{},this.input=e instanceof Array?new Uint8Array(e):e,this.ip=0,this.eocdrOffset,this.numberOfThisDisk,this.startDisk,this.totalEntriesThisDisk,this.totalEntries,this.centralDirectorySize,this.centralDirectoryOffset,this.commentLength,this.comment,this.fileHeaderList,this.filenameToIndex,this.verify=t.verify||!1,this.password=t.password},Rt.Unzip.CompressionMethod=Rt.Zip.CompressionMethod,Rt.Unzip.FileHeaderSignature=Rt.Zip.FileHeaderSignature,Rt.Unzip.LocalFileHeaderSignature=Rt.Zip.LocalFileHeaderSignature,Rt.Unzip.CentralDirectorySignature=Rt.Zip.CentralDirectorySignature,Rt.Unzip.FileHeader=function(e,t){this.input=e,this.offset=t,this.length,this.version,this.os,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.fileCommentLength,this.diskNumberStart,this.internalFileAttributes,this.externalFileAttributes,this.relativeOffset,this.filename,this.extraField,this.comment},Rt.Unzip.FileHeader.prototype.parse=function(){var e=this.input,t=this.offset;if(e[t++]!==Rt.Unzip.FileHeaderSignature[0]||e[t++]!==Rt.Unzip.FileHeaderSignature[1]||e[t++]!==Rt.Unzip.FileHeaderSignature[2]||e[t++]!==Rt.Unzip.FileHeaderSignature[3])throw new Error("invalid file header signature");this.version=e[t++],this.os=e[t++],this.needVersion=e[t++]|e[t++]<<8,this.flags=e[t++]|e[t++]<<8,this.compression=e[t++]|e[t++]<<8,this.time=e[t++]|e[t++]<<8,this.date=e[t++]|e[t++]<<8,this.crc32=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.compressedSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.plainSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.fileNameLength=e[t++]|e[t++]<<8,this.extraFieldLength=e[t++]|e[t++]<<8,this.fileCommentLength=e[t++]|e[t++]<<8,this.diskNumberStart=e[t++]|e[t++]<<8,this.internalFileAttributes=e[t++]|e[t++]<<8,this.externalFileAttributes=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,this.relativeOffset=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.filename=String.fromCharCode.apply(null,e.subarray(t,t+=this.fileNameLength)),this.extraField=e.subarray(t,t+=this.extraFieldLength),this.comment=e.subarray(t,t+this.fileCommentLength),this.length=t-this.offset},Rt.Unzip.LocalFileHeader=function(e,t){this.input=e,this.offset=t,this.length,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.filename,this.extraField},Rt.Unzip.LocalFileHeader.Flags=Rt.Zip.Flags,Rt.Unzip.LocalFileHeader.prototype.parse=function(){var e=this.input,t=this.offset;if(e[t++]!==Rt.Unzip.LocalFileHeaderSignature[0]||e[t++]!==Rt.Unzip.LocalFileHeaderSignature[1]||e[t++]!==Rt.Unzip.LocalFileHeaderSignature[2]||e[t++]!==Rt.Unzip.LocalFileHeaderSignature[3])throw new Error("invalid local file header signature");this.needVersion=e[t++]|e[t++]<<8,this.flags=e[t++]|e[t++]<<8,this.compression=e[t++]|e[t++]<<8,this.time=e[t++]|e[t++]<<8,this.date=e[t++]|e[t++]<<8,this.crc32=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.compressedSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.plainSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.fileNameLength=e[t++]|e[t++]<<8,this.extraFieldLength=e[t++]|e[t++]<<8,this.filename=String.fromCharCode.apply(null,e.subarray(t,t+=this.fileNameLength)),this.extraField=e.subarray(t,t+=this.extraFieldLength),this.length=t-this.offset},Rt.Unzip.prototype.searchEndOfCentralDirectoryRecord=function(){var e,t=this.input;for(e=t.length-12;e>0;--e)if(t[e]===Rt.Unzip.CentralDirectorySignature[0]&&t[e+1]===Rt.Unzip.CentralDirectorySignature[1]&&t[e+2]===Rt.Unzip.CentralDirectorySignature[2]&&t[e+3]===Rt.Unzip.CentralDirectorySignature[3])return void(this.eocdrOffset=e);throw new Error("End of Central Directory Record not found")},Rt.Unzip.prototype.parseEndOfCentralDirectoryRecord=function(){var e,t=this.input;if(this.eocdrOffset||this.searchEndOfCentralDirectoryRecord(),e=this.eocdrOffset,t[e++]!==Rt.Unzip.CentralDirectorySignature[0]||t[e++]!==Rt.Unzip.CentralDirectorySignature[1]||t[e++]!==Rt.Unzip.CentralDirectorySignature[2]||t[e++]!==Rt.Unzip.CentralDirectorySignature[3])throw new Error("invalid signature");this.numberOfThisDisk=t[e++]|t[e++]<<8,this.startDisk=t[e++]|t[e++]<<8,this.totalEntriesThisDisk=t[e++]|t[e++]<<8,this.totalEntries=t[e++]|t[e++]<<8,this.centralDirectorySize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.centralDirectoryOffset=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.commentLength=t[e++]|t[e++]<<8,this.comment=t.subarray(e,e+this.commentLength)},Rt.Unzip.prototype.parseFileHeader=function(){var e,t,i,n,r=[],a={};if(!this.fileHeaderList){for(void 0===this.centralDirectoryOffset&&this.parseEndOfCentralDirectoryRecord(),e=this.centralDirectoryOffset,i=0,n=this.totalEntries;i<n;++i)(t=new Rt.Unzip.FileHeader(this.input,e)).parse(),e+=t.length,r[i]=t,a[t.filename]=i;if(this.centralDirectorySize<e-this.centralDirectoryOffset)throw new Error("invalid file header size");this.fileHeaderList=r,this.filenameToIndex=a}},Rt.Unzip.prototype.getFileData=function(e,t){t=t||{};var i,n,r,a,s,o,l,h,f=this.input,c=this.fileHeaderList;if(c||this.parseFileHeader(),void 0===c[e])throw new Error("wrong index");if(n=c[e].relativeOffset,(i=new Rt.Unzip.LocalFileHeader(this.input,n)).parse(),n+=i.length,r=i.compressedSize,0!=(i.flags&Rt.Unzip.LocalFileHeader.Flags.ENCRYPT)){if(!t.password&&!this.password)throw new Error("please set password");for(o=this.createDecryptionKey(t.password||this.password),l=n,h=n+12;l<h;++l)this.decode(o,f[l]);for(l=n+=12,h=n+(r-=12);l<h;++l)f[l]=this.decode(o,f[l])}switch(i.compression){case Rt.Unzip.CompressionMethod.STORE:a=this.input.subarray(n,n+r);break;case Rt.Unzip.CompressionMethod.DEFLATE:a=new Rt.RawInflate(this.input,{index:n,bufferSize:i.plainSize}).decompress();break;default:throw new Error("unknown compression type")}if(this.verify&&(s=Rt.CRC32.calc(a),i.crc32!==s))throw new Error("wrong crc: file=0x"+i.crc32.toString(16)+", data=0x"+s.toString(16));return a},Rt.Unzip.prototype.getFilenames=function(){var e,t,i,n=[];for(this.fileHeaderList||this.parseFileHeader(),e=0,t=(i=this.fileHeaderList).length;e<t;++e)n[e]=i[e].filename;return n},Rt.Unzip.prototype.decompress=function(e,t){var i;if(this.filenameToIndex||this.parseFileHeader(),void 0===(i=this.filenameToIndex[e]))throw new Error(e+" not found");return this.getFileData(i,t)},Rt.Unzip.prototype.setPassword=function(e){this.password=e},Rt.Unzip.prototype.decode=function(e,t){return t^=this.getByte(e),this.updateKeys(e,t),t},Rt.Unzip.prototype.updateKeys=Rt.Zip.prototype.updateKeys,Rt.Unzip.prototype.createDecryptionKey=Rt.Zip.prototype.createEncryptionKey,Rt.Unzip.prototype.getByte=Rt.Zip.prototype.getByte,Rt.Util.stringToByteArray=function(e){var t,i,n=e.split("");for(t=0,i=n.length;t<i;t++)n[t]=(255&n[t].charCodeAt(0))>>>0;return n},Rt.Adler32=function(e){return"string"==typeof e&&(e=Rt.Util.stringToByteArray(e)),Rt.Adler32.update(1,e)},Rt.Adler32.update=function(e,t){for(var i,n=65535&e,r=e>>>16&65535,a=t.length,s=0;a>0;){a-=i=a>Rt.Adler32.OptimizationParameter?Rt.Adler32.OptimizationParameter:a;do{r+=n+=t[s++]}while(--i);n%=65521,r%=65521}return(r<<16|n)>>>0},Rt.Adler32.OptimizationParameter=1024,Rt.BitStream=function(e,t){if(this.index="number"==typeof t?t:0,this.bitindex=0,this.buffer=e instanceof Uint8Array?e:new Uint8Array(Rt.BitStream.DefaultBlockSize),2*this.buffer.length<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()},Rt.BitStream.DefaultBlockSize=32768,Rt.BitStream.prototype.expandBuffer=function(){var e=this.buffer,t=e.length,i=new Uint8Array(t<<1);return i.set(e),this.buffer=i},Rt.BitStream.prototype.writeBits=function(e,t,i){var n,r=this.buffer,a=this.index,s=this.bitindex,o=r[a];if(i&&t>1&&(e=t>8?function(e){return Rt.BitStream.ReverseTable[255&e]<<24|Rt.BitStream.ReverseTable[e>>>8&255]<<16|Rt.BitStream.ReverseTable[e>>>16&255]<<8|Rt.BitStream.ReverseTable[e>>>24&255]}(e)>>32-t:Rt.BitStream.ReverseTable[e]>>8-t),t+s<8)o=o<<t|e,s+=t;else for(n=0;n<t;++n)o=o<<1|e>>t-n-1&1,8==++s&&(s=0,r[a++]=Rt.BitStream.ReverseTable[o],o=0,a===r.length&&(r=this.expandBuffer()));r[a]=o,this.buffer=r,this.bitindex=s,this.index=a},Rt.BitStream.prototype.finish=function(){var e=this.buffer,t=this.index;return this.bitindex>0&&(e[t]<<=8-this.bitindex,e[t]=Rt.BitStream.ReverseTable[e[t]],t++),e.subarray(0,t)},Rt.BitStream.ReverseTable=function(){var e,t=new Uint8Array(256);for(e=0;e<256;++e)t[e]=function(e){var t=e,i=7;for(e>>>=1;e;e>>>=1)t<<=1,t|=1&e,--i;return(t<<i&255)>>>0}(e);return t}(),Rt.CRC32.calc=function(e,t,i){return Rt.CRC32.update(e,0,t,i)},Rt.CRC32.update=function(e,t,i,n){var r=Rt.CRC32.Table,a="number"==typeof i?i:i=0,s="number"==typeof n?n:e.length;for(t^=4294967295,a=7&s;a--;++i)t=t>>>8^r[255&(t^e[i])];for(a=s>>3;a--;i+=8)t=(t=(t=(t=(t=(t=(t=(t=t>>>8^r[255&(t^e[i])])>>>8^r[255&(t^e[i+1])])>>>8^r[255&(t^e[i+2])])>>>8^r[255&(t^e[i+3])])>>>8^r[255&(t^e[i+4])])>>>8^r[255&(t^e[i+5])])>>>8^r[255&(t^e[i+6])])>>>8^r[255&(t^e[i+7])];return(4294967295^t)>>>0},Rt.CRC32.single=function(e,t){return(Rt.CRC32.Table[255&(e^t)]^e>>>8)>>>0},Rt.CRC32.Table_=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Rt.CRC32.Table=new Uint32Array(Rt.CRC32.Table_),Rt.Deflate=function(e,t){this.input=e,this.output=new Uint8Array(Rt.Deflate.DefaultBufferSize),this.compressionType=Rt.Deflate.CompressionType.DYNAMIC,this.rawDeflate;var i,n={};for(i in!t&&(t={})||"number"==typeof t.compressionType&&(this.compressionType=t.compressionType),t)n[i]=t[i];n.outputBuffer=this.output,this.rawDeflate=new Rt.RawDeflate(this.input,n)},Rt.Deflate.DefaultBufferSize=32768,Rt.Deflate.CompressionType=Rt.RawDeflate.CompressionType,Rt.Deflate.compress=function(e,t){return new Rt.Deflate(e,t).compress()},Rt.Deflate.prototype.compress=function(){var e,t,i,n,r,a,s,o=0;switch(s=this.output,e=Rt.CompressionMethod.DEFLATE){case Rt.CompressionMethod.DEFLATE:t=Math.LOG2E*Math.log(Rt.RawDeflate.WindowSize)-8;break;default:throw new Error("invalid compression method")}switch(i=t<<4|e,s[o++]=i,0,e){case Rt.CompressionMethod.DEFLATE:switch(this.compressionType){case Rt.Deflate.CompressionType.NONE:r=0;break;case Rt.Deflate.CompressionType.FIXED:r=1;break;case Rt.Deflate.CompressionType.DYNAMIC:r=2;break;default:throw new Error("unsupported compression type")}break;default:throw new Error("invalid compression method")}return n=r<<6|0,n|=31-(256*i+n)%31,s[o++]=n,a=Rt.Adler32(this.input),this.rawDeflate.op=o,o=(s=this.rawDeflate.compress()).length,(s=new Uint8Array(s.buffer)).length<=o+4&&(this.output=new Uint8Array(s.length+4),this.output.set(s),s=this.output),(s=s.subarray(0,o+4))[o++]=a>>24&255,s[o++]=a>>16&255,s[o++]=a>>8&255,s[o++]=255&a,s};const At=new Map;At.set("!","%21"),At.set("#","%23"),At.set("$","%24"),At.set("%","%25"),At.set("&","%26"),At.set("'","%27"),At.set("(","%28"),At.set(")","%29"),At.set("*","%2A"),At.set("+","%2B"),At.set(",","%2C"),At.set("/","%2F"),At.set(":","%3A"),At.set(";","%3B"),At.set("=","%3D"),At.set("?","%3F"),At.set("@","%40"),At.set("[","%5B"),At.set("]","%5D"),At.set(" ","%20");function It(){return"undefined"!=typeof gapi&&gapi.auth2&&gapi.auth2.getAuthInstance()}let Ot=!1;async function zt(e){if("undefined"==typeof gapi)throw Error("Google authentication requires the 'gapi' library");if(!gapi.auth2)throw Error("Google 'auth2' has not been initialized");if(Ot)return new Promise((function(t,i){let n;n=setInterval((()=>{try{!1===Ot&&(t(zt(e)),clearInterval(n))}catch(e){clearInterval(n),i(e)}}),100)}));Ot=!0;try{let t,i=gapi.auth2.getAuthInstance().currentUser.get();if(i.isSignedIn()){i.hasGrantedScopes(e)||await i.grant({scope:e});const{access_token:n,expires_at:r}=i.getAuthResponse();if(Date.now()<r-3e5)t={access_token:n,expires_at:r};else{const{access_token:e,expires_at:n}=i.reloadAuthResponse();t={access_token:e,expires_at:n}}}else{i=await async function(e){const t=new gapi.auth2.SigninOptionsBuilder;return t.setPrompt("select_account"),t.setScope(e),gapi.auth2.getAuthInstance().signIn(t)}(e);const{access_token:n,expires_at:r}=i.getAuthResponse();t={access_token:n,expires_at:r}}return t}finally{Ot=!1}}function _t(){return gapi.apiKey}function Mt(e){for(var t=Ut,i=t.parser.loose.exec(e),n={},r=14;r--;)n[t.key[r]]=i[r]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,(function(e,i,r){i&&(n[t.q.name][i]=r)})),n}"object"==typeof process&&"undefined"==typeof window&&(global.atob=function(e){return Buffer.from(e,"base64").toString("binary")});const Ut={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};const Ft="function"==typeof new Uint8Array(1).subarray;function Ht(e,t,i,n,r){if(0!==r){if(!e)throw"Undef src";if(!i)throw"Undef dest";0===t&&r===e.length?Nt(e,i,n):Ft?Nt(e.subarray(t,t+r),i,n):1===e.BYTES_PER_ELEMENT&&r>100?Nt(new Uint8Array(e.buffer,e.byteOffset+t,r),i,n):function(e,t,i,n,r){for(let a=0;a<r;++a)i[n+a]=e[t+a]}(e,t,i,n,r)}}function Nt(e,t,i){t.set(e,i)}const Pt="googleapis",Kt={oauthTokens:{},setToken:function(e,t){t=t||Pt,this.oauthTokens[t]=e,t===Pt&&(this.google.access_token=e)},getToken:function(e){let t;e=e||Pt;for(let i of Object.keys(this.oauthTokens)){if($t(i).test(e)){t=this.oauthTokens[i];break}}return t},removeToken:function(e){e=e||Pt;for(let t of Object.keys(this.oauthTokens)){$t(t).test(e)&&(this.oauthTokens[t]=void 0)}e===Pt&&(this.google.access_token=void 0)},google:{setToken:function(e){Kt.setToken(e)}}};function $t(e){return new RegExp("^"+e.split(/\*+/).map(Gt).join(".*")+"$")}function Gt(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}const Zt=new class{constructor(e){this.requestsPerSecond=e.requestsPerSecond||10,this.lastStartTime=0,this.queued=[]}add(e,t){var i=this;return new Promise((function(t,n){i.queued.push({resolve:t,reject:n,asyncFunction:e}),i.dequeue()}))}addAll(e,t){var i=e.map(function(e){return this.add(e,t)}.bind(this));return Promise.all(i)}dequeue(){if(this.queued.length>0){var e=new Date,t=1e3/this.requestsPerSecond+1,i=e-this.lastStartTime;i>=t?this._execute():setTimeout(function(){this.dequeue()}.bind(this),t-i)}}async _execute(){this.lastStartTime=new Date;var e=this.queued.shift();const t=e.asyncFunction;try{const i=await t();e.resolve(i)}catch(t){e.reject(t)}}}({requestsPerSecond:8}),qt={apiKey:void 0,setApiKey:function(e){this.apiKey=e},load:Wt,loadArrayBuffer:async function(e,t){return(t=t||{}).responseType||(t.responseType="arraybuffer"),e instanceof File?jt(e,t):Wt(e,t)},loadJson:async function(e,t){"POST"===((t=t||{}).method||(t.sendData?"POST":"GET"))&&(t.contentType="application/json");const i=await this.loadString(e,t);return i?JSON.parse(i):i},loadString:async function(e,t){return t=t||{},e instanceof File?async function(e,t){const i=t.range?e.slice(t.range.start,t.range.start+t.range.size):e;let n=0;t&&t.bgz||e.name.endsWith(".bgz")?n=2:e.name.endsWith(".gz")&&(n=1);if(0===n)return Xt(i);return Qt(await Vt(i),n)}(e,t):async function(e,t){const i=(t=t||{}).filename||await async function(e){if(Tt(e)&&e.startsWith("https://drive.google.com")){if(void 0===_t())throw Error("Google drive is referenced, but API key is not defined.  An API key is required for Google Drive access");const t=await async function(e){let t="https://www.googleapis.com/drive/v3/files/"+Lt(e)+"?supportsTeamDrives=true";const i=_t();i&&(t+="&key="+i);const n=await fetch(t);let r=await n.json();if(r.error&&404===r.error.code){const{access_token:e}=await zt("https://www.googleapis.com/auth/drive.readonly");if(!e)throw Error(r.error);{const i=await fetch(t,{headers:{Authorization:`Bearer ${e}`}});if(r=await i.json(),r.error)throw Error(r.error)}}return r}(e);return t.originalFileName||t.name}return function(e){if(e instanceof File)return e.name;if(Tt(e)){let t=e.lastIndexOf("/"),i=t<0?e:e.substr(t+1);return t=i.indexOf("?"),t>0&&(i=i.substr(0,t)),i}throw Error("Expected File or string, got "+typeof e)}(e)}(e);let n=3;t.bgz?n=2:i.endsWith(".gz")&&(n=1);t.responseType="arraybuffer";return Qt(await qt.load(e,t),n)}(e,t)}};async function Wt(e,t){t=t||{};const i=typeof e;if((e=await("function"==typeof e?e():e))instanceof File)return jt(e,t);if("function"==typeof e.startsWith)return e.startsWith("data:")?function(e){const t=e.split(","),i=t[0].split(":")[1];let n=t[1];n=i.indexOf("base64")>=0?atob(n):decodeURI(n);const r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);let a;a=i.indexOf("gzip")>0?new Rt.Gunzip(r).decompress():r;return a}(e):(e.startsWith("https://drive.google.com")&&(e=xt(e)),Et(e)||e.startsWith("https://www.dropbox.com")?Zt.add((async function(){return Yt(e,t)})):Yt(e,t));throw Error(`url must be either a 'File', 'string', 'function', or 'Promise'.  Actual type: ${i}`)}async function Yt(e,t){e=function(e){return e.includes("//www.dropbox.com")?e.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):e.includes("//drive.google.com")?xt(e):e.includes("//www.broadinstitute.org/igvdata")?e.replace("//www.broadinstitute.org/igvdata","//data.broadinstitute.org/igvdata"):e.includes("//igvdata.broadinstitute.org")?e.replace("//igvdata.broadinstitute.org","https://dn7ywbm9isq8j.cloudfront.net"):e.startsWith("ftp://ftp.ncbi.nlm.nih.gov/geo")?e.replace("ftp://","https://"):e}(e);let i=(t=t||{}).oauthToken||function(e){const t=Dt(e)?void 0:Mt(e).host;let i=Kt.getToken(t);if(i)return i;if(void 0===t){const e=Jt();if(e&&e.expires_at>Date.now())return e.access_token}}(e);return i&&(i=await("function"==typeof i?i():i)),new Promise((function(n,r){Dt(e)&&(Ct(e)&&(e=Bt(e)),Et(e=function(e){let t=qt.apiKey;t||"undefined"==typeof gapi||(t=gapi.apiKey);if(void 0!==t&&!e.includes("key=")){const i=e.includes("?")?"&":"?";e=e+i+"key="+t}return e}(e))&&function(e){if(e.includes("supportsTeamDrive"))return e;{const t=e.includes("?")?"&":"?";e=e+t+"supportsTeamDrive=true"}}(e),i||(i=Jt()));const a=t.headers||{};i&&function(e,t){t&&(e["Cache-Control"]="no-cache",e.Authorization="Bearer "+t)}(a,i);const s=t.range,o=navigator.userAgent.indexOf("Chrome")>-1;0===navigator.vendor.indexOf("Apple")&&/\sSafari\//.test(navigator.userAgent),s&&o&&!function(e){return e.indexOf("X-Amz-Signature")>-1}(e)&&(e+=e.includes("?")?"&":"?",e+="someRandomSeed="+Math.random().toString(36));const l=new XMLHttpRequest,h=t.sendData||t.body,f=t.method||(h?"POST":"GET"),c=t.responseType,u=t.contentType,p=t.mimeType;if(l.open(f,e),s){var d=s.size?s.start+s.size-1:"";l.setRequestHeader("Range","bytes="+s.start+"-"+d)}if(u&&l.setRequestHeader("Content-Type",u),p&&l.overrideMimeType(p),c&&(l.responseType=c),a)for(let e of Object.keys(a)){const t=a[e];l.setRequestHeader(e,t)}!0===t.withCredentials&&(l.withCredentials=!0),l.onload=async function(i){0===l.status||l.status>=200&&l.status<=300?s&&206!==l.status&&0!==s.start?(l.response.length>1e5&&alert(`Warning: Range header ignored for URL: ${e}.  This can have performance impacts.`),n(l.response.slice(s.start,s.start+s.size))):n(l.response):"undefined"==typeof gapi||404!==l.status&&401!==l.status&&403!==l.status||!Dt(e)||t.retries?403===l.status?g("Access forbidden: "+e):416===l.status?g("Unsatisfiable range"):g(l.status):w()},l.onerror=function(i){Dt(e)&&!t.retries&&w(),g("Error accessing resource: "+e+" Status: "+l.status)},l.ontimeout=function(e){g("Timed out")},l.onabort=function(e){r(e)};try{l.send(h)}catch(e){r(e)}function g(e){if(!r)throw e;r(e)}async function w(){try{const i=await async function(e){if(It()){const t=function(e){return Et(e)?"https://www.googleapis.com/auth/drive.file":Ct(e)?"https://www.googleapis.com/auth/devstorage.read_only":"https://www.googleapis.com/auth/userinfo.profile"}(e),i=await zt(t);return i?i.access_token:void 0}throw Error("Authorization is required, but Google oAuth has not been initalized. Contact your site administrator for assistance.")}(e);t.retries=1,t.oauthToken=i;const r=await Wt(e,t);n(r)}catch(e){if(e.error){const t=e.error.startsWith("popup_blocked")?"Google login popup blocked by browser.":e.error;alert(t)}else g(e)}}}))}async function jt(e,t){let i=t&&t.range?e.slice(t.range.start,t.range.start+t.range.size):e;return"arraybuffer"===t.responseType?Vt(i):new Promise((function(t,n){const r=new FileReader;r.onload=function(e){t(r.result)},r.onerror=function(t){console.error("reject uploading local file "+e.name),n(null,r)},r.readAsBinaryString(i),console.warn("Deprecated method used: readAsBinaryString")}))}async function Vt(e){return"function"==typeof e.arrayBuffer?e.arrayBuffer():new Promise((function(t,i){const n=new FileReader;n.onload=function(e){t(n.result)},n.onerror=function(e){console.error("reject uploading local file "+localfile.name),i(null,n)},n.readAsArrayBuffer(e)}))}async function Xt(e){return"function"==typeof e.text?e.text():new Promise((function(t,i){const n=new FileReader;n.onload=function(e){t(n.result)},n.onerror=function(e){console.error("reject uploading local file "+localfile.name),i(null,n)},n.readAsText(e)}))}function Jt(){if(It()){const e=function(){let e=gapi.auth2.getAuthInstance().currentUser.get();if(e&&e.isSignedIn()){const{access_token:t,expires_at:i}=e.getAuthResponse();return{access_token:t,expires_at:i}}}();return e?e.access_token:void 0}}function Qt(e,t){if(3===t&&e.byteLength>2){const i=new Uint8Array(e,0,2);31===i[0]&&139===i[1]&&(t=1)}let i;if(1===t){i=new Rt.Gunzip(new Uint8Array(e)).decompress()}else i=2===t?function(e,t){const i=[];let n=0,r=0;for(t=t||e.byteLength-18;n<t;)try{const t=new Uint8Array(e,n,18),a=t[11]<<8|t[10],s=(t[12],t[13],t[15],t[14],1+(t[17]<<8|t[16])),o=12+a+n,l=e.byteLength-o,h=s-a-19;if(l<h||h<=0)break;const f=new Uint8Array(e,o,h),c=new Rt.RawInflate(f),u=c.decompress();n+=c.ip+26,r+=u.byteLength,i.push(u)}catch(e){console.error(e);break}if(1===i.length)return i[0];{const e=new Uint8Array(r);let t=0;for(let n=0;n<i.length;++n){var a=new Uint8Array(i[n]);Ht(a,0,e,t,a.length),t+=a.length}return e}}(e):new Uint8Array(e);return"TextDecoder"in function(){if("undefined"!=typeof self)return self;return"undefined"!=typeof global?global:window}()?(new TextDecoder).decode(i):function(e){var t="",i=0;for(;i<e.length;){var n=e[i],r=0,a=0;if(n<=127?(r=0,a=255&n):n<=223?(r=1,a=31&n):n<=239?(r=2,a=15&n):n<=244&&(r=3,a=7&n),e.length-i-r>0)for(var s=0;s<r;)a=a<<6|63&(n=e[i+s+1]),s+=1;else a=65533,r=e.length-i;t+=String.fromCodePoint(a),i+=r+1}return t}(i)}var ei={color:1};ei.parent=ei,ei.left=ei,ei.right=ei;const ti=new Set(["\t",","]);class ii{constructor(e){this.columns=e.columns,this.columnDefs=e.columnDefs,this.rowHandler=e.rowHandler,this.delimiter=void 0,e.delimiter&&(this.delimiter=e.delimiter),e.data?this.data=e.data:(this.url=e.url,this.isJSON=e.isJSON||!1,this.parser=e.parser,this.filter=e.filter,this.sort=e.sort)}async tableColumns(){return this.columns}async tableData(){if(void 0===this.data){let e;try{const t=this.url;e=await fetch(t)}catch(e){return void console.error(e)}if(e){const t=await e.text();let i;return this.parser?i=this.parser.parse(t):this.isJSON?(i=JSON.parse(t),"function"==typeof this.filter&&(i=i.filter(this.filter))):i=this.parseTabData(t,this.filter),"function"==typeof this.sort&&i.sort(this.sort),i}}else{if(Array.isArray(this.data))return this.data;if("json"===ii.getExtension(this.data)||ti.has(ni(this.data,this.delimiter))){const e=ii.getExtension(this.data),t=ni(this.data,this.delimiter);let i;try{i="json"===e?await qt.loadJson(this.data):await qt.loadString(this.data)}catch(e){return void console.error(e)}if(i){if("json"===e)return i;if(t)switch(t){case"\t":return this.parseTabData(i);case",":return function(e){const t=e.split("\n"),i=t.shift().split(",").map((e=>e.trim()));return t.map((e=>{const t=e.split(",").map(((e,t)=>[i[t],e.trim()]));return Object.fromEntries(new Map(t))}))}(i)}}}}}parseTabData(e,t){const i="string"==typeof(n=e)||n instanceof String?new vt(n):new kt(n);var n;const r=i.nextLine().split("\t"),a=[];let s;for(;s=i.nextLine();){const e={},i=s.split("\t");if(i.length!==r.length)throw Error("Number of values must equal number of headers in file "+this.url);for(let t=0;t<r.length;t++)e[r[t]]=i[t];(void 0===t||t(e))&&a.push(e)}return a}static getExtension(e){let t,i=(e instanceof File?e.name:e).toLowerCase();return t=i.indexOf("?"),t>0&&(i=i.substr(0,t)),t=i.lastIndexOf("."),t<0?i:i.substr(1+t)}}function ni(e,t){return t||function(e){switch(e){case"tab":return"\t";case"csv":return",";default:return}}(ii.getExtension(e))}class ri{constructor(e){this.datasource=e.datasource,this.okHandler=e.okHandler,this.pageLength=e.pageLength||10,e.selectionStyle?this.select={style:e.selectionStyle}:this.select=!0;const t=e.id,i=e.title||"",n=e.parent?$(e.parent):$("body"),r=$(`\n        <div id="${t}" class="modal fade">\n        \n            <div class="modal-dialog modal-xl">\n        \n                <div class="modal-content">\n        \n                    <div class="modal-header">\n                        <div class="modal-title">${i}</div>\n                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                            <span aria-hidden="true">&times;</span>\n                        </button>\n                    </div>\n        \n                    <div class="modal-body">\n        \n                        <div id="${t}-spinner" class="spinner-border" style="display: none;">\n                            \x3c!-- spinner --\x3e\n                        </div>\n        \n                        <div id="${t}-datatable-container">\n        \n                        </div>\n                        \n                        \x3c!-- description --\x3e\n                        <div>\n                        </div>\n                    </div>\n        \n                    <div class="modal-footer">\n                        <button type="button" class="btn btn-sm btn-outline-secondary" data-dismiss="modal">Cancel</button>\n                        <button type="button" class="btn btn-sm btn-secondary" data-dismiss="modal">OK</button>\n                    </div>\n        \n                </div>\n        \n            </div>\n        \n        </div>\n    `);n.append(r),this.$modal=r,this.$datatableContainer=r.find(`#${t}-datatable-container`),this.$spinner=r.find(`#${t}-spinner`);const a=r.find(".modal-footer button:nth-child(2)");r.on("shown.bs.modal",(e=>{this.buildTable()})),r.on("hidden.bs.modal",(e=>{$(e.relatedTarget).find("tr.selected").removeClass("selected")})),a.on("click",(e=>{const t=this.getSelectedTableRowsData.call(this,this.$dataTable.$("tr.selected"));t&&this.okHandler&&this.okHandler(t)}))}setTitle(e){this.$modal.find(".modal-title").text(`${e}`)}setDescription(e){this.$modal.find(".modal-body").children().last().html(`${e}`)}remove(){this.$modal.remove()}setDatasource(e){this.datasource=e,this.$datatableContainer.empty(),this.$table=void 0}async buildTable(){if(!this.$table&&this.datasource){this.$table=$('<table class="display"></table>'),this.$datatableContainer.append(this.$table);try{this.startSpinner();const e=await this.datasource.tableData(),t=await this.datasource.tableColumns(),i=this.datasource.columnDefs,n={data:e,columns:t.map((e=>i&&i[e]?Object.assign({},i[e],{data:e}):{title:e,data:e})),pageLength:this.pageLength,select:this.select,autoWidth:!1,paging:!0,scrollX:!0,scrollY:"400px"};this.api=this.$table.DataTable(n),this.api.columns.adjust().draw(),this.$dataTable=this.$table.dataTable(),this.tableData=e}catch(e){}finally{this.stopSpinner()}}}getSelectedTableRowsData(e){const t=this.tableData,i=[];if(e.length>0){e.removeClass("selected");const n=this.$table.api();return e.each((function(){const e=n.row(this).index();i.push(t[e])})),"function"==typeof this.datasource.rowHandler?i.map((e=>this.datasource.rowHandler(e))):i}}startSpinner(){this.$spinner&&this.$spinner.show()}stopSpinner(){this.$spinner&&this.$spinner.hide()}}function ai(e,t){const i="other"===t?".other.txt":"signals"===t?".signals.txt":void 0;return{isJSON:!1,url:`https://s3.amazonaws.com/igv.org.app/encode/${oi(e)}${i}`,sort:li,columns:["Biosample","AssayType","Target","BioRep","TechRep","OutputType","Format","Lab","Accession","Experiment"],columnDefs:{AssayType:{title:"Assay Type"},OutputType:{title:"Output Type"},BioRep:{title:"Bio Rep"},TechRep:{title:"Tech Rep"}},rowHandler:e=>({name:function(e){let t=e.Biosample||"";e.Target&&(t+=" "+e.Target);"chip-seq"!==e.AssayType.toLowerCase()&&(t+=" "+e.AssayType);return t}(e),url:`https://www.encodeproject.org${e.HREF}`,color:function(e){const t=e.toLowerCase();return t.startsWith("h3k4")?"rgb(0,150,0)":t.startsWith("h3k27")?"rgb(200,0,0)":t.startsWith("h3k36")?"rgb(0,0,150)":t.startsWith("h3k9")?"rgb(100,0,0)":"ctcf"===t?"black":void 0}(e.Target)})}}function si(e){const t=new Set(["ce10","ce11","dm3","dm6","GRCh38","hg19","mm9","mm10"]),i=oi(e);return t.has(i)}function oi(e){switch(e){case"hg38":return"GRCh38";case"CRCh37":return"hg19";case"GRCm38":return"mm10";case"NCBI37":return"mm9";case"WBcel235":return"ce11";case"WS220":return"ce10";default:return e}}function li(e,t){var i,n,r,a,s,o;return i=e["Assay Type"],n=t["Assay Type"],r=e.Biosample,a=t.Biosample,s=e.Target,o=t.Target,i===n?r===a?s===o?0:s<o?-1:1:r<a?-1:1:i<n?-1:1}let hi,fi,ci,ui,pi=[];const di={selectionStyle:"multi",pageLength:100};function gi(e,t,i,n,r,a,s,o,l,h,f,c){const u=(e=>{const t=`<div id="${e}" class="modal">\n\n            <div class="modal-dialog modal-lg">\n    \n                <div class="modal-content">\n    \n                    <div class="modal-header">\n                        <div class="modal-title">Track URL</div>\n    \n                        <button type="button" class="close" data-dismiss="modal">\n                            <span>&times;</span>\n                        </button>\n    \n                    </div>\n    \n                    <div class="modal-body">\n                    </div>\n    \n                    <div class="modal-footer">\n                        <button type="button" class="btn btn-sm btn-outline-secondary" data-dismiss="modal">Cancel</button>\n                        <button type="button" class="btn btn-sm btn-secondary" data-dismiss="modal">OK</button>\n                    </div>\n    \n                </div>\n    \n            </div>\n\n        </div>`;return document.createRange().createContextualFragment(t).firstChild})(o);e.get(0).appendChild(u);let p={widgetParent:u.querySelector(".modal-body"),dataTitle:"Track",indexTitle:"Index",mode:"url",fileLoadManager:new nt,dataOnly:!1,doURL:!0};hi=new at(p),gt(hi,u,(async e=>{const t=e.retrievePaths();return await fi.loadPaths(t),!0})),r||a.parent().hide();fi=new ot({$localFileInput:i,$dropboxButton:n,$googleDriveButton:r?a:void 0,fileLoadHandler:c,multipleFileSelection:!0});for(let e of s){const t={id:e,title:"ENCODE",selectionStyle:"multi",pageLength:100,okHandler:c};pi.push(new ri(t))}if(ci=new ri({id:"igv-custom-modal",title:"UNTITLED",okHandler:c,...di}),l){ui=$(`<div id="${l}" class="modal">\n\n                <div class="modal-dialog modal-lg">\n    \n                    <div class="modal-content">\n    \n                        <div class="modal-header">\n                            <div class="modal-title"></div>\n                            <button type="button" class="close" data-dismiss="modal">\n                                <span>&times;</span>\n                            </button>\n                        </div>\n            \n                        <div class="modal-body">\n                            <div class="form-group">\n                                <select id="${`${l}-select`}" class="form-control" multiple></select>\n                            </div>\n                            <div id="igv-widgets-generic-select-modal-footnotes"></div>\n                        </div>\n                        \n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-sm btn-outline-secondary" data-dismiss="modal">Cancel</button>\n                            <button type="button" class="btn btn-sm btn-secondary" data-dismiss="modal">OK</button>\n                        </div>\n    \n                    </div>\n    \n                </div>\n\n            </div>`),e.append(ui);const t=ui.find("select");ui.find(".modal-footer button:nth-child(1)").on("click",(()=>ui.modal("hide")));const i=ui.find(".modal-footer button:nth-child(2)"),n=()=>{const e=[];t.find("option:selected").each((function(){e.push($(this).data("track")),$(this).removeAttr("selected")})),e.length>0&&c(e),ui.modal("hide")};i.on("click",n),ui.get(0).addEventListener("keypress",(e=>{"Enter"===e.key&&n()}))}}async function wi(e,t,i,n){const r="genome_specific_",a=n.find(".dropdown-divider");n.find("[id^=genome_specific_]").remove();const s=await async function(e,t){let i;try{i=await fetch(t)}catch(e){console.error(e)}let n;if(!i){const e=new Error("Error retrieving registry via getPathsWithTrackRegistryFile()");throw it.present(e.message),e}n=await i.json();return n[e]}(e,i);if(void 0===s)return void console.warn(`There are no tracks in the track registryy for genome ${e}`);let o=[];try{o=await Promise.all(s.map((e=>fetch(e))))}catch(e){it.present(e.message)}let l=[];try{l=await Promise.all(o.map((e=>e.json())))}catch(e){it.present(e.message)}let h=[];for(let i of l){if(!0===si(e)&&"ENCODE"===i.type)pi[0].setDatasource(new ii(ai(e,"signals"))),pi[1].setDatasource(new ii(ai(e,"other")));else if(t&&"GTEX"===i.type){let e;try{e=await t.getTissueInfo(i.datasetId)}catch(e){it.present(e.message)}e&&(i.tracks=e.tissueInfo.map((e=>t.trackConfiguration(e))))}h.push(i)}for(let t of h.reverse())t.type&&"custom-data-modal"===t.type?(t.description&&ci.setDescription(t.description),mi(a,t.label,r).on("click",(()=>{ci.setDatasource(new ii(t)),ci.setTitle(t.label),ci.$modal.modal("show")}))):t.type&&"ENCODE"===t.type?!0===si(e)&&(t.description&&(pi[0].setDescription(t.description),pi[1].setDescription(t.description)),mi(a,"ENCODE Other",r).on("click",(()=>{pi[1].$modal.modal("show")})),mi(a,"ENCODE Signals",r).on("click",(()=>{pi[0].$modal.modal("show")}))):ui&&mi(a,t.label,r).on("click",(()=>{yi(ui,t),ui.modal("show")}))}function mi(e,t,i){const n=$("<button>",{class:"dropdown-item",type:"button"});return n.text(`${t} ...`),n.attr("id",`${i}${t.toLowerCase().split(" ").join("_")}`),n.insertAfter(e),n}function yi(e,t){e.find(".modal-title").text(`${t.label}`);let i=e.find("select");i.empty(),t.tracks.reduce(((e,t)=>{const n=$("<option>",{value:t.name,text:t.name});return i.append(n),n.data("track",t),e.append(n),e}),i),t.description&&e.find("#igv-widgets-generic-select-modal-footnotes").html(t.description)}const bi=()=>window.btoa('<svg width="75px" height="64px" viewBox="0 0 75 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <title>Shape</title>\n        <desc>Created with Sketch.</desc>\n        <defs></defs>\n        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g id="dropbox" fill="#0061FF" fill-rule="nonzero">\n                <path d="M37.6,12 L18.8,24 L37.6,36 L18.8,48 L1.42108547e-14,35.9 L18.8,23.9 L1.42108547e-14,12 L18.8,0 L37.6,12 Z M18.7,51.8 L37.5,39.8 L56.3,51.8 L37.5,63.8 L18.7,51.8 Z M37.6,35.9 L56.4,23.9 L37.6,12 L56.3,0 L75.1,12 L56.3,24 L75.1,36 L56.3,48 L37.6,35.9 Z" id="Shape"></path>\n            </g>\n        </g>\n    </svg>'),vi=()=>window.btoa('<svg viewBox="0 0 139 120.4" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><radialGradient id="a" cx="-254.81979" cy="705.83588" gradientTransform="matrix(2.827 1.6322 -1.6322 2.827 2092.1199 -1494.5786)" gradientUnits="userSpaceOnUse" r="82.978401"><stop offset="0" stop-color="#4387fd"/><stop offset=".65" stop-color="#3078f0"/><stop offset=".9099" stop-color="#2b72ea"/><stop offset="1" stop-color="#286ee6"/></radialGradient><radialGradient id="b" cx="-254.8174" cy="705.83691" gradientTransform="matrix(2.827 1.6322 -1.6322 2.827 2092.1199 -1494.5786)" gradientUnits="userSpaceOnUse" r="82.973"><stop offset="0" stop-color="#ffd24d"/><stop offset="1" stop-color="#f6c338"/></radialGradient><path d="m24.2 120.4-24.2-41.9 45.3-78.5 24.2 41.9z" fill="#0da960"/><path d="m24.2 120.4 24.2-41.9h90.6l-24.2 41.9z" fill="url(#a)"/><path d="m139 78.5h-48.4l-45.3-78.5h48.4z" fill="url(#b)"/><path d="m69.5 78.5h-21.1l10.5-18.3-34.7 60.2z" fill="#2d6fdd"/><path d="m90.6 78.5h48.4l-58.9-18.3z" fill="#e5b93c"/><path d="m58.9 60.2 10.6-18.3-24.2-41.9z" fill="#0c9b57"/></svg>');if("undefined"!=typeof document){function e(e){for(let t of document.styleSheets)if(t=t.href?t.href.replace(/^.*[\\\/]/,""):"",t===e)return!0;return!1}e("igv-widgets.css")||((ki=document.createElement("style")).setAttribute("type","text/css"),ki.innerHTML='.igv-widgets-alert-dialog-container {\n  box-sizing: content-box;\n  position: absolute;\n  z-index: 2048;\n  top: 50%;\n  left: 50%;\n  width: 400px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  outline: none;\n  font-family: "Open Sans", sans-serif;\n  font-size: 15px;\n  font-weight: 400;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center; }\n  .igv-widgets-alert-dialog-container > div:first-child {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-widgets-alert-dialog-container > div:first-child div:first-child {\n      padding-left: 8px; }\n  .igv-widgets-alert-dialog-container #igv-widgets-alert-dialog-body {\n    color: #373737;\n    width: 100%;\n    height: calc(100% - 24px - 64px);\n    overflow-y: scroll; }\n    .igv-widgets-alert-dialog-container #igv-widgets-alert-dialog-body #igv-widgets-alert-dialog-body-copy {\n      cursor: pointer;\n      margin: 16px;\n      width: auto;\n      height: auto;\n      overflow-wrap: break-word;\n      word-break: break-word;\n      background-color: white;\n      border: unset; }\n  .igv-widgets-alert-dialog-container > div:last-child {\n    width: 100%;\n    margin-bottom: 10px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center; }\n    .igv-widgets-alert-dialog-container > div:last-child div {\n      margin: unset;\n      width: 40px;\n      height: 30px;\n      line-height: 30px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: small;\n      font-weight: 400;\n      border-color: #2B81AF;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-widgets-alert-dialog-container > div:last-child div:hover {\n      cursor: pointer;\n      border-color: #25597f;\n      background-color: #25597f; }\n\n.igv-file-load-widget-container {\n  position: relative;\n  border-color: transparent;\n  width: 100%;\n  color: #7F7F7F;\n  font-family: "Open Sans", sans-serif;\n  font-size: 0.875rem;\n  font-weight: 200;\n  border-style: solid;\n  border-width: thin;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-file-load-widget-container .igv-file-load-widget-header {\n    width: 100%;\n    height: 24px;\n    background-color: #bfbfbf;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center; }\n    .igv-file-load-widget-container .igv-file-load-widget-header div {\n      height: 24px;\n      width: 16px;\n      margin-right: 6px;\n      text-align: center;\n      line-height: 24px;\n      color: #373737; }\n    .igv-file-load-widget-container .igv-file-load-widget-header div:hover {\n      cursor: pointer; }\n  .igv-file-load-widget-container .igv-flw-input-container {\n    width: 95%;\n    margin-top: 24px;\n    margin-bottom: 0;\n    display: flex;\n    flex-flow: column;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-file-load-widget-container .igv-flw-input-container .igv-flw-input-row {\n      height: 36px;\n      width: 100%;\n      margin-top: 8px;\n      padding-top: 4px;\n      padding-bottom: 4px;\n      display: flex;\n      flex-flow: row;\n      flex-wrap: nowrap;\n      justify-content: flex-start;\n      align-items: center;\n      border-color: white;\n      border-style: solid;\n      border-width: thin;\n      border-radius: calc(2 * 2px); }\n      .igv-file-load-widget-container .igv-flw-input-container .igv-flw-input-row .igv-flw-input-label {\n        color: #6c757c;\n        font-weight: 400;\n        width: 136px;\n        height: 36px;\n        line-height: 36px;\n        text-align: left; }\n      .igv-file-load-widget-container .igv-flw-input-container .igv-flw-input-row input {\n        display: block;\n        height: 100%;\n        width: 100%;\n        padding-left: 4px;\n        color: #373737;\n        font-size: 0.875rem;\n        font-family: "Open Sans", sans-serif;\n        font-weight: 400;\n        text-align: left;\n        outline: none;\n        border-style: solid;\n        border-width: thin;\n        border-color: #dee2e6;\n        border-radius: .25rem;\n        background-color: white; }\n      .igv-file-load-widget-container .igv-flw-input-container .igv-flw-input-row input {\n        height: calc(36px - 12px); }\n      .igv-file-load-widget-container .igv-flw-input-container .igv-flw-input-row .igv-flw-file-chooser-container {\n        display: flex;\n        flex-flow: row;\n        justify-content: center;\n        align-items: center;\n        width: 130px;\n        height: calc(36px - 8px);\n        border-color: #6c757c;\n        border-style: solid;\n        border-width: thin;\n        border-radius: calc(2 * 2px);\n        background-color: white; }\n        .igv-file-load-widget-container .igv-flw-input-container .igv-flw-input-row .igv-flw-file-chooser-container label {\n          display: block;\n          margin: unset; }\n        .igv-file-load-widget-container .igv-flw-input-container .igv-flw-input-row .igv-flw-file-chooser-container label.igv-flw-label-color {\n          color: #6c757c; }\n        .igv-file-load-widget-container .igv-flw-input-container .igv-flw-input-row .igv-flw-file-chooser-container label.igv-flw-label-color-hover {\n          cursor: pointer; }\n        .igv-file-load-widget-container .igv-flw-input-container .igv-flw-input-row .igv-flw-file-chooser-container input.igv-flw-file-chooser-input {\n          width: 0.1px;\n          height: 0.1px;\n          opacity: 0;\n          overflow: hidden;\n          position: absolute;\n          z-index: -1; }\n      .igv-file-load-widget-container .igv-flw-input-container .igv-flw-input-row .igv-flw-file-chooser-container:hover {\n        cursor: pointer;\n        background-color: #6c757c; }\n      .igv-file-load-widget-container .igv-flw-input-container .igv-flw-input-row .igv-flw-drag-drop-target {\n        cursor: default;\n        margin-left: 8px;\n        width: 120px;\n        height: calc(36px - 8px);\n        line-height: calc(36px - 8px);\n        text-align: center;\n        border-color: #7F7F7F;\n        border-style: dashed;\n        border-width: thin;\n        border-radius: calc(2 * 2px); }\n      .igv-file-load-widget-container .igv-flw-input-container .igv-flw-input-row .igv-flw-local-file-name-container {\n        max-width: 400px;\n        height: 36px;\n        color: #373737;\n        line-height: 36px;\n        text-align: left;\n        font-weight: 400;\n        margin-left: 8px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis; }\n    .igv-file-load-widget-container .igv-flw-input-container .igv-flw-input-row-hover-state {\n      background-color: #efefef;\n      border-color: #7F7F7F; }\n  .igv-file-load-widget-container .igv-flw-error-message-container {\n    margin-top: 8px;\n    width: 95%;\n    height: 24px;\n    padding-left: 8px;\n    color: white;\n    font-size: 0.875rem;\n    background-color: rgba(59, 92, 127, 0.5);\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center; }\n    .igv-file-load-widget-container .igv-flw-error-message-container div:first-child.igv-flw-error-message {\n      height: 24px;\n      width: 600px;\n      font-style: italic;\n      line-height: 24px;\n      text-align: left; }\n    .igv-file-load-widget-container .igv-flw-error-message-container div:last-child {\n      height: 24px;\n      width: 16px;\n      margin-right: 6px;\n      text-align: center;\n      line-height: 24px;\n      color: #373737; }\n    .igv-file-load-widget-container .igv-flw-error-message-container div:hover {\n      cursor: pointer; }\n  .igv-file-load-widget-container .igv-file-load-widget-ok-cancel {\n    width: 100%;\n    height: 28px;\n    margin-top: 32px;\n    color: white;\n    font-size: 0.875rem;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center; }\n    .igv-file-load-widget-container .igv-file-load-widget-ok-cancel div {\n      width: 75px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border-color: transparent;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 2px;\n      margin-right: 16px; }\n    .igv-file-load-widget-container .igv-file-load-widget-ok-cancel div:first-child {\n      margin-right: 22px;\n      background-color: #c4c4c4; }\n    .igv-file-load-widget-container .igv-file-load-widget-ok-cancel div:first-child:hover {\n      cursor: pointer;\n      background-color: #7f7f7f; }\n    .igv-file-load-widget-container .igv-file-load-widget-ok-cancel div:last-child {\n      background-color: #5ea4e0; }\n    .igv-file-load-widget-container .igv-file-load-widget-ok-cancel div:last-child:hover {\n      cursor: pointer;\n      background-color: #3b5c7f; }\n\n/*# sourceMappingURL=igv-widgets.css.map */\n',document.head.insertBefore(ki,document.head.childNodes[document.head.childNodes.length-1]))}var ki;const Ri={};let Si,Ti;async function Di(e,t,i){try{const n=await async function(e){if(void 0===e)return;if(Array.isArray(e))return Ci(e);{let t;try{t=await fetch(e)}catch(e){it.present(e.message)}if(t){return Ci(await t.json())}}}(t);n&&function({browser:e,genomeMap:t,$dropdown_menu:i}){let n=i.find(".dropdown-divider");n.nextAll().remove();for(let[i,a]of t){const t=r(a.name);t.insertAfter(n),t.data("id",i);const s=`click.genome-dropdown.${i}`;t.on(s,(async()=>{t.data("id")!==e.genome.id&&await Ei(a)}))}function r(e){let t=$("<button>",{class:"dropdown-item",type:"button"});return t.text(e),t}}({browser:e,genomeMap:n,$dropdown_menu:i})}catch(e){it.present(e.message)}}function Ci(e){const t=new Map;if(!0===Array.isArray(e))for(let i of e.reverse())t.set(i.id,i);else t.set(e.id,e);return t}async function Ei(e){let t;try{e.tracks?e.tracks.push({type:"sequence",order:Number.MIN_SAFE_INTEGER}):e.tracks=[{type:"sequence",order:Number.MIN_SAFE_INTEGER}],t=await Ri.browser.loadGenome(e),t.id&&localStorage.setItem("genomeID",t.id)}catch(e){console.error(e),it.present(e)}t&&M.globalBus.post({type:"DidChangeGenome",data:t.id})}function Bi(e){let t;var i,n;return"function"==typeof e?t=e:e.provider?"tinyURL"===e.provider?t=function({endpoint:e}){return e=e||"https://2et6uxfezb.execute-api.us-east-1.amazonaws.com/dev/tinyurl/",async function(t){const i=encodeURIComponent(t),n=await fetch(`${e}${i}`);if(n.ok)return n.text();throw new Error(n.statusText)}}(e):"bitly"===e.provider&&e.apiKey?t=(n=e.apiKey)&&"BITLY_TOKEN"!==n?async function(e){e.startsWith("http://localhost")&&(e=e.replace("localhost","192.168.1.11"));let t="https://api-ssl.bitly.com/v3/shorten?access_token="+n+"&longUrl="+encodeURIComponent(e);return C.loadJson(t,{}).then((function(e){return e.data.url}))}:void 0:"google"===e.provider&&e.apiKey?t=(i=e.apiKey)&&"API_KEY"!==i?async function(e){const t="https://www.googleapis.com/urlshortener/v1/url?key="+i;return C.loadJson(t,{sendData:JSON.stringify({longUrl:e}),contentType:"application/json"}).then((function(e){return e.id}))}:void 0:it.present(new Error(`Unknown URL shortener provider: ${e.provider}`)):it.present(new Error("URL shortener object must either be an object specifying a provider and apiKey, or a function")),t&&(Ti={shortenURL:t}),t}function xi(e,t){return function(e){return Ti?Ti.shortenURL(e):Promise.resolve(e)}(e+"?sessionURL=blob:"+t)}$(document).ready((async()=>Ii(document.getElementById("igv-app-container"),igvwebConfig)));let Li,Ai=!1;async function Ii(e,t){it.init(e),$("#igv-app-version").text("IGV-Web app version 1.5.7"),$("#igv-igvjs-version").text(`igv.js version ${igv.version()}`);if((t.clientId||t.apiKey)&&("https:"===window.location.protocol||"localhost"===window.location.host))try{await u({client_id:t.clientId,apiKey:t.apiKey,scope:"https://www.googleapis.com/auth/userinfo.profile"}),await async function(){return gapi.auth2.getAuthInstance().signOut()}(),Ai=!0}catch(e){console.error(e),it.present(e.message)}if(t.genomes){let e=await async function(e){if(void 0===e)return;if(Array.isArray(e))return e;{let t;try{return t=await fetch(e),t.json()}catch(e){it.present(e.message)}}}(t.genomes);t.genomes=e,t.igvConfig.genomes=e}const i=t.igvConfig;if(t.restoreLastGenome){const e=localStorage.getItem("genomeID");e&&e!==i.genome&&(i.genome=e,i.tracks=[])}const n=await igv.createBrowser(e,i);n&&(Ri.browser=n,await async function(e,t,i){["track","genome"].forEach((e=>{let t;t=document.querySelector(`img#igv-app-${e}-dropbox-button-image`),t.src=`data:image/svg+xml;base64,${bi()}`,t=document.querySelector(`img#igv-app-${e}-google-drive-button-image`),t.src=`data:image/svg+xml;base64,${vi()}`})),$("div#igv-session-dropdown-menu > :nth-child(1)").after((n="igv-app-dropdown-dropbox-session-file-button",`<div class="dropdown-item">\n                <div id="${n}" class="igv-app-dropdown-item-cloud-storage">\n                    <div>Dropbox File</div>\n                    <div>\n                        <img src="data:image/svg+xml;base64,${bi()}" width="18" height="18">\n                    </div>\n                </div>\n            </div>`)),$("div#igv-session-dropdown-menu > :nth-child(2)").after((e=>`<div class="dropdown-item">\n                <div id="${e}" class="igv-app-dropdown-item-cloud-storage">\n                    <div>Google Drive File</div>\n                    <div>\n                        <img src="data:image/svg+xml;base64,${vi()}" width="18" height="18">\n                    </div>\n                </div>\n            </div>`)("igv-app-dropdown-google-drive-session-file-button"));var n;const r=$("#igv-main"),a={localFileInput:document.getElementById("igv-app-dropdown-local-genome-file-input"),dropboxButton:document.getElementById("igv-app-dropdown-dropbox-genome-file-button"),googleEnabled:Ai,googleDriveButton:document.getElementById("igv-app-dropdown-google-drive-genome-file-button"),loadHandler:async t=>{t.id!==e.genome.id&&await Ei(t)},igvxhr:C};(function({$igvMain:e,urlModalId:t,genomeFileLoad:i}){const n=$(mt(t,"Genome URL"));e.append(n);let r={widgetParent:n.find(".modal-body").get(0),dataTitle:"Genome",indexTitle:"Index",mode:"url",fileLoadManager:new nt,dataOnly:!1,doURL:!0};Si=new at(r),wt.configureModal(Si,n.get(0),(async e=>{try{await i.loadPaths(e.retrievePaths())}catch(e){console.error(e),it.present(e)}}))})({$igvMain:r,urlModalId:"igv-app-genome-from-url-modal",genomeFileLoad:new pt(a)}),await Di(e,i.genomes,$("#igv-app-genome-dropdown-menu"));const s=async t=>{try{await e.loadTrackList(t)}catch(e){console.error(e),it.present(e)}};gi(r,$("#igv-app-track-dropdown-menu"),$("#igv-app-dropdown-local-track-file-input"),$("#igv-app-dropdown-dropbox-track-file-button"),Ai,$("#igv-app-dropdown-google-drive-track-file-button"),["igv-app-encode-signal-modal","igv-app-encode-others-modal"],"igv-app-track-from-url-modal","igv-app-track-select-modal",0,i.trackRegistryFile,s);bt(r,"igv-webapp","igv-app-dropdown-local-session-file-input","igv-app-dropdown-dropbox-session-file-button","igv-app-dropdown-google-drive-session-file-button","igv-app-session-url-modal","igv-app-session-save-modal",Ai,(async t=>{try{await e.loadSession(t)}catch(e){console.error(e),it.present(e)}}),(()=>{try{return e.toJSON()}catch(e){return console.error(e),void it.present(e)}})),function({browser:e,saveModal:t}){const i="igv-app.svg",n=t.querySelector("input");$(t).on("show.bs.modal",(()=>n.value=i)),$(t).on("hidden.bs.modal",(()=>n.value=i));const r=()=>{let i=n.value;void 0===i||""===i?i=n.getAttribute("placeholder"):i.endsWith(".svg")||(i+=".svg"),$(t).modal("hide"),e.saveSVGtoFile({filename:i})};t.querySelector(".modal-footer button:nth-child(2)").addEventListener("click",r),n.addEventListener("keyup",(e=>{13===e.keyCode&&r()}));let a=t.querySelector(".modal-header button");a.addEventListener("click",(()=>$(t).modal("hide"))),a=t.querySelector(".modal-footer button:nth-child(1)"),a.addEventListener("click",(()=>$(t).modal("hide")))}({browser:e,saveModal:document.getElementById("igv-app-svg-save-modal")}),function({browser:e,container:t,modal:i,share_input:n,copy_link_button:r,tweet_button_container:a,email_button:s,qrcode_button:o,qrcode_image:l,embed_container:h,embed_button:f,embedTarget:c}){void 0===c&&(c=`https://igv.org/web/release/${igv.version()}/embed.html`),$(i).on("shown.bs.modal",(async()=>{let r=window.location.href.slice();const o=r.indexOf("?");let f;o>0&&(r=r.substring(0,o));try{f=e.compressedSession()}catch(e){it.present(e.message)}if(f){if(c){const e=function(e,t,i){return'<iframe src="'+`${t}?sessionURL=blob:${i}`+'" style="width:100%; height:'+(e.clientHeight+50)+'px"  allowfullscreen></iframe>'}(t,c,f),i=h.querySelector("textarea");i.value=e,i.select()}const e=await xi(r,f);n.value=e,n.select(),s.setAttribute("href",`mailto:?body=${e}`),l.innerHTML="",new ae(l,{width:128,height:128,correctLevel:ae.CorrectLevel.H}).makeCode(e),a&&(a.innerHTML="",window.twttr.widgets.createShareButton(e,a,{text:""}))}else $(i).modal("hide")})),$(i).on("hidden.bs.modal",(()=>{h.style.display="none",l.style.display="none"})),r.addEventListener("click",(()=>{n.select(),document.execCommand("copy")?$(i).modal("hide"):console.error("fail!")})),void 0===c?f.style.display="none":(h.querySelector("button").addEventListener("click",(()=>{h.querySelector("textarea").select(),document.execCommand("copy")?$(i).modal("hide"):console.error("fail!")})),f.addEventListener("click",(()=>{l.style.display="none","block"===h.style.display?h.style.display="none":h.style.display="block"})));o.addEventListener("click",(()=>{h.style.display="none","block"===l.style.display?l.style.display="none":l.style.display="block"}))}(function(e,t,{urlShortener:i,embedTarget:n}){let r;i&&(r=void 0!==Bi(i));let a=document.getElementById("igv-app-tweet-button-container");return r||(a.style.display="none"),{browser:e,container:t,modal:document.getElementById("igv-app-share-modal"),share_input:document.getElementById("igv-app-share-input"),copy_link_button:document.getElementById("igv-app-copy-link-button"),tweet_button_container:r?a:void 0,email_button:document.getElementById("igv-app-email-button"),qrcode_button:document.getElementById("igv-app-qrcode-button"),qrcode_image:document.getElementById("igv-app-qrcode-image"),embed_container:document.getElementById("igv-app-embed-container"),embed_button:document.getElementById("igv-app-embed-button"),embedTarget:n}}(e,t,i)),o=$("#igv-app-bookmark-button"),o.on("click",(e=>{let t;try{t=function(){let e,t,i;return t=window.location.href.slice(),i=t.indexOf("?"),e=(i>0?t.substring(0,i):t)+"?sessionURL=blob:"+Ri.browser.compressedSession(),e}()}catch(e){it.present(e.message)}if(t){window.history.pushState({},"IGV",t);const e=/Mac/i.test(navigator.userAgent)?"Cmd":"Ctrl";alert("A bookmark URL has been created. Press "+e+"+D to save.")}}));var o;const l=e=>{const{data:t}=e;Li!==t&&(Li=t,wi(t,void 0,i.trackRegistryFile,$("#igv-app-track-dropdown-menu")))};M.globalBus.subscribe("DidChangeGenome",l),M.globalBus.post({type:"DidChangeGenome",data:e.genome.id})}(n,e,t))}e.main=Ii,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=app_bundle-1.5.7.min.js.map
